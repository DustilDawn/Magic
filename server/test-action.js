var test=(()=>{var k2=Object.create;var co=Object.defineProperty;var D2=Object.getOwnPropertyDescriptor;var N2=Object.getOwnPropertyNames;var I2=Object.getPrototypeOf,O2=Object.prototype.hasOwnProperty;var Gu=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var st=(r,e)=>()=>(r&&(e=r(r=0)),e);var de=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Ye=(r,e)=>{for(var t in e)co(r,t,{get:e[t],enumerable:!0})},Vu=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of N2(e))!O2.call(r,i)&&i!==t&&co(r,i,{get:()=>e[i],enumerable:!(n=D2(e,i))||n.enumerable});return r};var rt=(r,e,t)=>(t=r!=null?k2(I2(r)):{},Vu(e||!r||!r.__esModule?co(t,"default",{value:r,enumerable:!0}):t,r)),Ju=r=>Vu(co({},"__esModule",{value:!0}),r);var Wu=de(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.BrowserRandomSource=void 0;var Yu=65536,Ga=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let n=0;n<t.length;n+=Yu)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,Yu)));return t}};uo.BrowserRandomSource=Ga});var Xt=de(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});function R2(r){for(var e=0;e<r.length;e++)r[e]=0;return r}Va.wipe=R2});var Ja=de(()=>{});var Xu=de(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.NodeRandomSource=void 0;var B2=Xt(),Ya=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Gu<"u"){let e=Ja();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=t[i];return(0,B2.wipe)(t),n}};ho.NodeRandomSource=Ya});var Zu=de(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.SystemRandomSource=void 0;var P2=Wu(),L2=Xu(),Wa=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new P2.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new L2.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};lo.SystemRandomSource=Wa});var Qu=de(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});function U2(r,e){var t=r>>>16&65535,n=r&65535,i=e>>>16&65535,s=e&65535;return n*s+(t*s+n*i<<16>>>0)|0}Lt.mul=Math.imul||U2;function $2(r,e){return r+e|0}Lt.add=$2;function F2(r,e){return r-e|0}Lt.sub=F2;function q2(r,e){return r<<e|r>>>32-e}Lt.rotl=q2;function H2(r,e){return r<<32-e|r>>>e}Lt.rotr=H2;function K2(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}Lt.isInteger=Number.isInteger||K2;Lt.MAX_SAFE_INTEGER=9007199254740991;Lt.isSafeInteger=function(r){return Lt.isInteger(r)&&r>=-Lt.MAX_SAFE_INTEGER&&r<=Lt.MAX_SAFE_INTEGER}});var Gn=de(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});var eh=Qu();function z2(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}He.readInt16BE=z2;function j2(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}He.readUint16BE=j2;function G2(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}He.readInt16LE=G2;function V2(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}He.readUint16LE=V2;function th(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}He.writeUint16BE=th;He.writeInt16BE=th;function rh(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}He.writeUint16LE=rh;He.writeInt16LE=rh;function Xa(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}He.readInt32BE=Xa;function Za(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}He.readUint32BE=Za;function Qa(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}He.readInt32LE=Qa;function ef(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}He.readUint32LE=ef;function po(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}He.writeUint32BE=po;He.writeInt32BE=po;function bo(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}He.writeUint32LE=bo;He.writeInt32LE=bo;function J2(r,e){e===void 0&&(e=0);var t=Xa(r,e),n=Xa(r,e+4);return t*4294967296+n-(n>>31)*4294967296}He.readInt64BE=J2;function Y2(r,e){e===void 0&&(e=0);var t=Za(r,e),n=Za(r,e+4);return t*4294967296+n}He.readUint64BE=Y2;function W2(r,e){e===void 0&&(e=0);var t=Qa(r,e),n=Qa(r,e+4);return n*4294967296+t-(t>>31)*4294967296}He.readInt64LE=W2;function X2(r,e){e===void 0&&(e=0);var t=ef(r,e),n=ef(r,e+4);return n*4294967296+t}He.readUint64LE=X2;function nh(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),po(r/4294967296>>>0,e,t),po(r>>>0,e,t+4),e}He.writeUint64BE=nh;He.writeInt64BE=nh;function ih(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),bo(r>>>0,e,t),bo(r/4294967296>>>0,e,t+4),e}He.writeUint64LE=ih;He.writeInt64LE=ih;function Z2(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=r/8+t-1;s>=t;s--)n+=e[s]*i,i*=256;return n}He.readUintBE=Z2;function Q2(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=t;s<t+r/8;s++)n+=e[s]*i,i*=256;return n}He.readUintLE=Q2;function em(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!eh.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=r/8+n-1;s>=n;s--)t[s]=e/i&255,i*=256;return t}He.writeUintBE=em;function tm(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!eh.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+r/8;s++)t[s]=e/i&255,i*=256;return t}He.writeUintLE=tm;function rm(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}He.readFloat32BE=rm;function nm(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}He.readFloat32LE=nm;function im(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}He.readFloat64BE=im;function sm(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}He.readFloat64LE=sm;function om(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r),e}He.writeFloat32BE=om;function am(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r,!0),e}He.writeFloat32LE=am;function fm(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r),e}He.writeFloat64BE=fm;function cm(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r,!0),e}He.writeFloat64LE=cm});var cn=de(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.randomStringForEntropy=Mt.randomString=Mt.randomUint32=Mt.randomBytes=Mt.defaultRandomSource=void 0;var um=Zu(),hm=Gn(),sh=Xt();Mt.defaultRandomSource=new um.SystemRandomSource;function tf(r,e=Mt.defaultRandomSource){return e.randomBytes(r)}Mt.randomBytes=tf;function lm(r=Mt.defaultRandomSource){let e=tf(4,r),t=(0,hm.readUint32LE)(e);return(0,sh.wipe)(e),t}Mt.randomUint32=lm;var oh="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function ah(r,e=oh,t=Mt.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let n="",i=e.length,s=256-256%i;for(;r>0;){let a=tf(Math.ceil(r*256/s),t);for(let f=0;f<a.length&&r>0;f++){let b=a[f];b<s&&(n+=e.charAt(b%i),r--)}(0,sh.wipe)(a)}return n}Mt.randomString=ah;function dm(r,e=oh,t=Mt.defaultRandomSource){let n=Math.ceil(r/(Math.log(e.length)/Math.LN2));return ah(n,e,t)}Mt.randomStringForEntropy=dm});var uh=de(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});var Ai=Gn(),Ei=Xt();Gr.DIGEST_LENGTH=64;Gr.BLOCK_SIZE=128;var ch=function(){function r(){this.digestLength=Gr.DIGEST_LENGTH,this.blockSize=Gr.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){Ei.wipe(this._buffer),Ei.wipe(this._tempHi),Ei.wipe(this._tempLo),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<Gr.BLOCK_SIZE&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(rf(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=rf(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,i=t/536870912|0,s=t<<3,a=t%128<112?128:256;this._buffer[n]=128;for(var f=n+1;f<a-8;f++)this._buffer[f]=0;Ai.writeUint32BE(i,this._buffer,a-8),Ai.writeUint32BE(s,this._buffer,a-4),rf(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,a),this._finished=!0}for(var f=0;f<this.digestLength/8;f++)Ai.writeUint32BE(this._stateHi[f],e,f*8),Ai.writeUint32BE(this._stateLo[f],e,f*8+4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){Ei.wipe(e.stateHi),Ei.wipe(e.stateLo),e.buffer&&Ei.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();Gr.SHA512=ch;var fh=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function rf(r,e,t,n,i,s,a){for(var f=t[0],b=t[1],x=t[2],y=t[3],w=t[4],k=t[5],N=t[6],C=t[7],T=n[0],q=n[1],D=n[2],F=n[3],Y=n[4],z=n[5],W=n[6],L=n[7],B,P,ee,_,c,p,h,o;a>=128;){for(var u=0;u<16;u++){var m=8*u+s;r[u]=Ai.readUint32BE(i,m),e[u]=Ai.readUint32BE(i,m+4)}for(var u=0;u<80;u++){var v=f,g=b,l=x,E=y,S=w,d=k,A=N,te=C,M=T,H=q,J=D,O=F,R=Y,K=z,j=W,Z=L;if(B=C,P=L,c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=(w>>>14|Y<<32-14)^(w>>>18|Y<<32-18)^(Y>>>41-32|w<<32-(41-32)),P=(Y>>>14|w<<32-14)^(Y>>>18|w<<32-18)^(w>>>41-32|Y<<32-(41-32)),c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,B=w&k^~w&N,P=Y&z^~Y&W,c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,B=fh[u*2],P=fh[u*2+1],c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,B=r[u%16],P=e[u%16],c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,ee=h&65535|o<<16,_=c&65535|p<<16,B=ee,P=_,c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=(f>>>28|T<<32-28)^(T>>>34-32|f<<32-(34-32))^(T>>>39-32|f<<32-(39-32)),P=(T>>>28|f<<32-28)^(f>>>34-32|T<<32-(34-32))^(f>>>39-32|T<<32-(39-32)),c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,B=f&b^f&x^b&x,P=T&q^T&D^q&D,c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,te=h&65535|o<<16,Z=c&65535|p<<16,B=E,P=O,c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=ee,P=_,c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,E=h&65535|o<<16,O=c&65535|p<<16,b=v,x=g,y=l,w=E,k=S,N=d,C=A,f=te,q=M,D=H,F=J,Y=O,z=R,W=K,L=j,T=Z,u%16===15)for(var m=0;m<16;m++)B=r[m],P=e[m],c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=r[(m+9)%16],P=e[(m+9)%16],c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,ee=r[(m+1)%16],_=e[(m+1)%16],B=(ee>>>1|_<<32-1)^(ee>>>8|_<<32-8)^ee>>>7,P=(_>>>1|ee<<32-1)^(_>>>8|ee<<32-8)^(_>>>7|ee<<32-7),c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,ee=r[(m+14)%16],_=e[(m+14)%16],B=(ee>>>19|_<<32-19)^(_>>>61-32|ee<<32-(61-32))^ee>>>6,P=(_>>>19|ee<<32-19)^(ee>>>61-32|_<<32-(61-32))^(_>>>6|ee<<32-6),c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,r[m]=h&65535|o<<16,e[m]=c&65535|p<<16}B=f,P=T,c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=t[0],P=n[0],c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,t[0]=f=h&65535|o<<16,n[0]=T=c&65535|p<<16,B=b,P=q,c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=t[1],P=n[1],c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,t[1]=b=h&65535|o<<16,n[1]=q=c&65535|p<<16,B=x,P=D,c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=t[2],P=n[2],c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,t[2]=x=h&65535|o<<16,n[2]=D=c&65535|p<<16,B=y,P=F,c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=t[3],P=n[3],c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,t[3]=y=h&65535|o<<16,n[3]=F=c&65535|p<<16,B=w,P=Y,c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=t[4],P=n[4],c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,t[4]=w=h&65535|o<<16,n[4]=Y=c&65535|p<<16,B=k,P=z,c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=t[5],P=n[5],c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,t[5]=k=h&65535|o<<16,n[5]=z=c&65535|p<<16,B=N,P=W,c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=t[6],P=n[6],c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,t[6]=N=h&65535|o<<16,n[6]=W=c&65535|p<<16,B=C,P=L,c=P&65535,p=P>>>16,h=B&65535,o=B>>>16,B=t[7],P=n[7],c+=P&65535,p+=P>>>16,h+=B&65535,o+=B>>>16,p+=c>>>16,h+=p>>>16,o+=h>>>16,t[7]=C=h&65535|o<<16,n[7]=L=c&65535|p<<16,s+=128,a-=128}return s}function pm(r){var e=new ch;e.update(r);var t=e.digest();return e.clean(),t}Gr.hash=pm});var mo=de(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.convertSecretKeyToX25519=We.convertPublicKeyToX25519=We.verify=We.sign=We.extractPublicKeyFromSecretKey=We.generateKeyPair=We.generateKeyPairFromSeed=We.SEED_LENGTH=We.SECRET_KEY_LENGTH=We.PUBLIC_KEY_LENGTH=We.SIGNATURE_LENGTH=void 0;var bm=cn(),us=uh(),bh=Xt();We.SIGNATURE_LENGTH=64;We.PUBLIC_KEY_LENGTH=32;We.SECRET_KEY_LENGTH=64;We.SEED_LENGTH=32;function we(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var mm=new Uint8Array(32);mm[0]=9;var of=we(),Mi=we([1]),gm=we([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),vm=we([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),hh=we([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),lh=we([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ym=we([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function un(r,e){for(let t=0;t<16;t++)r[t]=e[t]|0}function nf(r){let e=1;for(let t=0;t<16;t++){let n=r[t]+e+65535;e=Math.floor(n/65536),r[t]=n-e*65536}r[0]+=e-1+37*(e-1)}function mh(r,e,t){let n=~(t-1);for(let i=0;i<16;i++){let s=n&(r[i]^e[i]);r[i]^=s,e[i]^=s}}function hs(r,e){let t=we(),n=we();for(let i=0;i<16;i++)n[i]=e[i];nf(n),nf(n),nf(n);for(let i=0;i<2;i++){t[0]=n[0]-65517;for(let a=1;a<15;a++)t[a]=n[a]-65535-(t[a-1]>>16&1),t[a-1]&=65535;t[15]=n[15]-32767-(t[14]>>16&1);let s=t[15]>>16&1;t[14]&=65535,mh(n,t,1-s)}for(let i=0;i<16;i++)r[2*i]=n[i]&255,r[2*i+1]=n[i]>>8}function gh(r,e){let t=0;for(let n=0;n<32;n++)t|=r[n]^e[n];return(1&t-1>>>8)-1}function dh(r,e){let t=new Uint8Array(32),n=new Uint8Array(32);return hs(t,r),hs(n,e),gh(t,n)}function vh(r){let e=new Uint8Array(32);return hs(e,r),e[0]&1}function xm(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function Vn(r,e,t){for(let n=0;n<16;n++)r[n]=e[n]+t[n]}function Yn(r,e,t){for(let n=0;n<16;n++)r[n]=e[n]-t[n]}function et(r,e,t){let n,i,s=0,a=0,f=0,b=0,x=0,y=0,w=0,k=0,N=0,C=0,T=0,q=0,D=0,F=0,Y=0,z=0,W=0,L=0,B=0,P=0,ee=0,_=0,c=0,p=0,h=0,o=0,u=0,m=0,v=0,g=0,l=0,E=t[0],S=t[1],d=t[2],A=t[3],te=t[4],M=t[5],H=t[6],J=t[7],O=t[8],R=t[9],K=t[10],j=t[11],Z=t[12],ce=t[13],ie=t[14],V=t[15];n=e[0],s+=n*E,a+=n*S,f+=n*d,b+=n*A,x+=n*te,y+=n*M,w+=n*H,k+=n*J,N+=n*O,C+=n*R,T+=n*K,q+=n*j,D+=n*Z,F+=n*ce,Y+=n*ie,z+=n*V,n=e[1],a+=n*E,f+=n*S,b+=n*d,x+=n*A,y+=n*te,w+=n*M,k+=n*H,N+=n*J,C+=n*O,T+=n*R,q+=n*K,D+=n*j,F+=n*Z,Y+=n*ce,z+=n*ie,W+=n*V,n=e[2],f+=n*E,b+=n*S,x+=n*d,y+=n*A,w+=n*te,k+=n*M,N+=n*H,C+=n*J,T+=n*O,q+=n*R,D+=n*K,F+=n*j,Y+=n*Z,z+=n*ce,W+=n*ie,L+=n*V,n=e[3],b+=n*E,x+=n*S,y+=n*d,w+=n*A,k+=n*te,N+=n*M,C+=n*H,T+=n*J,q+=n*O,D+=n*R,F+=n*K,Y+=n*j,z+=n*Z,W+=n*ce,L+=n*ie,B+=n*V,n=e[4],x+=n*E,y+=n*S,w+=n*d,k+=n*A,N+=n*te,C+=n*M,T+=n*H,q+=n*J,D+=n*O,F+=n*R,Y+=n*K,z+=n*j,W+=n*Z,L+=n*ce,B+=n*ie,P+=n*V,n=e[5],y+=n*E,w+=n*S,k+=n*d,N+=n*A,C+=n*te,T+=n*M,q+=n*H,D+=n*J,F+=n*O,Y+=n*R,z+=n*K,W+=n*j,L+=n*Z,B+=n*ce,P+=n*ie,ee+=n*V,n=e[6],w+=n*E,k+=n*S,N+=n*d,C+=n*A,T+=n*te,q+=n*M,D+=n*H,F+=n*J,Y+=n*O,z+=n*R,W+=n*K,L+=n*j,B+=n*Z,P+=n*ce,ee+=n*ie,_+=n*V,n=e[7],k+=n*E,N+=n*S,C+=n*d,T+=n*A,q+=n*te,D+=n*M,F+=n*H,Y+=n*J,z+=n*O,W+=n*R,L+=n*K,B+=n*j,P+=n*Z,ee+=n*ce,_+=n*ie,c+=n*V,n=e[8],N+=n*E,C+=n*S,T+=n*d,q+=n*A,D+=n*te,F+=n*M,Y+=n*H,z+=n*J,W+=n*O,L+=n*R,B+=n*K,P+=n*j,ee+=n*Z,_+=n*ce,c+=n*ie,p+=n*V,n=e[9],C+=n*E,T+=n*S,q+=n*d,D+=n*A,F+=n*te,Y+=n*M,z+=n*H,W+=n*J,L+=n*O,B+=n*R,P+=n*K,ee+=n*j,_+=n*Z,c+=n*ce,p+=n*ie,h+=n*V,n=e[10],T+=n*E,q+=n*S,D+=n*d,F+=n*A,Y+=n*te,z+=n*M,W+=n*H,L+=n*J,B+=n*O,P+=n*R,ee+=n*K,_+=n*j,c+=n*Z,p+=n*ce,h+=n*ie,o+=n*V,n=e[11],q+=n*E,D+=n*S,F+=n*d,Y+=n*A,z+=n*te,W+=n*M,L+=n*H,B+=n*J,P+=n*O,ee+=n*R,_+=n*K,c+=n*j,p+=n*Z,h+=n*ce,o+=n*ie,u+=n*V,n=e[12],D+=n*E,F+=n*S,Y+=n*d,z+=n*A,W+=n*te,L+=n*M,B+=n*H,P+=n*J,ee+=n*O,_+=n*R,c+=n*K,p+=n*j,h+=n*Z,o+=n*ce,u+=n*ie,m+=n*V,n=e[13],F+=n*E,Y+=n*S,z+=n*d,W+=n*A,L+=n*te,B+=n*M,P+=n*H,ee+=n*J,_+=n*O,c+=n*R,p+=n*K,h+=n*j,o+=n*Z,u+=n*ce,m+=n*ie,v+=n*V,n=e[14],Y+=n*E,z+=n*S,W+=n*d,L+=n*A,B+=n*te,P+=n*M,ee+=n*H,_+=n*J,c+=n*O,p+=n*R,h+=n*K,o+=n*j,u+=n*Z,m+=n*ce,v+=n*ie,g+=n*V,n=e[15],z+=n*E,W+=n*S,L+=n*d,B+=n*A,P+=n*te,ee+=n*M,_+=n*H,c+=n*J,p+=n*O,h+=n*R,o+=n*K,u+=n*j,m+=n*Z,v+=n*ce,g+=n*ie,l+=n*V,s+=38*W,a+=38*L,f+=38*B,b+=38*P,x+=38*ee,y+=38*_,w+=38*c,k+=38*p,N+=38*h,C+=38*o,T+=38*u,q+=38*m,D+=38*v,F+=38*g,Y+=38*l,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=q+i+65535,i=Math.floor(n/65536),q=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=F+i+65535,i=Math.floor(n/65536),F=n-i*65536,n=Y+i+65535,i=Math.floor(n/65536),Y=n-i*65536,n=z+i+65535,i=Math.floor(n/65536),z=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=q+i+65535,i=Math.floor(n/65536),q=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=F+i+65535,i=Math.floor(n/65536),F=n-i*65536,n=Y+i+65535,i=Math.floor(n/65536),Y=n-i*65536,n=z+i+65535,i=Math.floor(n/65536),z=n-i*65536,s+=i-1+37*(i-1),r[0]=s,r[1]=a,r[2]=f,r[3]=b,r[4]=x,r[5]=y,r[6]=w,r[7]=k,r[8]=N,r[9]=C,r[10]=T,r[11]=q,r[12]=D,r[13]=F,r[14]=Y,r[15]=z}function Jn(r,e){et(r,e,e)}function yh(r,e){let t=we(),n;for(n=0;n<16;n++)t[n]=e[n];for(n=253;n>=0;n--)Jn(t,t),n!==2&&n!==4&&et(t,t,e);for(n=0;n<16;n++)r[n]=t[n]}function wm(r,e){let t=we(),n;for(n=0;n<16;n++)t[n]=e[n];for(n=250;n>=0;n--)Jn(t,t),n!==1&&et(t,t,e);for(n=0;n<16;n++)r[n]=t[n]}function af(r,e){let t=we(),n=we(),i=we(),s=we(),a=we(),f=we(),b=we(),x=we(),y=we();Yn(t,r[1],r[0]),Yn(y,e[1],e[0]),et(t,t,y),Vn(n,r[0],r[1]),Vn(y,e[0],e[1]),et(n,n,y),et(i,r[3],e[3]),et(i,i,vm),et(s,r[2],e[2]),Vn(s,s,s),Yn(a,n,t),Yn(f,s,i),Vn(b,s,i),Vn(x,n,t),et(r[0],a,f),et(r[1],x,b),et(r[2],b,f),et(r[3],a,x)}function ph(r,e,t){for(let n=0;n<4;n++)mh(r[n],e[n],t)}function cf(r,e){let t=we(),n=we(),i=we();yh(i,e[2]),et(t,e[0],i),et(n,e[1],i),hs(r,n),r[31]^=vh(t)<<7}function xh(r,e,t){un(r[0],of),un(r[1],Mi),un(r[2],Mi),un(r[3],of);for(let n=255;n>=0;--n){let i=t[n/8|0]>>(n&7)&1;ph(r,e,i),af(e,r),af(r,r),ph(r,e,i)}}function uf(r,e){let t=[we(),we(),we(),we()];un(t[0],hh),un(t[1],lh),un(t[2],Mi),et(t[3],hh,lh),xh(r,t,e)}function wh(r){if(r.length!==We.SEED_LENGTH)throw new Error(`ed25519: seed must be ${We.SEED_LENGTH} bytes`);let e=(0,us.hash)(r);e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(32),n=[we(),we(),we(),we()];uf(n,e),cf(t,n);let i=new Uint8Array(64);return i.set(r),i.set(t,32),{publicKey:t,secretKey:i}}We.generateKeyPairFromSeed=wh;function Em(r){let e=(0,bm.randomBytes)(32,r),t=wh(e);return(0,bh.wipe)(e),t}We.generateKeyPair=Em;function Am(r){if(r.length!==We.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${We.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(r.subarray(32))}We.extractPublicKeyFromSecretKey=Am;var sf=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Eh(r,e){let t,n,i,s;for(n=63;n>=32;--n){for(t=0,i=n-32,s=n-12;i<s;++i)e[i]+=t-16*e[n]*sf[i-(n-32)],t=Math.floor((e[i]+128)/256),e[i]-=t*256;e[i]+=t,e[n]=0}for(t=0,i=0;i<32;i++)e[i]+=t-(e[31]>>4)*sf[i],t=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=t*sf[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,r[n]=e[n]&255}function ff(r){let e=new Float64Array(64);for(let t=0;t<64;t++)e[t]=r[t];for(let t=0;t<64;t++)r[t]=0;Eh(r,e)}function Mm(r,e){let t=new Float64Array(64),n=[we(),we(),we(),we()],i=(0,us.hash)(r.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;let s=new Uint8Array(64);s.set(i.subarray(32),32);let a=new us.SHA512;a.update(s.subarray(32)),a.update(e);let f=a.digest();a.clean(),ff(f),uf(n,f),cf(s,n),a.reset(),a.update(s.subarray(0,32)),a.update(r.subarray(32)),a.update(e);let b=a.digest();ff(b);for(let x=0;x<32;x++)t[x]=f[x];for(let x=0;x<32;x++)for(let y=0;y<32;y++)t[x+y]+=b[x]*i[y];return Eh(s.subarray(32),t),s}We.sign=Mm;function Ah(r,e){let t=we(),n=we(),i=we(),s=we(),a=we(),f=we(),b=we();return un(r[2],Mi),xm(r[1],e),Jn(i,r[1]),et(s,i,gm),Yn(i,i,r[2]),Vn(s,r[2],s),Jn(a,s),Jn(f,a),et(b,f,a),et(t,b,i),et(t,t,s),wm(t,t),et(t,t,i),et(t,t,s),et(t,t,s),et(r[0],t,s),Jn(n,r[0]),et(n,n,s),dh(n,i)&&et(r[0],r[0],ym),Jn(n,r[0]),et(n,n,s),dh(n,i)?-1:(vh(r[0])===e[31]>>7&&Yn(r[0],of,r[0]),et(r[3],r[0],r[1]),0)}function _m(r,e,t){let n=new Uint8Array(32),i=[we(),we(),we(),we()],s=[we(),we(),we(),we()];if(t.length!==We.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${We.SIGNATURE_LENGTH} bytes`);if(Ah(s,r))return!1;let a=new us.SHA512;a.update(t.subarray(0,32)),a.update(r),a.update(e);let f=a.digest();return ff(f),xh(i,s,f),uf(s,t.subarray(32)),af(i,s),cf(n,i),!gh(t,n)}We.verify=_m;function Sm(r){let e=[we(),we(),we(),we()];if(Ah(e,r))throw new Error("Ed25519: invalid public key");let t=we(),n=we(),i=e[1];Vn(t,Mi,i),Yn(n,Mi,i),yh(n,n),et(t,t,n);let s=new Uint8Array(32);return hs(s,t),s}We.convertPublicKeyToX25519=Sm;function Tm(r){let e=(0,us.hash)(r.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(e.subarray(0,32));return(0,bh.wipe)(e),t}We.convertSecretKeyToX25519=Tm});function Cm(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),a=s.charCodeAt(0);if(t[a]!==255)throw new TypeError(s+" is ambiguous");t[a]=i}var f=r.length,b=r.charAt(0),x=Math.log(f)/Math.log(256),y=Math.log(256)/Math.log(f);function w(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var T=0,q=0,D=0,F=C.length;D!==F&&C[D]===0;)D++,T++;for(var Y=(F-D)*y+1>>>0,z=new Uint8Array(Y);D!==F;){for(var W=C[D],L=0,B=Y-1;(W!==0||L<q)&&B!==-1;B--,L++)W+=256*z[B]>>>0,z[B]=W%f>>>0,W=W/f>>>0;if(W!==0)throw new Error("Non-zero carry");q=L,D++}for(var P=Y-q;P!==Y&&z[P]===0;)P++;for(var ee=b.repeat(T);P<Y;++P)ee+=r.charAt(z[P]);return ee}function k(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var T=0;if(C[T]!==" "){for(var q=0,D=0;C[T]===b;)q++,T++;for(var F=(C.length-T)*x+1>>>0,Y=new Uint8Array(F);C[T];){var z=t[C.charCodeAt(T)];if(z===255)return;for(var W=0,L=F-1;(z!==0||W<D)&&L!==-1;L--,W++)z+=f*Y[L]>>>0,Y[L]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");D=W,T++}if(C[T]!==" "){for(var B=F-D;B!==F&&Y[B]===0;)B++;for(var P=new Uint8Array(q+(F-B)),ee=q;B!==F;)P[ee++]=Y[B++];return P}}}function N(C){var T=k(C);if(T)return T;throw new Error(`Non-${e} character`)}return{encode:w,decodeUnsafe:k,decode:N}}var km,Dm,Mh,_h=st(()=>{km=Cm,Dm=km,Mh=Dm});var ds={};Ye(ds,{coerce:()=>Zt,empty:()=>Sh,equals:()=>hf,fromHex:()=>Im,fromString:()=>lf,isBinary:()=>Om,toHex:()=>Nm,toString:()=>df});var Sh,Nm,Im,hf,Zt,Om,lf,df,hn=st(()=>{Sh=new Uint8Array(0),Nm=r=>r.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),Im=r=>{let e=r.match(/../g);return e?new Uint8Array(e.map(t=>parseInt(t,16))):Sh},hf=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},Zt=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Om=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),lf=r=>new TextEncoder().encode(r),df=r=>new TextDecoder().decode(r)});var pf,bf,mf,Th,gf,Si,ln,Rm,Bm,ot,hr=st(()=>{_h();hn();pf=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},bf=class{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Th(this,e)}},mf=class{constructor(e){this.decoders=e}or(e){return Th(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Th=(r,e)=>new mf({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),gf=class{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new pf(e,t,n),this.decoder=new bf(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Si=({name:r,prefix:e,encode:t,decode:n})=>new gf(r,e,t,n),ln=({prefix:r,name:e,alphabet:t})=>{let{encode:n,decode:i}=Mh(t,e);return Si({prefix:r,name:e,encode:n,decode:s=>Zt(i(s))})},Rm=(r,e,t,n)=>{let i={};for(let y=0;y<e.length;++y)i[e[y]]=y;let s=r.length;for(;r[s-1]==="=";)--s;let a=new Uint8Array(s*t/8|0),f=0,b=0,x=0;for(let y=0;y<s;++y){let w=i[r[y]];if(w===void 0)throw new SyntaxError(`Non-${n} character`);b=b<<t|w,f+=t,f>=8&&(f-=8,a[x++]=255&b>>f)}if(f>=t||255&b<<8-f)throw new SyntaxError("Unexpected end of data");return a},Bm=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,s="",a=0,f=0;for(let b=0;b<r.length;++b)for(f=f<<8|r[b],a+=8;a>t;)a-=t,s+=e[i&f>>a];if(a&&(s+=e[i&f<<t-a]),n)for(;s.length*t&7;)s+="=";return s},ot=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Si({prefix:e,name:r,encode(i){return Bm(i,n,t)},decode(i){return Rm(i,n,t,r)}})});var vf={};Ye(vf,{identity:()=>Pm});var Pm,Ch=st(()=>{hr();hn();Pm=Si({prefix:"\0",name:"identity",encode:r=>df(r),decode:r=>lf(r)})});var yf={};Ye(yf,{base2:()=>Lm});var Lm,kh=st(()=>{hr();Lm=ot({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var xf={};Ye(xf,{base8:()=>Um});var Um,Dh=st(()=>{hr();Um=ot({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var wf={};Ye(wf,{base10:()=>$m});var $m,Nh=st(()=>{hr();$m=ln({prefix:"9",name:"base10",alphabet:"0123456789"})});var Ef={};Ye(Ef,{base16:()=>Fm,base16upper:()=>qm});var Fm,qm,Ih=st(()=>{hr();Fm=ot({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),qm=ot({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var Af={};Ye(Af,{base32:()=>Ti,base32hex:()=>jm,base32hexpad:()=>Vm,base32hexpadupper:()=>Jm,base32hexupper:()=>Gm,base32pad:()=>Km,base32padupper:()=>zm,base32upper:()=>Hm,base32z:()=>Ym});var Ti,Hm,Km,zm,jm,Gm,Vm,Jm,Ym,Mf=st(()=>{hr();Ti=ot({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Hm=ot({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Km=ot({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zm=ot({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),jm=ot({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Gm=ot({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Vm=ot({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Jm=ot({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ym=ot({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var _f={};Ye(_f,{base36:()=>Wm,base36upper:()=>Xm});var Wm,Xm,Oh=st(()=>{hr();Wm=ln({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Xm=ln({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var Sf={};Ye(Sf,{base58btc:()=>Qt,base58flickr:()=>Zm});var Qt,Zm,go=st(()=>{hr();Qt=ln({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Zm=ln({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var Tf={};Ye(Tf,{base64:()=>Qm,base64pad:()=>e3,base64url:()=>Xn,base64urlpad:()=>t3});var Qm,e3,Xn,t3,vo=st(()=>{hr();Qm=ot({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),e3=ot({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Xn=ot({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),t3=ot({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var Cf={};Ye(Cf,{base256emoji:()=>o3});function i3(r){return r.reduce((e,t)=>(e+=r3[t],e),"")}function s3(r){let e=[];for(let t of r){let n=n3[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}var Rh,r3,n3,o3,Bh=st(()=>{hr();Rh=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),r3=Rh.reduce((r,e,t)=>(r[t]=e,r),[]),n3=Rh.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);o3=Si({prefix:"\u{1F680}",name:"base256emoji",encode:i3,decode:s3})});function Uh(r,e,t){e=e||[],t=t||0;for(var n=t;r>=u3;)e[t++]=r&255|Ph,r/=128;for(;r&c3;)e[t++]=r&255|Ph,r>>>=7;return e[t]=r|0,Uh.bytes=t-n+1,e}function kf(r,n){var t=0,n=n||0,i=0,s=n,a,f=r.length;do{if(s>=f)throw kf.bytes=0,new RangeError("Could not decode varint");a=r[s++],t+=i<28?(a&Lh)<<i:(a&Lh)*Math.pow(2,i),i+=7}while(a>=l3);return kf.bytes=s-n,t}var a3,Ph,f3,c3,u3,h3,l3,Lh,d3,p3,b3,m3,g3,v3,y3,x3,w3,E3,A3,M3,ps,$h=st(()=>{a3=Uh,Ph=128,f3=127,c3=~f3,u3=Math.pow(2,31);h3=kf,l3=128,Lh=127;d3=Math.pow(2,7),p3=Math.pow(2,14),b3=Math.pow(2,21),m3=Math.pow(2,28),g3=Math.pow(2,35),v3=Math.pow(2,42),y3=Math.pow(2,49),x3=Math.pow(2,56),w3=Math.pow(2,63),E3=function(r){return r<d3?1:r<p3?2:r<b3?3:r<m3?4:r<g3?5:r<v3?6:r<y3?7:r<x3?8:r<w3?9:10},A3={encode:a3,decode:h3,encodingLength:E3},M3=A3,ps=M3});var ki={};Ye(ki,{decode:()=>Ci,encodeTo:()=>Zn,encodingLength:()=>Qn});var Ci,Zn,Qn,yo=st(()=>{$h();Ci=(r,e=0)=>[ps.decode(r,e),ps.decode.bytes],Zn=(r,e,t=0)=>(ps.encode(r,e,t),e),Qn=r=>ps.encodingLength(r)});var ti={};Ye(ti,{Digest:()=>ei,create:()=>dn,decode:()=>Df,equals:()=>Nf});var dn,Df,Nf,ei,bs=st(()=>{hn();yo();dn=(r,e)=>{let t=e.byteLength,n=Qn(r),i=n+Qn(t),s=new Uint8Array(i+t);return Zn(r,s,0),Zn(t,s,n),s.set(e,i),new ei(r,t,e,s)},Df=r=>{let e=Zt(r),[t,n]=Ci(e),[i,s]=Ci(e.subarray(n)),a=e.subarray(n+s);if(a.byteLength!==i)throw new Error("Incorrect length");return new ei(t,i,a,e)},Nf=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&hf(r.bytes,e.bytes),ei=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}}});var Eo={};Ye(Eo,{Hasher:()=>xo,from:()=>wo});var wo,xo,If=st(()=>{bs();wo=({name:r,code:e,encode:t})=>new xo(r,e,t),xo=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?dn(this.code,t):t.then(n=>dn(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var Of={};Ye(Of,{sha256:()=>Di,sha512:()=>_3});var Fh,Di,_3,Ao=st(()=>{If();Fh=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),Di=wo({name:"sha2-256",code:18,encode:Fh("SHA-256")}),_3=wo({name:"sha2-512",code:19,encode:Fh("SHA-512")})});var Rf={};Ye(Rf,{identity:()=>Mo});var qh,S3,Hh,T3,Mo,Bf=st(()=>{hn();bs();qh=0,S3="identity",Hh=Zt,T3=r=>dn(qh,Hh(r)),Mo={code:qh,name:S3,encode:Hh,digest:T3}});var Pf={};Ye(Pf,{code:()=>k3,decode:()=>N3,encode:()=>D3,name:()=>C3});var C3,k3,D3,N3,Kh=st(()=>{hn();C3="raw",k3=85,D3=r=>Zt(r),N3=r=>Zt(r)});var Lf={};Ye(Lf,{code:()=>B3,decode:()=>L3,encode:()=>P3,name:()=>R3});var I3,O3,R3,B3,P3,L3,zh=st(()=>{I3=new TextEncoder,O3=new TextDecoder,R3="json",B3=512,P3=r=>I3.encode(JSON.stringify(r)),L3=r=>JSON.parse(O3.decode(r))});var Ke,U3,$3,F3,ms,q3,jh,Gh,_o,So,H3,K3,z3,gs=st(()=>{yo();bs();go();Mf();hn();Ke=class{constructor(e,t,n,i){this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:So,byteLength:So,code:_o,version:_o,multihash:_o,bytes:_o,_baseCache:So,asCID:So})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ms)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==q3)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ke.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,n=dn(e,t);return Ke.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Nf(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:i}=this;switch(n){case 0:return $3(t,i,e||Qt.encoder);default:return F3(t,i,e||Ti.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return K3(/^0\.0/,z3),!!(e&&(e[Gh]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Ke)return e;if(e!=null&&e.asCID===e){let{version:t,code:n,multihash:i,bytes:s}=e;return new Ke(t,n,i,s||jh(t,n,i.bytes))}else if(e!=null&&e[Gh]===!0){let{version:t,multihash:n,code:i}=e,s=Df(n);return Ke.create(t,i,s)}else return null}static create(e,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ms)throw new Error(`Version 0 CID must use dag-pb (code: ${ms}) block encoding`);return new Ke(e,t,n,n.bytes)}case 1:{let i=jh(e,t,n.bytes);return new Ke(e,t,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return Ke.create(0,ms,e)}static createV1(e,t){return Ke.create(1,e,t)}static decode(e){let[t,n]=Ke.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=Ke.inspectBytes(e),n=t.size-t.multihashSize,i=Zt(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");let s=i.subarray(t.multihashSize-t.digestSize),a=new ei(t.multihashCode,t.digestSize,s,i);return[t.version===0?Ke.createV0(a):Ke.createV1(t.codec,a),e.subarray(t.size)]}static inspectBytes(e){let t=0,n=()=>{let[w,k]=Ci(e.subarray(t));return t+=k,w},i=n(),s=ms;if(i===18?(i=0,t=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let a=t,f=n(),b=n(),x=t+b,y=x-a;return{version:i,codec:s,multihashCode:f,digestSize:b,multihashSize:y,size:x}}static parse(e,t){let[n,i]=U3(e,t),s=Ke.decode(i);return s._baseCache.set(n,e),s}},U3=(r,e)=>{switch(r[0]){case"Q":{let t=e||Qt;return[Qt.prefix,t.decode(`${Qt.prefix}${r}`)]}case Qt.prefix:{let t=e||Qt;return[Qt.prefix,t.decode(r)]}case Ti.prefix:{let t=e||Ti;return[Ti.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},$3=(r,e,t)=>{let{prefix:n}=t;if(n!==Qt.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let i=e.get(n);if(i==null){let s=t.encode(r).slice(1);return e.set(n,s),s}else return i},F3=(r,e,t)=>{let{prefix:n}=t,i=e.get(n);if(i==null){let s=t.encode(r);return e.set(n,s),s}else return i},ms=112,q3=18,jh=(r,e,t)=>{let n=Qn(r),i=n+Qn(e),s=new Uint8Array(i+t.byteLength);return Zn(r,s,0),Zn(e,s,n),s.set(t,i),s},Gh=Symbol.for("@ipld/js-cid/CID"),_o={writable:!1,configurable:!1,enumerable:!0},So={writable:!1,enumerable:!1,configurable:!1},H3="0.0.0-dev",K3=(r,e)=>{if(r.test(H3))console.warn(e);else throw new Error(e)},z3=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var Uf=st(()=>{gs();yo();hn();If();bs()});var Vh={};Ye(Vh,{CID:()=>Ke,bases:()=>Ni,bytes:()=>ds,codecs:()=>G3,digest:()=>ti,hasher:()=>Eo,hashes:()=>j3,varint:()=>ki});var Ni,j3,G3,To=st(()=>{Ch();kh();Dh();Nh();Ih();Mf();Oh();go();vo();Bh();Ao();Bf();Kh();zh();Uf();Ni={...vf,...yf,...xf,...wf,...Ef,...Af,..._f,...Sf,...Tf,...Cf},j3={...Of,...Rf},G3={raw:Pf,json:Lf}});var Xh=de(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});var Do=Gn(),ko=Xt();pn.DIGEST_LENGTH=32;pn.BLOCK_SIZE=64;var Wh=function(){function r(){this.digestLength=pn.DIGEST_LENGTH,this.blockSize=pn.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){ko.wipe(this._buffer),ko.wipe(this._temp),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(Ff(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=Ff(this._temp,this._state,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,i=t/536870912|0,s=t<<3,a=t%64<56?64:128;this._buffer[n]=128;for(var f=n+1;f<a-8;f++)this._buffer[f]=0;Do.writeUint32BE(i,this._buffer,a-8),Do.writeUint32BE(s,this._buffer,a-4),Ff(this._temp,this._state,this._buffer,0,a),this._finished=!0}for(var f=0;f<this.digestLength/4;f++)Do.writeUint32BE(this._state[f],e,f*4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){ko.wipe(e.state),e.buffer&&ko.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();pn.SHA256=Wh;var J3=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Ff(r,e,t,n,i){for(;i>=64;){for(var s=e[0],a=e[1],f=e[2],b=e[3],x=e[4],y=e[5],w=e[6],k=e[7],N=0;N<16;N++){var C=n+N*4;r[N]=Do.readUint32BE(t,C)}for(var N=16;N<64;N++){var T=r[N-2],q=(T>>>17|T<<32-17)^(T>>>19|T<<32-19)^T>>>10;T=r[N-15];var D=(T>>>7|T<<32-7)^(T>>>18|T<<32-18)^T>>>3;r[N]=(q+r[N-7]|0)+(D+r[N-16]|0)}for(var N=0;N<64;N++){var q=(((x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7))+(x&y^~x&w)|0)+(k+(J3[N]+r[N]|0)|0)|0,D=((s>>>2|s<<32-2)^(s>>>13|s<<32-13)^(s>>>22|s<<32-22))+(s&a^s&f^a&f)|0;k=w,w=y,y=x,x=b+q|0,b=f,f=a,a=s,s=q+D|0}e[0]+=s,e[1]+=a,e[2]+=f,e[3]+=b,e[4]+=x,e[5]+=y,e[6]+=w,e[7]+=k,n+=64,i-=64}return n}function Y3(r){var e=new Wh;e.update(r);var t=e.digest();return e.clean(),t}pn.hash=Y3});var qf=de((Ex,No)=>{(function(){"use strict";var r="input is invalid type",e="finalize already called",t=typeof window=="object",n=t?window:{};n.JS_SHA3_NO_WINDOW&&(t=!1);var i=!t&&typeof self=="object",s=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?n=global:i&&(n=self);var a=!n.JS_SHA3_NO_COMMON_JS&&typeof No=="object"&&No.exports,f=typeof define=="function"&&define.amd,b=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",x="0123456789abcdef".split(""),y=[31,7936,2031616,520093696],w=[4,1024,262144,67108864],k=[1,256,65536,16777216],N=[6,1536,393216,100663296],C=[0,8,16,24],T=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],q=[224,256,384,512],D=[128,256],F=["hex","buffer","arrayBuffer","array","digest"],Y={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(M){return Object.prototype.toString.call(M)==="[object Array]"}),b&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(M){return typeof M=="object"&&M.buffer&&M.buffer.constructor===ArrayBuffer});for(var z=function(M,H,J){return function(O){return new d(M,H,M).update(O)[J]()}},W=function(M,H,J){return function(O,R){return new d(M,H,R).update(O)[J]()}},L=function(M,H,J){return function(O,R,K,j){return o["cshake"+M].update(O,R,K,j)[J]()}},B=function(M,H,J){return function(O,R,K,j){return o["kmac"+M].update(O,R,K,j)[J]()}},P=function(M,H,J,O){for(var R=0;R<F.length;++R){var K=F[R];M[K]=H(J,O,K)}return M},ee=function(M,H){var J=z(M,H,"hex");return J.create=function(){return new d(M,H,M)},J.update=function(O){return J.create().update(O)},P(J,z,M,H)},_=function(M,H){var J=W(M,H,"hex");return J.create=function(O){return new d(M,H,O)},J.update=function(O,R){return J.create(R).update(O)},P(J,W,M,H)},c=function(M,H){var J=Y[M],O=L(M,H,"hex");return O.create=function(R,K,j){return!K&&!j?o["shake"+M].create(R):new d(M,H,R).bytepad([K,j],J)},O.update=function(R,K,j,Z){return O.create(K,j,Z).update(R)},P(O,L,M,H)},p=function(M,H){var J=Y[M],O=B(M,H,"hex");return O.create=function(R,K,j){return new A(M,H,K).bytepad(["KMAC",j],J).bytepad([R],J)},O.update=function(R,K,j,Z){return O.create(R,j,Z).update(K)},P(O,B,M,H)},h=[{name:"keccak",padding:k,bits:q,createMethod:ee},{name:"sha3",padding:N,bits:q,createMethod:ee},{name:"shake",padding:y,bits:D,createMethod:_},{name:"cshake",padding:w,bits:D,createMethod:c},{name:"kmac",padding:w,bits:D,createMethod:p}],o={},u=[],m=0;m<h.length;++m)for(var v=h[m],g=v.bits,l=0;l<g.length;++l){var E=v.name+"_"+g[l];if(u.push(E),o[E]=v.createMethod(g[l],v.padding),v.name!=="sha3"){var S=v.name+g[l];u.push(S),o[S]=o[E]}}function d(M,H,J){this.blocks=[],this.s=[],this.padding=H,this.outputBits=J,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(M<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=J>>5,this.extraBytes=(J&31)>>3;for(var O=0;O<50;++O)this.s[O]=0}d.prototype.update=function(M){if(this.finalized)throw new Error(e);var H,J=typeof M;if(J!=="string"){if(J==="object"){if(M===null)throw new Error(r);if(b&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!b||!ArrayBuffer.isView(M)))throw new Error(r)}else throw new Error(r);H=!0}for(var O=this.blocks,R=this.byteCount,K=M.length,j=this.blockCount,Z=0,ce=this.s,ie,V;Z<K;){if(this.reset)for(this.reset=!1,O[0]=this.block,ie=1;ie<j+1;++ie)O[ie]=0;if(H)for(ie=this.start;Z<K&&ie<R;++Z)O[ie>>2]|=M[Z]<<C[ie++&3];else for(ie=this.start;Z<K&&ie<R;++Z)V=M.charCodeAt(Z),V<128?O[ie>>2]|=V<<C[ie++&3]:V<2048?(O[ie>>2]|=(192|V>>6)<<C[ie++&3],O[ie>>2]|=(128|V&63)<<C[ie++&3]):V<55296||V>=57344?(O[ie>>2]|=(224|V>>12)<<C[ie++&3],O[ie>>2]|=(128|V>>6&63)<<C[ie++&3],O[ie>>2]|=(128|V&63)<<C[ie++&3]):(V=65536+((V&1023)<<10|M.charCodeAt(++Z)&1023),O[ie>>2]|=(240|V>>18)<<C[ie++&3],O[ie>>2]|=(128|V>>12&63)<<C[ie++&3],O[ie>>2]|=(128|V>>6&63)<<C[ie++&3],O[ie>>2]|=(128|V&63)<<C[ie++&3]);if(this.lastByteIndex=ie,ie>=R){for(this.start=ie-R,this.block=O[j],ie=0;ie<j;++ie)ce[ie]^=O[ie];te(ce),this.reset=!0}else this.start=ie}return this},d.prototype.encode=function(M,H){var J=M&255,O=1,R=[J];for(M=M>>8,J=M&255;J>0;)R.unshift(J),M=M>>8,J=M&255,++O;return H?R.push(O):R.unshift(O),this.update(R),R.length},d.prototype.encodeString=function(M){var H,J=typeof M;if(J!=="string"){if(J==="object"){if(M===null)throw new Error(r);if(b&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!b||!ArrayBuffer.isView(M)))throw new Error(r)}else throw new Error(r);H=!0}var O=0,R=M.length;if(H)O=R;else for(var K=0;K<M.length;++K){var j=M.charCodeAt(K);j<128?O+=1:j<2048?O+=2:j<55296||j>=57344?O+=3:(j=65536+((j&1023)<<10|M.charCodeAt(++K)&1023),O+=4)}return O+=this.encode(O*8),this.update(M),O},d.prototype.bytepad=function(M,H){for(var J=this.encode(H),O=0;O<M.length;++O)J+=this.encodeString(M[O]);var R=H-J%H,K=[];return K.length=R,this.update(K),this},d.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var M=this.blocks,H=this.lastByteIndex,J=this.blockCount,O=this.s;if(M[H>>2]|=this.padding[H&3],this.lastByteIndex===this.byteCount)for(M[0]=M[J],H=1;H<J+1;++H)M[H]=0;for(M[J-1]|=2147483648,H=0;H<J;++H)O[H]^=M[H];te(O)}},d.prototype.toString=d.prototype.hex=function(){this.finalize();for(var M=this.blockCount,H=this.s,J=this.outputBlocks,O=this.extraBytes,R=0,K=0,j="",Z;K<J;){for(R=0;R<M&&K<J;++R,++K)Z=H[R],j+=x[Z>>4&15]+x[Z&15]+x[Z>>12&15]+x[Z>>8&15]+x[Z>>20&15]+x[Z>>16&15]+x[Z>>28&15]+x[Z>>24&15];K%M===0&&(te(H),R=0)}return O&&(Z=H[R],j+=x[Z>>4&15]+x[Z&15],O>1&&(j+=x[Z>>12&15]+x[Z>>8&15]),O>2&&(j+=x[Z>>20&15]+x[Z>>16&15])),j},d.prototype.arrayBuffer=function(){this.finalize();var M=this.blockCount,H=this.s,J=this.outputBlocks,O=this.extraBytes,R=0,K=0,j=this.outputBits>>3,Z;O?Z=new ArrayBuffer(J+1<<2):Z=new ArrayBuffer(j);for(var ce=new Uint32Array(Z);K<J;){for(R=0;R<M&&K<J;++R,++K)ce[K]=H[R];K%M===0&&te(H)}return O&&(ce[R]=H[R],Z=Z.slice(0,j)),Z},d.prototype.buffer=d.prototype.arrayBuffer,d.prototype.digest=d.prototype.array=function(){this.finalize();for(var M=this.blockCount,H=this.s,J=this.outputBlocks,O=this.extraBytes,R=0,K=0,j=[],Z,ce;K<J;){for(R=0;R<M&&K<J;++R,++K)Z=K<<2,ce=H[R],j[Z]=ce&255,j[Z+1]=ce>>8&255,j[Z+2]=ce>>16&255,j[Z+3]=ce>>24&255;K%M===0&&te(H)}return O&&(Z=K<<2,ce=H[R],j[Z]=ce&255,O>1&&(j[Z+1]=ce>>8&255),O>2&&(j[Z+2]=ce>>16&255)),j};function A(M,H,J){d.call(this,M,H,J)}A.prototype=new d,A.prototype.finalize=function(){return this.encode(this.outputBits,!0),d.prototype.finalize.call(this)};var te=function(M){var H,J,O,R,K,j,Z,ce,ie,V,ue,X,se,U,re,he,xe,ge,Ae,It,Q,G,I,$,ne,oe,ae,le,je,ye,pe,Ve,Ee,Me,Er,_e,Se,Ar,Te,Ce,Mr,ke,De,_r,Ne,Ie,Sr,Oe,Re,Tr,Be,Pe,Cr,Le,Ue,ur,Xe,Ze,Gt,Vt,Jt,Yt,Wt;for(O=0;O<48;O+=2)R=M[0]^M[10]^M[20]^M[30]^M[40],K=M[1]^M[11]^M[21]^M[31]^M[41],j=M[2]^M[12]^M[22]^M[32]^M[42],Z=M[3]^M[13]^M[23]^M[33]^M[43],ce=M[4]^M[14]^M[24]^M[34]^M[44],ie=M[5]^M[15]^M[25]^M[35]^M[45],V=M[6]^M[16]^M[26]^M[36]^M[46],ue=M[7]^M[17]^M[27]^M[37]^M[47],X=M[8]^M[18]^M[28]^M[38]^M[48],se=M[9]^M[19]^M[29]^M[39]^M[49],H=X^(j<<1|Z>>>31),J=se^(Z<<1|j>>>31),M[0]^=H,M[1]^=J,M[10]^=H,M[11]^=J,M[20]^=H,M[21]^=J,M[30]^=H,M[31]^=J,M[40]^=H,M[41]^=J,H=R^(ce<<1|ie>>>31),J=K^(ie<<1|ce>>>31),M[2]^=H,M[3]^=J,M[12]^=H,M[13]^=J,M[22]^=H,M[23]^=J,M[32]^=H,M[33]^=J,M[42]^=H,M[43]^=J,H=j^(V<<1|ue>>>31),J=Z^(ue<<1|V>>>31),M[4]^=H,M[5]^=J,M[14]^=H,M[15]^=J,M[24]^=H,M[25]^=J,M[34]^=H,M[35]^=J,M[44]^=H,M[45]^=J,H=ce^(X<<1|se>>>31),J=ie^(se<<1|X>>>31),M[6]^=H,M[7]^=J,M[16]^=H,M[17]^=J,M[26]^=H,M[27]^=J,M[36]^=H,M[37]^=J,M[46]^=H,M[47]^=J,H=V^(R<<1|K>>>31),J=ue^(K<<1|R>>>31),M[8]^=H,M[9]^=J,M[18]^=H,M[19]^=J,M[28]^=H,M[29]^=J,M[38]^=H,M[39]^=J,M[48]^=H,M[49]^=J,U=M[0],re=M[1],Ie=M[11]<<4|M[10]>>>28,Sr=M[10]<<4|M[11]>>>28,le=M[20]<<3|M[21]>>>29,je=M[21]<<3|M[20]>>>29,Vt=M[31]<<9|M[30]>>>23,Jt=M[30]<<9|M[31]>>>23,ke=M[40]<<18|M[41]>>>14,De=M[41]<<18|M[40]>>>14,Me=M[2]<<1|M[3]>>>31,Er=M[3]<<1|M[2]>>>31,he=M[13]<<12|M[12]>>>20,xe=M[12]<<12|M[13]>>>20,Oe=M[22]<<10|M[23]>>>22,Re=M[23]<<10|M[22]>>>22,ye=M[33]<<13|M[32]>>>19,pe=M[32]<<13|M[33]>>>19,Yt=M[42]<<2|M[43]>>>30,Wt=M[43]<<2|M[42]>>>30,Le=M[5]<<30|M[4]>>>2,Ue=M[4]<<30|M[5]>>>2,_e=M[14]<<6|M[15]>>>26,Se=M[15]<<6|M[14]>>>26,ge=M[25]<<11|M[24]>>>21,Ae=M[24]<<11|M[25]>>>21,Tr=M[34]<<15|M[35]>>>17,Be=M[35]<<15|M[34]>>>17,Ve=M[45]<<29|M[44]>>>3,Ee=M[44]<<29|M[45]>>>3,$=M[6]<<28|M[7]>>>4,ne=M[7]<<28|M[6]>>>4,ur=M[17]<<23|M[16]>>>9,Xe=M[16]<<23|M[17]>>>9,Ar=M[26]<<25|M[27]>>>7,Te=M[27]<<25|M[26]>>>7,It=M[36]<<21|M[37]>>>11,Q=M[37]<<21|M[36]>>>11,Pe=M[47]<<24|M[46]>>>8,Cr=M[46]<<24|M[47]>>>8,_r=M[8]<<27|M[9]>>>5,Ne=M[9]<<27|M[8]>>>5,oe=M[18]<<20|M[19]>>>12,ae=M[19]<<20|M[18]>>>12,Ze=M[29]<<7|M[28]>>>25,Gt=M[28]<<7|M[29]>>>25,Ce=M[38]<<8|M[39]>>>24,Mr=M[39]<<8|M[38]>>>24,G=M[48]<<14|M[49]>>>18,I=M[49]<<14|M[48]>>>18,M[0]=U^~he&ge,M[1]=re^~xe&Ae,M[10]=$^~oe&le,M[11]=ne^~ae&je,M[20]=Me^~_e&Ar,M[21]=Er^~Se&Te,M[30]=_r^~Ie&Oe,M[31]=Ne^~Sr&Re,M[40]=Le^~ur&Ze,M[41]=Ue^~Xe&Gt,M[2]=he^~ge&It,M[3]=xe^~Ae&Q,M[12]=oe^~le&ye,M[13]=ae^~je&pe,M[22]=_e^~Ar&Ce,M[23]=Se^~Te&Mr,M[32]=Ie^~Oe&Tr,M[33]=Sr^~Re&Be,M[42]=ur^~Ze&Vt,M[43]=Xe^~Gt&Jt,M[4]=ge^~It&G,M[5]=Ae^~Q&I,M[14]=le^~ye&Ve,M[15]=je^~pe&Ee,M[24]=Ar^~Ce&ke,M[25]=Te^~Mr&De,M[34]=Oe^~Tr&Pe,M[35]=Re^~Be&Cr,M[44]=Ze^~Vt&Yt,M[45]=Gt^~Jt&Wt,M[6]=It^~G&U,M[7]=Q^~I&re,M[16]=ye^~Ve&$,M[17]=pe^~Ee&ne,M[26]=Ce^~ke&Me,M[27]=Mr^~De&Er,M[36]=Tr^~Pe&_r,M[37]=Be^~Cr&Ne,M[46]=Vt^~Yt&Le,M[47]=Jt^~Wt&Ue,M[8]=G^~U&he,M[9]=I^~re&xe,M[18]=Ve^~$&oe,M[19]=Ee^~ne&ae,M[28]=ke^~Me&_e,M[29]=De^~Er&Se,M[38]=Pe^~_r&Ie,M[39]=Cr^~Ne&Sr,M[48]=Yt^~Le&ur,M[49]=Wt^~Ue&Xe,M[0]^=T[O],M[1]^=T[O+1]};if(a)No.exports=o;else{for(m=0;m<u.length;++m)n[u[m]]=o[u[m]];f&&define(function(){return o})}})()});var Zh=de((Ax,W3)=>{W3.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Hf=de(()=>{});var kr=de((Qh,Kf)=>{(function(r,e){"use strict";function t(_,c){if(!_)throw new Error(c||"Assertion failed")}function n(_,c){_.super_=c;var p=function(){};p.prototype=c.prototype,_.prototype=new p,_.prototype.constructor=_}function i(_,c,p){if(i.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((c==="le"||c==="be")&&(p=c,c=10),this._init(_||0,c||10,p||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Hf().Buffer}catch{}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,p){return c.cmp(p)>0?c:p},i.min=function(c,p){return c.cmp(p)<0?c:p},i.prototype._init=function(c,p,h){if(typeof c=="number")return this._initNumber(c,p,h);if(typeof c=="object")return this._initArray(c,p,h);p==="hex"&&(p=16),t(p===(p|0)&&p>=2&&p<=36),c=c.toString().replace(/\s+/g,"");var o=0;c[0]==="-"&&(o++,this.negative=1),o<c.length&&(p===16?this._parseHex(c,o,h):(this._parseBase(c,p,o),h==="le"&&this._initArray(this.toArray(),p,h)))},i.prototype._initNumber=function(c,p,h){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(t(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),p,h)},i.prototype._initArray=function(c,p,h){if(t(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var u,m,v=0;if(h==="be")for(o=c.length-1,u=0;o>=0;o-=3)m=c[o]|c[o-1]<<8|c[o-2]<<16,this.words[u]|=m<<v&67108863,this.words[u+1]=m>>>26-v&67108863,v+=24,v>=26&&(v-=26,u++);else if(h==="le")for(o=0,u=0;o<c.length;o+=3)m=c[o]|c[o+1]<<8|c[o+2]<<16,this.words[u]|=m<<v&67108863,this.words[u+1]=m>>>26-v&67108863,v+=24,v>=26&&(v-=26,u++);return this.strip()};function a(_,c){var p=_.charCodeAt(c);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function f(_,c,p){var h=a(_,p);return p-1>=c&&(h|=a(_,p-1)<<4),h}i.prototype._parseHex=function(c,p,h){this.length=Math.ceil((c.length-p)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var u=0,m=0,v;if(h==="be")for(o=c.length-1;o>=p;o-=2)v=f(c,p,o)<<u,this.words[m]|=v&67108863,u>=18?(u-=18,m+=1,this.words[m]|=v>>>26):u+=8;else{var g=c.length-p;for(o=g%2===0?p+1:p;o<c.length;o+=2)v=f(c,p,o)<<u,this.words[m]|=v&67108863,u>=18?(u-=18,m+=1,this.words[m]|=v>>>26):u+=8}this.strip()};function b(_,c,p,h){for(var o=0,u=Math.min(_.length,p),m=c;m<u;m++){var v=_.charCodeAt(m)-48;o*=h,v>=49?o+=v-49+10:v>=17?o+=v-17+10:o+=v}return o}i.prototype._parseBase=function(c,p,h){this.words=[0],this.length=1;for(var o=0,u=1;u<=67108863;u*=p)o++;o--,u=u/p|0;for(var m=c.length-h,v=m%o,g=Math.min(m,m-v)+h,l=0,E=h;E<g;E+=o)l=b(c,E,E+o,p),this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(v!==0){var S=1;for(l=b(c,E,c.length,p),E=0;E<v;E++)S*=p;this.imuln(S),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var p=0;p<this.length;p++)c.words[p]=this.words[p];c.length=this.length,c.negative=this.negative,c.red=this.red},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,p){c=c||10,p=p|0||1;var h;if(c===16||c==="hex"){h="";for(var o=0,u=0,m=0;m<this.length;m++){var v=this.words[m],g=((v<<o|u)&16777215).toString(16);u=v>>>24-o&16777215,u!==0||m!==this.length-1?h=x[6-g.length]+g+h:h=g+h,o+=2,o>=26&&(o-=26,m--)}for(u!==0&&(h=u.toString(16)+h);h.length%p!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(c===(c|0)&&c>=2&&c<=36){var l=y[c],E=w[c];h="";var S=this.clone();for(S.negative=0;!S.isZero();){var d=S.modn(E).toString(c);S=S.idivn(E),S.isZero()?h=d+h:h=x[l-d.length]+d+h}for(this.isZero()&&(h="0"+h);h.length%p!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(c,p){return t(typeof s<"u"),this.toArrayLike(s,c,p)},i.prototype.toArray=function(c,p){return this.toArrayLike(Array,c,p)},i.prototype.toArrayLike=function(c,p,h){var o=this.byteLength(),u=h||Math.max(1,o);t(o<=u,"byte array longer than desired length"),t(u>0,"Requested array length <= 0"),this.strip();var m=p==="le",v=new c(u),g,l,E=this.clone();if(m){for(l=0;!E.isZero();l++)g=E.andln(255),E.iushrn(8),v[l]=g;for(;l<u;l++)v[l]=0}else{for(l=0;l<u-o;l++)v[l]=0;for(l=0;!E.isZero();l++)g=E.andln(255),E.iushrn(8),v[u-l-1]=g}return v},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var p=c,h=0;return p>=4096&&(h+=13,p>>>=13),p>=64&&(h+=7,p>>>=7),p>=8&&(h+=4,p>>>=4),p>=2&&(h+=2,p>>>=2),h+p},i.prototype._zeroBits=function(c){if(c===0)return 26;var p=c,h=0;return p&8191||(h+=13,p>>>=13),p&127||(h+=7,p>>>=7),p&15||(h+=4,p>>>=4),p&3||(h+=2,p>>>=2),p&1||h++,h},i.prototype.bitLength=function(){var c=this.words[this.length-1],p=this._countBits(c);return(this.length-1)*26+p};function k(_){for(var c=new Array(_.bitLength()),p=0;p<c.length;p++){var h=p/26|0,o=p%26;c[p]=(_.words[h]&1<<o)>>>o}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,p=0;p<this.length;p++){var h=this._zeroBits(this.words[p]);if(c+=h,h!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var p=0;p<c.length;p++)this.words[p]=this.words[p]|c.words[p];return this.strip()},i.prototype.ior=function(c){return t((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var p;this.length>c.length?p=c:p=this;for(var h=0;h<p.length;h++)this.words[h]=this.words[h]&c.words[h];return this.length=p.length,this.strip()},i.prototype.iand=function(c){return t((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var p,h;this.length>c.length?(p=this,h=c):(p=c,h=this);for(var o=0;o<h.length;o++)this.words[o]=p.words[o]^h.words[o];if(this!==p)for(;o<p.length;o++)this.words[o]=p.words[o];return this.length=p.length,this.strip()},i.prototype.ixor=function(c){return t((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){t(typeof c=="number"&&c>=0);var p=Math.ceil(c/26)|0,h=c%26;this._expand(p),h>0&&p--;for(var o=0;o<p;o++)this.words[o]=~this.words[o]&67108863;return h>0&&(this.words[o]=~this.words[o]&67108863>>26-h),this.strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,p){t(typeof c=="number"&&c>=0);var h=c/26|0,o=c%26;return this._expand(h+1),p?this.words[h]=this.words[h]|1<<o:this.words[h]=this.words[h]&~(1<<o),this.strip()},i.prototype.iadd=function(c){var p;if(this.negative!==0&&c.negative===0)return this.negative=0,p=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,p=this.isub(c),c.negative=1,p._normSign();var h,o;this.length>c.length?(h=this,o=c):(h=c,o=this);for(var u=0,m=0;m<o.length;m++)p=(h.words[m]|0)+(o.words[m]|0)+u,this.words[m]=p&67108863,u=p>>>26;for(;u!==0&&m<h.length;m++)p=(h.words[m]|0)+u,this.words[m]=p&67108863,u=p>>>26;if(this.length=h.length,u!==0)this.words[this.length]=u,this.length++;else if(h!==this)for(;m<h.length;m++)this.words[m]=h.words[m];return this},i.prototype.add=function(c){var p;return c.negative!==0&&this.negative===0?(c.negative=0,p=this.sub(c),c.negative^=1,p):c.negative===0&&this.negative!==0?(this.negative=0,p=c.sub(this),this.negative=1,p):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var p=this.iadd(c);return c.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var h=this.cmp(c);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var o,u;h>0?(o=this,u=c):(o=c,u=this);for(var m=0,v=0;v<u.length;v++)p=(o.words[v]|0)-(u.words[v]|0)+m,m=p>>26,this.words[v]=p&67108863;for(;m!==0&&v<o.length;v++)p=(o.words[v]|0)+m,m=p>>26,this.words[v]=p&67108863;if(m===0&&v<o.length&&o!==this)for(;v<o.length;v++)this.words[v]=o.words[v];return this.length=Math.max(this.length,v),o!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function N(_,c,p){p.negative=c.negative^_.negative;var h=_.length+c.length|0;p.length=h,h=h-1|0;var o=_.words[0]|0,u=c.words[0]|0,m=o*u,v=m&67108863,g=m/67108864|0;p.words[0]=v;for(var l=1;l<h;l++){for(var E=g>>>26,S=g&67108863,d=Math.min(l,c.length-1),A=Math.max(0,l-_.length+1);A<=d;A++){var te=l-A|0;o=_.words[te]|0,u=c.words[A]|0,m=o*u+S,E+=m/67108864|0,S=m&67108863}p.words[l]=S|0,g=E|0}return g!==0?p.words[l]=g|0:p.length--,p.strip()}var C=function(c,p,h){var o=c.words,u=p.words,m=h.words,v=0,g,l,E,S=o[0]|0,d=S&8191,A=S>>>13,te=o[1]|0,M=te&8191,H=te>>>13,J=o[2]|0,O=J&8191,R=J>>>13,K=o[3]|0,j=K&8191,Z=K>>>13,ce=o[4]|0,ie=ce&8191,V=ce>>>13,ue=o[5]|0,X=ue&8191,se=ue>>>13,U=o[6]|0,re=U&8191,he=U>>>13,xe=o[7]|0,ge=xe&8191,Ae=xe>>>13,It=o[8]|0,Q=It&8191,G=It>>>13,I=o[9]|0,$=I&8191,ne=I>>>13,oe=u[0]|0,ae=oe&8191,le=oe>>>13,je=u[1]|0,ye=je&8191,pe=je>>>13,Ve=u[2]|0,Ee=Ve&8191,Me=Ve>>>13,Er=u[3]|0,_e=Er&8191,Se=Er>>>13,Ar=u[4]|0,Te=Ar&8191,Ce=Ar>>>13,Mr=u[5]|0,ke=Mr&8191,De=Mr>>>13,_r=u[6]|0,Ne=_r&8191,Ie=_r>>>13,Sr=u[7]|0,Oe=Sr&8191,Re=Sr>>>13,Tr=u[8]|0,Be=Tr&8191,Pe=Tr>>>13,Cr=u[9]|0,Le=Cr&8191,Ue=Cr>>>13;h.negative=c.negative^p.negative,h.length=19,g=Math.imul(d,ae),l=Math.imul(d,le),l=l+Math.imul(A,ae)|0,E=Math.imul(A,le);var ur=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(ur>>>26)|0,ur&=67108863,g=Math.imul(M,ae),l=Math.imul(M,le),l=l+Math.imul(H,ae)|0,E=Math.imul(H,le),g=g+Math.imul(d,ye)|0,l=l+Math.imul(d,pe)|0,l=l+Math.imul(A,ye)|0,E=E+Math.imul(A,pe)|0;var Xe=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,g=Math.imul(O,ae),l=Math.imul(O,le),l=l+Math.imul(R,ae)|0,E=Math.imul(R,le),g=g+Math.imul(M,ye)|0,l=l+Math.imul(M,pe)|0,l=l+Math.imul(H,ye)|0,E=E+Math.imul(H,pe)|0,g=g+Math.imul(d,Ee)|0,l=l+Math.imul(d,Me)|0,l=l+Math.imul(A,Ee)|0,E=E+Math.imul(A,Me)|0;var Ze=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,g=Math.imul(j,ae),l=Math.imul(j,le),l=l+Math.imul(Z,ae)|0,E=Math.imul(Z,le),g=g+Math.imul(O,ye)|0,l=l+Math.imul(O,pe)|0,l=l+Math.imul(R,ye)|0,E=E+Math.imul(R,pe)|0,g=g+Math.imul(M,Ee)|0,l=l+Math.imul(M,Me)|0,l=l+Math.imul(H,Ee)|0,E=E+Math.imul(H,Me)|0,g=g+Math.imul(d,_e)|0,l=l+Math.imul(d,Se)|0,l=l+Math.imul(A,_e)|0,E=E+Math.imul(A,Se)|0;var Gt=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,g=Math.imul(ie,ae),l=Math.imul(ie,le),l=l+Math.imul(V,ae)|0,E=Math.imul(V,le),g=g+Math.imul(j,ye)|0,l=l+Math.imul(j,pe)|0,l=l+Math.imul(Z,ye)|0,E=E+Math.imul(Z,pe)|0,g=g+Math.imul(O,Ee)|0,l=l+Math.imul(O,Me)|0,l=l+Math.imul(R,Ee)|0,E=E+Math.imul(R,Me)|0,g=g+Math.imul(M,_e)|0,l=l+Math.imul(M,Se)|0,l=l+Math.imul(H,_e)|0,E=E+Math.imul(H,Se)|0,g=g+Math.imul(d,Te)|0,l=l+Math.imul(d,Ce)|0,l=l+Math.imul(A,Te)|0,E=E+Math.imul(A,Ce)|0;var Vt=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,g=Math.imul(X,ae),l=Math.imul(X,le),l=l+Math.imul(se,ae)|0,E=Math.imul(se,le),g=g+Math.imul(ie,ye)|0,l=l+Math.imul(ie,pe)|0,l=l+Math.imul(V,ye)|0,E=E+Math.imul(V,pe)|0,g=g+Math.imul(j,Ee)|0,l=l+Math.imul(j,Me)|0,l=l+Math.imul(Z,Ee)|0,E=E+Math.imul(Z,Me)|0,g=g+Math.imul(O,_e)|0,l=l+Math.imul(O,Se)|0,l=l+Math.imul(R,_e)|0,E=E+Math.imul(R,Se)|0,g=g+Math.imul(M,Te)|0,l=l+Math.imul(M,Ce)|0,l=l+Math.imul(H,Te)|0,E=E+Math.imul(H,Ce)|0,g=g+Math.imul(d,ke)|0,l=l+Math.imul(d,De)|0,l=l+Math.imul(A,ke)|0,E=E+Math.imul(A,De)|0;var Jt=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,g=Math.imul(re,ae),l=Math.imul(re,le),l=l+Math.imul(he,ae)|0,E=Math.imul(he,le),g=g+Math.imul(X,ye)|0,l=l+Math.imul(X,pe)|0,l=l+Math.imul(se,ye)|0,E=E+Math.imul(se,pe)|0,g=g+Math.imul(ie,Ee)|0,l=l+Math.imul(ie,Me)|0,l=l+Math.imul(V,Ee)|0,E=E+Math.imul(V,Me)|0,g=g+Math.imul(j,_e)|0,l=l+Math.imul(j,Se)|0,l=l+Math.imul(Z,_e)|0,E=E+Math.imul(Z,Se)|0,g=g+Math.imul(O,Te)|0,l=l+Math.imul(O,Ce)|0,l=l+Math.imul(R,Te)|0,E=E+Math.imul(R,Ce)|0,g=g+Math.imul(M,ke)|0,l=l+Math.imul(M,De)|0,l=l+Math.imul(H,ke)|0,E=E+Math.imul(H,De)|0,g=g+Math.imul(d,Ne)|0,l=l+Math.imul(d,Ie)|0,l=l+Math.imul(A,Ne)|0,E=E+Math.imul(A,Ie)|0;var Yt=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,g=Math.imul(ge,ae),l=Math.imul(ge,le),l=l+Math.imul(Ae,ae)|0,E=Math.imul(Ae,le),g=g+Math.imul(re,ye)|0,l=l+Math.imul(re,pe)|0,l=l+Math.imul(he,ye)|0,E=E+Math.imul(he,pe)|0,g=g+Math.imul(X,Ee)|0,l=l+Math.imul(X,Me)|0,l=l+Math.imul(se,Ee)|0,E=E+Math.imul(se,Me)|0,g=g+Math.imul(ie,_e)|0,l=l+Math.imul(ie,Se)|0,l=l+Math.imul(V,_e)|0,E=E+Math.imul(V,Se)|0,g=g+Math.imul(j,Te)|0,l=l+Math.imul(j,Ce)|0,l=l+Math.imul(Z,Te)|0,E=E+Math.imul(Z,Ce)|0,g=g+Math.imul(O,ke)|0,l=l+Math.imul(O,De)|0,l=l+Math.imul(R,ke)|0,E=E+Math.imul(R,De)|0,g=g+Math.imul(M,Ne)|0,l=l+Math.imul(M,Ie)|0,l=l+Math.imul(H,Ne)|0,E=E+Math.imul(H,Ie)|0,g=g+Math.imul(d,Oe)|0,l=l+Math.imul(d,Re)|0,l=l+Math.imul(A,Oe)|0,E=E+Math.imul(A,Re)|0;var Wt=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,g=Math.imul(Q,ae),l=Math.imul(Q,le),l=l+Math.imul(G,ae)|0,E=Math.imul(G,le),g=g+Math.imul(ge,ye)|0,l=l+Math.imul(ge,pe)|0,l=l+Math.imul(Ae,ye)|0,E=E+Math.imul(Ae,pe)|0,g=g+Math.imul(re,Ee)|0,l=l+Math.imul(re,Me)|0,l=l+Math.imul(he,Ee)|0,E=E+Math.imul(he,Me)|0,g=g+Math.imul(X,_e)|0,l=l+Math.imul(X,Se)|0,l=l+Math.imul(se,_e)|0,E=E+Math.imul(se,Se)|0,g=g+Math.imul(ie,Te)|0,l=l+Math.imul(ie,Ce)|0,l=l+Math.imul(V,Te)|0,E=E+Math.imul(V,Ce)|0,g=g+Math.imul(j,ke)|0,l=l+Math.imul(j,De)|0,l=l+Math.imul(Z,ke)|0,E=E+Math.imul(Z,De)|0,g=g+Math.imul(O,Ne)|0,l=l+Math.imul(O,Ie)|0,l=l+Math.imul(R,Ne)|0,E=E+Math.imul(R,Ie)|0,g=g+Math.imul(M,Oe)|0,l=l+Math.imul(M,Re)|0,l=l+Math.imul(H,Oe)|0,E=E+Math.imul(H,Re)|0,g=g+Math.imul(d,Be)|0,l=l+Math.imul(d,Pe)|0,l=l+Math.imul(A,Be)|0,E=E+Math.imul(A,Pe)|0;var Bn=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,g=Math.imul($,ae),l=Math.imul($,le),l=l+Math.imul(ne,ae)|0,E=Math.imul(ne,le),g=g+Math.imul(Q,ye)|0,l=l+Math.imul(Q,pe)|0,l=l+Math.imul(G,ye)|0,E=E+Math.imul(G,pe)|0,g=g+Math.imul(ge,Ee)|0,l=l+Math.imul(ge,Me)|0,l=l+Math.imul(Ae,Ee)|0,E=E+Math.imul(Ae,Me)|0,g=g+Math.imul(re,_e)|0,l=l+Math.imul(re,Se)|0,l=l+Math.imul(he,_e)|0,E=E+Math.imul(he,Se)|0,g=g+Math.imul(X,Te)|0,l=l+Math.imul(X,Ce)|0,l=l+Math.imul(se,Te)|0,E=E+Math.imul(se,Ce)|0,g=g+Math.imul(ie,ke)|0,l=l+Math.imul(ie,De)|0,l=l+Math.imul(V,ke)|0,E=E+Math.imul(V,De)|0,g=g+Math.imul(j,Ne)|0,l=l+Math.imul(j,Ie)|0,l=l+Math.imul(Z,Ne)|0,E=E+Math.imul(Z,Ie)|0,g=g+Math.imul(O,Oe)|0,l=l+Math.imul(O,Re)|0,l=l+Math.imul(R,Oe)|0,E=E+Math.imul(R,Re)|0,g=g+Math.imul(M,Be)|0,l=l+Math.imul(M,Pe)|0,l=l+Math.imul(H,Be)|0,E=E+Math.imul(H,Pe)|0,g=g+Math.imul(d,Le)|0,l=l+Math.imul(d,Ue)|0,l=l+Math.imul(A,Le)|0,E=E+Math.imul(A,Ue)|0;var Pn=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,g=Math.imul($,ye),l=Math.imul($,pe),l=l+Math.imul(ne,ye)|0,E=Math.imul(ne,pe),g=g+Math.imul(Q,Ee)|0,l=l+Math.imul(Q,Me)|0,l=l+Math.imul(G,Ee)|0,E=E+Math.imul(G,Me)|0,g=g+Math.imul(ge,_e)|0,l=l+Math.imul(ge,Se)|0,l=l+Math.imul(Ae,_e)|0,E=E+Math.imul(Ae,Se)|0,g=g+Math.imul(re,Te)|0,l=l+Math.imul(re,Ce)|0,l=l+Math.imul(he,Te)|0,E=E+Math.imul(he,Ce)|0,g=g+Math.imul(X,ke)|0,l=l+Math.imul(X,De)|0,l=l+Math.imul(se,ke)|0,E=E+Math.imul(se,De)|0,g=g+Math.imul(ie,Ne)|0,l=l+Math.imul(ie,Ie)|0,l=l+Math.imul(V,Ne)|0,E=E+Math.imul(V,Ie)|0,g=g+Math.imul(j,Oe)|0,l=l+Math.imul(j,Re)|0,l=l+Math.imul(Z,Oe)|0,E=E+Math.imul(Z,Re)|0,g=g+Math.imul(O,Be)|0,l=l+Math.imul(O,Pe)|0,l=l+Math.imul(R,Be)|0,E=E+Math.imul(R,Pe)|0,g=g+Math.imul(M,Le)|0,l=l+Math.imul(M,Ue)|0,l=l+Math.imul(H,Le)|0,E=E+Math.imul(H,Ue)|0;var Ln=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,g=Math.imul($,Ee),l=Math.imul($,Me),l=l+Math.imul(ne,Ee)|0,E=Math.imul(ne,Me),g=g+Math.imul(Q,_e)|0,l=l+Math.imul(Q,Se)|0,l=l+Math.imul(G,_e)|0,E=E+Math.imul(G,Se)|0,g=g+Math.imul(ge,Te)|0,l=l+Math.imul(ge,Ce)|0,l=l+Math.imul(Ae,Te)|0,E=E+Math.imul(Ae,Ce)|0,g=g+Math.imul(re,ke)|0,l=l+Math.imul(re,De)|0,l=l+Math.imul(he,ke)|0,E=E+Math.imul(he,De)|0,g=g+Math.imul(X,Ne)|0,l=l+Math.imul(X,Ie)|0,l=l+Math.imul(se,Ne)|0,E=E+Math.imul(se,Ie)|0,g=g+Math.imul(ie,Oe)|0,l=l+Math.imul(ie,Re)|0,l=l+Math.imul(V,Oe)|0,E=E+Math.imul(V,Re)|0,g=g+Math.imul(j,Be)|0,l=l+Math.imul(j,Pe)|0,l=l+Math.imul(Z,Be)|0,E=E+Math.imul(Z,Pe)|0,g=g+Math.imul(O,Le)|0,l=l+Math.imul(O,Ue)|0,l=l+Math.imul(R,Le)|0,E=E+Math.imul(R,Ue)|0;var Un=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,g=Math.imul($,_e),l=Math.imul($,Se),l=l+Math.imul(ne,_e)|0,E=Math.imul(ne,Se),g=g+Math.imul(Q,Te)|0,l=l+Math.imul(Q,Ce)|0,l=l+Math.imul(G,Te)|0,E=E+Math.imul(G,Ce)|0,g=g+Math.imul(ge,ke)|0,l=l+Math.imul(ge,De)|0,l=l+Math.imul(Ae,ke)|0,E=E+Math.imul(Ae,De)|0,g=g+Math.imul(re,Ne)|0,l=l+Math.imul(re,Ie)|0,l=l+Math.imul(he,Ne)|0,E=E+Math.imul(he,Ie)|0,g=g+Math.imul(X,Oe)|0,l=l+Math.imul(X,Re)|0,l=l+Math.imul(se,Oe)|0,E=E+Math.imul(se,Re)|0,g=g+Math.imul(ie,Be)|0,l=l+Math.imul(ie,Pe)|0,l=l+Math.imul(V,Be)|0,E=E+Math.imul(V,Pe)|0,g=g+Math.imul(j,Le)|0,l=l+Math.imul(j,Ue)|0,l=l+Math.imul(Z,Le)|0,E=E+Math.imul(Z,Ue)|0;var $n=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+($n>>>26)|0,$n&=67108863,g=Math.imul($,Te),l=Math.imul($,Ce),l=l+Math.imul(ne,Te)|0,E=Math.imul(ne,Ce),g=g+Math.imul(Q,ke)|0,l=l+Math.imul(Q,De)|0,l=l+Math.imul(G,ke)|0,E=E+Math.imul(G,De)|0,g=g+Math.imul(ge,Ne)|0,l=l+Math.imul(ge,Ie)|0,l=l+Math.imul(Ae,Ne)|0,E=E+Math.imul(Ae,Ie)|0,g=g+Math.imul(re,Oe)|0,l=l+Math.imul(re,Re)|0,l=l+Math.imul(he,Oe)|0,E=E+Math.imul(he,Re)|0,g=g+Math.imul(X,Be)|0,l=l+Math.imul(X,Pe)|0,l=l+Math.imul(se,Be)|0,E=E+Math.imul(se,Pe)|0,g=g+Math.imul(ie,Le)|0,l=l+Math.imul(ie,Ue)|0,l=l+Math.imul(V,Le)|0,E=E+Math.imul(V,Ue)|0;var Fn=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,g=Math.imul($,ke),l=Math.imul($,De),l=l+Math.imul(ne,ke)|0,E=Math.imul(ne,De),g=g+Math.imul(Q,Ne)|0,l=l+Math.imul(Q,Ie)|0,l=l+Math.imul(G,Ne)|0,E=E+Math.imul(G,Ie)|0,g=g+Math.imul(ge,Oe)|0,l=l+Math.imul(ge,Re)|0,l=l+Math.imul(Ae,Oe)|0,E=E+Math.imul(Ae,Re)|0,g=g+Math.imul(re,Be)|0,l=l+Math.imul(re,Pe)|0,l=l+Math.imul(he,Be)|0,E=E+Math.imul(he,Pe)|0,g=g+Math.imul(X,Le)|0,l=l+Math.imul(X,Ue)|0,l=l+Math.imul(se,Le)|0,E=E+Math.imul(se,Ue)|0;var qn=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(qn>>>26)|0,qn&=67108863,g=Math.imul($,Ne),l=Math.imul($,Ie),l=l+Math.imul(ne,Ne)|0,E=Math.imul(ne,Ie),g=g+Math.imul(Q,Oe)|0,l=l+Math.imul(Q,Re)|0,l=l+Math.imul(G,Oe)|0,E=E+Math.imul(G,Re)|0,g=g+Math.imul(ge,Be)|0,l=l+Math.imul(ge,Pe)|0,l=l+Math.imul(Ae,Be)|0,E=E+Math.imul(Ae,Pe)|0,g=g+Math.imul(re,Le)|0,l=l+Math.imul(re,Ue)|0,l=l+Math.imul(he,Le)|0,E=E+Math.imul(he,Ue)|0;var Hn=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,g=Math.imul($,Oe),l=Math.imul($,Re),l=l+Math.imul(ne,Oe)|0,E=Math.imul(ne,Re),g=g+Math.imul(Q,Be)|0,l=l+Math.imul(Q,Pe)|0,l=l+Math.imul(G,Be)|0,E=E+Math.imul(G,Pe)|0,g=g+Math.imul(ge,Le)|0,l=l+Math.imul(ge,Ue)|0,l=l+Math.imul(Ae,Le)|0,E=E+Math.imul(Ae,Ue)|0;var Kn=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,g=Math.imul($,Be),l=Math.imul($,Pe),l=l+Math.imul(ne,Be)|0,E=Math.imul(ne,Pe),g=g+Math.imul(Q,Le)|0,l=l+Math.imul(Q,Ue)|0,l=l+Math.imul(G,Le)|0,E=E+Math.imul(G,Ue)|0;var zn=(v+g|0)+((l&8191)<<13)|0;v=(E+(l>>>13)|0)+(zn>>>26)|0,zn&=67108863,g=Math.imul($,Le),l=Math.imul($,Ue),l=l+Math.imul(ne,Le)|0,E=Math.imul(ne,Ue);var jn=(v+g|0)+((l&8191)<<13)|0;return v=(E+(l>>>13)|0)+(jn>>>26)|0,jn&=67108863,m[0]=ur,m[1]=Xe,m[2]=Ze,m[3]=Gt,m[4]=Vt,m[5]=Jt,m[6]=Yt,m[7]=Wt,m[8]=Bn,m[9]=Pn,m[10]=Ln,m[11]=Un,m[12]=$n,m[13]=Fn,m[14]=qn,m[15]=Hn,m[16]=Kn,m[17]=zn,m[18]=jn,v!==0&&(m[19]=v,h.length++),h};Math.imul||(C=N);function T(_,c,p){p.negative=c.negative^_.negative,p.length=_.length+c.length;for(var h=0,o=0,u=0;u<p.length-1;u++){var m=o;o=0;for(var v=h&67108863,g=Math.min(u,c.length-1),l=Math.max(0,u-_.length+1);l<=g;l++){var E=u-l,S=_.words[E]|0,d=c.words[l]|0,A=S*d,te=A&67108863;m=m+(A/67108864|0)|0,te=te+v|0,v=te&67108863,m=m+(te>>>26)|0,o+=m>>>26,m&=67108863}p.words[u]=v,h=m,m=o}return h!==0?p.words[u]=h:p.length--,p.strip()}function q(_,c,p){var h=new D;return h.mulp(_,c,p)}i.prototype.mulTo=function(c,p){var h,o=this.length+c.length;return this.length===10&&c.length===10?h=C(this,c,p):o<63?h=N(this,c,p):o<1024?h=T(this,c,p):h=q(this,c,p),h};function D(_,c){this.x=_,this.y=c}D.prototype.makeRBT=function(c){for(var p=new Array(c),h=i.prototype._countBits(c)-1,o=0;o<c;o++)p[o]=this.revBin(o,h,c);return p},D.prototype.revBin=function(c,p,h){if(c===0||c===h-1)return c;for(var o=0,u=0;u<p;u++)o|=(c&1)<<p-u-1,c>>=1;return o},D.prototype.permute=function(c,p,h,o,u,m){for(var v=0;v<m;v++)o[v]=p[c[v]],u[v]=h[c[v]]},D.prototype.transform=function(c,p,h,o,u,m){this.permute(m,c,p,h,o,u);for(var v=1;v<u;v<<=1)for(var g=v<<1,l=Math.cos(2*Math.PI/g),E=Math.sin(2*Math.PI/g),S=0;S<u;S+=g)for(var d=l,A=E,te=0;te<v;te++){var M=h[S+te],H=o[S+te],J=h[S+te+v],O=o[S+te+v],R=d*J-A*O;O=d*O+A*J,J=R,h[S+te]=M+J,o[S+te]=H+O,h[S+te+v]=M-J,o[S+te+v]=H-O,te!==g&&(R=l*d-E*A,A=l*A+E*d,d=R)}},D.prototype.guessLen13b=function(c,p){var h=Math.max(p,c)|1,o=h&1,u=0;for(h=h/2|0;h;h=h>>>1)u++;return 1<<u+1+o},D.prototype.conjugate=function(c,p,h){if(!(h<=1))for(var o=0;o<h/2;o++){var u=c[o];c[o]=c[h-o-1],c[h-o-1]=u,u=p[o],p[o]=-p[h-o-1],p[h-o-1]=-u}},D.prototype.normalize13b=function(c,p){for(var h=0,o=0;o<p/2;o++){var u=Math.round(c[2*o+1]/p)*8192+Math.round(c[2*o]/p)+h;c[o]=u&67108863,u<67108864?h=0:h=u/67108864|0}return c},D.prototype.convert13b=function(c,p,h,o){for(var u=0,m=0;m<p;m++)u=u+(c[m]|0),h[2*m]=u&8191,u=u>>>13,h[2*m+1]=u&8191,u=u>>>13;for(m=2*p;m<o;++m)h[m]=0;t(u===0),t((u&-8192)===0)},D.prototype.stub=function(c){for(var p=new Array(c),h=0;h<c;h++)p[h]=0;return p},D.prototype.mulp=function(c,p,h){var o=2*this.guessLen13b(c.length,p.length),u=this.makeRBT(o),m=this.stub(o),v=new Array(o),g=new Array(o),l=new Array(o),E=new Array(o),S=new Array(o),d=new Array(o),A=h.words;A.length=o,this.convert13b(c.words,c.length,v,o),this.convert13b(p.words,p.length,E,o),this.transform(v,m,g,l,o,u),this.transform(E,m,S,d,o,u);for(var te=0;te<o;te++){var M=g[te]*S[te]-l[te]*d[te];l[te]=g[te]*d[te]+l[te]*S[te],g[te]=M}return this.conjugate(g,l,o),this.transform(g,l,A,m,o,u),this.conjugate(A,m,o),this.normalize13b(A,o),h.negative=c.negative^p.negative,h.length=c.length+p.length,h.strip()},i.prototype.mul=function(c){var p=new i(null);return p.words=new Array(this.length+c.length),this.mulTo(c,p)},i.prototype.mulf=function(c){var p=new i(null);return p.words=new Array(this.length+c.length),q(this,c,p)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){t(typeof c=="number"),t(c<67108864);for(var p=0,h=0;h<this.length;h++){var o=(this.words[h]|0)*c,u=(o&67108863)+(p&67108863);p>>=26,p+=o/67108864|0,p+=u>>>26,this.words[h]=u&67108863}return p!==0&&(this.words[h]=p,this.length++),this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var p=k(c);if(p.length===0)return new i(1);for(var h=this,o=0;o<p.length&&p[o]===0;o++,h=h.sqr());if(++o<p.length)for(var u=h.sqr();o<p.length;o++,u=u.sqr())p[o]!==0&&(h=h.mul(u));return h},i.prototype.iushln=function(c){t(typeof c=="number"&&c>=0);var p=c%26,h=(c-p)/26,o=67108863>>>26-p<<26-p,u;if(p!==0){var m=0;for(u=0;u<this.length;u++){var v=this.words[u]&o,g=(this.words[u]|0)-v<<p;this.words[u]=g|m,m=v>>>26-p}m&&(this.words[u]=m,this.length++)}if(h!==0){for(u=this.length-1;u>=0;u--)this.words[u+h]=this.words[u];for(u=0;u<h;u++)this.words[u]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(c){return t(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,p,h){t(typeof c=="number"&&c>=0);var o;p?o=(p-p%26)/26:o=0;var u=c%26,m=Math.min((c-u)/26,this.length),v=67108863^67108863>>>u<<u,g=h;if(o-=m,o=Math.max(0,o),g){for(var l=0;l<m;l++)g.words[l]=this.words[l];g.length=m}if(m!==0)if(this.length>m)for(this.length-=m,l=0;l<this.length;l++)this.words[l]=this.words[l+m];else this.words[0]=0,this.length=1;var E=0;for(l=this.length-1;l>=0&&(E!==0||l>=o);l--){var S=this.words[l]|0;this.words[l]=E<<26-u|S>>>u,E=S&v}return g&&E!==0&&(g.words[g.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(c,p,h){return t(this.negative===0),this.iushrn(c,p,h)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){t(typeof c=="number"&&c>=0);var p=c%26,h=(c-p)/26,o=1<<p;if(this.length<=h)return!1;var u=this.words[h];return!!(u&o)},i.prototype.imaskn=function(c){t(typeof c=="number"&&c>=0);var p=c%26,h=(c-p)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(p!==0&&h++,this.length=Math.min(h,this.length),p!==0){var o=67108863^67108863>>>p<<p;this.words[this.length-1]&=o}return this.strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return t(typeof c=="number"),t(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(c){if(t(typeof c=="number"),t(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,p,h){var o=c.length+h,u;this._expand(o);var m,v=0;for(u=0;u<c.length;u++){m=(this.words[u+h]|0)+v;var g=(c.words[u]|0)*p;m-=g&67108863,v=(m>>26)-(g/67108864|0),this.words[u+h]=m&67108863}for(;u<this.length-h;u++)m=(this.words[u+h]|0)+v,v=m>>26,this.words[u+h]=m&67108863;if(v===0)return this.strip();for(t(v===-1),v=0,u=0;u<this.length;u++)m=-(this.words[u]|0)+v,v=m>>26,this.words[u]=m&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(c,p){var h=this.length-c.length,o=this.clone(),u=c,m=u.words[u.length-1]|0,v=this._countBits(m);h=26-v,h!==0&&(u=u.ushln(h),o.iushln(h),m=u.words[u.length-1]|0);var g=o.length-u.length,l;if(p!=="mod"){l=new i(null),l.length=g+1,l.words=new Array(l.length);for(var E=0;E<l.length;E++)l.words[E]=0}var S=o.clone()._ishlnsubmul(u,1,g);S.negative===0&&(o=S,l&&(l.words[g]=1));for(var d=g-1;d>=0;d--){var A=(o.words[u.length+d]|0)*67108864+(o.words[u.length+d-1]|0);for(A=Math.min(A/m|0,67108863),o._ishlnsubmul(u,A,d);o.negative!==0;)A--,o.negative=0,o._ishlnsubmul(u,1,d),o.isZero()||(o.negative^=1);l&&(l.words[d]=A)}return l&&l.strip(),o.strip(),p!=="div"&&h!==0&&o.iushrn(h),{div:l||null,mod:o}},i.prototype.divmod=function(c,p,h){if(t(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var o,u,m;return this.negative!==0&&c.negative===0?(m=this.neg().divmod(c,p),p!=="mod"&&(o=m.div.neg()),p!=="div"&&(u=m.mod.neg(),h&&u.negative!==0&&u.iadd(c)),{div:o,mod:u}):this.negative===0&&c.negative!==0?(m=this.divmod(c.neg(),p),p!=="mod"&&(o=m.div.neg()),{div:o,mod:m.mod}):this.negative&c.negative?(m=this.neg().divmod(c.neg(),p),p!=="div"&&(u=m.mod.neg(),h&&u.negative!==0&&u.isub(c)),{div:m.div,mod:u}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?p==="div"?{div:this.divn(c.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,p)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var p=this.divmod(c);if(p.mod.isZero())return p.div;var h=p.div.negative!==0?p.mod.isub(c):p.mod,o=c.ushrn(1),u=c.andln(1),m=h.cmp(o);return m<0||u===1&&m===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modn=function(c){t(c<=67108863);for(var p=(1<<26)%c,h=0,o=this.length-1;o>=0;o--)h=(p*h+(this.words[o]|0))%c;return h},i.prototype.idivn=function(c){t(c<=67108863);for(var p=0,h=this.length-1;h>=0;h--){var o=(this.words[h]|0)+p*67108864;this.words[h]=o/c|0,p=o%c}return this.strip()},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){t(c.negative===0),t(!c.isZero());var p=this,h=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var o=new i(1),u=new i(0),m=new i(0),v=new i(1),g=0;p.isEven()&&h.isEven();)p.iushrn(1),h.iushrn(1),++g;for(var l=h.clone(),E=p.clone();!p.isZero();){for(var S=0,d=1;!(p.words[0]&d)&&S<26;++S,d<<=1);if(S>0)for(p.iushrn(S);S-- >0;)(o.isOdd()||u.isOdd())&&(o.iadd(l),u.isub(E)),o.iushrn(1),u.iushrn(1);for(var A=0,te=1;!(h.words[0]&te)&&A<26;++A,te<<=1);if(A>0)for(h.iushrn(A);A-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(E)),m.iushrn(1),v.iushrn(1);p.cmp(h)>=0?(p.isub(h),o.isub(m),u.isub(v)):(h.isub(p),m.isub(o),v.isub(u))}return{a:m,b:v,gcd:h.iushln(g)}},i.prototype._invmp=function(c){t(c.negative===0),t(!c.isZero());var p=this,h=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var o=new i(1),u=new i(0),m=h.clone();p.cmpn(1)>0&&h.cmpn(1)>0;){for(var v=0,g=1;!(p.words[0]&g)&&v<26;++v,g<<=1);if(v>0)for(p.iushrn(v);v-- >0;)o.isOdd()&&o.iadd(m),o.iushrn(1);for(var l=0,E=1;!(h.words[0]&E)&&l<26;++l,E<<=1);if(l>0)for(h.iushrn(l);l-- >0;)u.isOdd()&&u.iadd(m),u.iushrn(1);p.cmp(h)>=0?(p.isub(h),o.isub(u)):(h.isub(p),u.isub(o))}var S;return p.cmpn(1)===0?S=o:S=u,S.cmpn(0)<0&&S.iadd(c),S},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var p=this.clone(),h=c.clone();p.negative=0,h.negative=0;for(var o=0;p.isEven()&&h.isEven();o++)p.iushrn(1),h.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;h.isEven();)h.iushrn(1);var u=p.cmp(h);if(u<0){var m=p;p=h,h=m}else if(u===0||h.cmpn(1)===0)break;p.isub(h)}while(!0);return h.iushln(o)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){t(typeof c=="number");var p=c%26,h=(c-p)/26,o=1<<p;if(this.length<=h)return this._expand(h+1),this.words[h]|=o,this;for(var u=o,m=h;u!==0&&m<this.length;m++){var v=this.words[m]|0;v+=u,u=v>>>26,v&=67108863,this.words[m]=v}return u!==0&&(this.words[m]=u,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var p=c<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var h;if(this.length>1)h=1;else{p&&(c=-c),t(c<=67108863,"Number is too big");var o=this.words[0]|0;h=o===c?0:o<c?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var p=this.ucmp(c);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var p=0,h=this.length-1;h>=0;h--){var o=this.words[h]|0,u=c.words[h]|0;if(o!==u){o<u?p=-1:o>u&&(p=1);break}}return p},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new P(c)},i.prototype.toRed=function(c){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return t(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return t(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var F={k256:null,p224:null,p192:null,p25519:null};function Y(_,c){this.name=_,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},Y.prototype.ireduce=function(c){var p=c,h;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),h=p.bitLength();while(h>this.n);var o=h<this.n?-1:p.ucmp(this.p);return o===0?(p.words[0]=0,p.length=1):o>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},Y.prototype.split=function(c,p){c.iushrn(this.n,0,p)},Y.prototype.imulK=function(c){return c.imul(this.k)};function z(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(z,Y),z.prototype.split=function(c,p){for(var h=4194303,o=Math.min(c.length,9),u=0;u<o;u++)p.words[u]=c.words[u];if(p.length=o,c.length<=9){c.words[0]=0,c.length=1;return}var m=c.words[9];for(p.words[p.length++]=m&h,u=10;u<c.length;u++){var v=c.words[u]|0;c.words[u-10]=(v&h)<<4|m>>>22,m=v}m>>>=22,c.words[u-10]=m,m===0&&c.length>10?c.length-=10:c.length-=9},z.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var p=0,h=0;h<c.length;h++){var o=c.words[h]|0;p+=o*977,c.words[h]=p&67108863,p=o*64+(p/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function W(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(W,Y);function L(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(L,Y);function B(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(B,Y),B.prototype.imulK=function(c){for(var p=0,h=0;h<c.length;h++){var o=(c.words[h]|0)*19+p,u=o&67108863;o>>>=26,c.words[h]=u,p=o}return p!==0&&(c.words[c.length++]=p),c},i._prime=function(c){if(F[c])return F[c];var p;if(c==="k256")p=new z;else if(c==="p224")p=new W;else if(c==="p192")p=new L;else if(c==="p25519")p=new B;else throw new Error("Unknown prime "+c);return F[c]=p,p};function P(_){if(typeof _=="string"){var c=i._prime(_);this.m=c.p,this.prime=c}else t(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}P.prototype._verify1=function(c){t(c.negative===0,"red works only with positives"),t(c.red,"red works only with red numbers")},P.prototype._verify2=function(c,p){t((c.negative|p.negative)===0,"red works only with positives"),t(c.red&&c.red===p.red,"red works only with red numbers")},P.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},P.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},P.prototype.add=function(c,p){this._verify2(c,p);var h=c.add(p);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},P.prototype.iadd=function(c,p){this._verify2(c,p);var h=c.iadd(p);return h.cmp(this.m)>=0&&h.isub(this.m),h},P.prototype.sub=function(c,p){this._verify2(c,p);var h=c.sub(p);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},P.prototype.isub=function(c,p){this._verify2(c,p);var h=c.isub(p);return h.cmpn(0)<0&&h.iadd(this.m),h},P.prototype.shl=function(c,p){return this._verify1(c),this.imod(c.ushln(p))},P.prototype.imul=function(c,p){return this._verify2(c,p),this.imod(c.imul(p))},P.prototype.mul=function(c,p){return this._verify2(c,p),this.imod(c.mul(p))},P.prototype.isqr=function(c){return this.imul(c,c.clone())},P.prototype.sqr=function(c){return this.mul(c,c)},P.prototype.sqrt=function(c){if(c.isZero())return c.clone();var p=this.m.andln(3);if(t(p%2===1),p===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(c,h)}for(var o=this.m.subn(1),u=0;!o.isZero()&&o.andln(1)===0;)u++,o.iushrn(1);t(!o.isZero());var m=new i(1).toRed(this),v=m.redNeg(),g=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,g).cmp(v)!==0;)l.redIAdd(v);for(var E=this.pow(l,o),S=this.pow(c,o.addn(1).iushrn(1)),d=this.pow(c,o),A=u;d.cmp(m)!==0;){for(var te=d,M=0;te.cmp(m)!==0;M++)te=te.redSqr();t(M<A);var H=this.pow(E,new i(1).iushln(A-M-1));S=S.redMul(H),E=H.redSqr(),d=d.redMul(E),A=M}return S},P.prototype.invm=function(c){var p=c._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},P.prototype.pow=function(c,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return c.clone();var h=4,o=new Array(1<<h);o[0]=new i(1).toRed(this),o[1]=c;for(var u=2;u<o.length;u++)o[u]=this.mul(o[u-1],c);var m=o[0],v=0,g=0,l=p.bitLength()%26;for(l===0&&(l=26),u=p.length-1;u>=0;u--){for(var E=p.words[u],S=l-1;S>=0;S--){var d=E>>S&1;if(m!==o[0]&&(m=this.sqr(m)),d===0&&v===0){g=0;continue}v<<=1,v|=d,g++,!(g!==h&&(u!==0||S!==0))&&(m=this.mul(m,o[v]),g=0,v=0)}l=26}return m},P.prototype.convertTo=function(c){var p=c.umod(this.m);return p===c?p.clone():p},P.prototype.convertFrom=function(c){var p=c.clone();return p.red=null,p},i.mont=function(c){return new ee(c)};function ee(_){P.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ee,P),ee.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ee.prototype.convertFrom=function(c){var p=this.imod(c.mul(this.rinv));return p.red=null,p},ee.prototype.imul=function(c,p){if(c.isZero()||p.isZero())return c.words[0]=0,c.length=1,c;var h=c.imul(p),o=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=h.isub(o).iushrn(this.shift),m=u;return u.cmp(this.m)>=0?m=u.isub(this.m):u.cmpn(0)<0&&(m=u.iadd(this.m)),m._forceRed(this)},ee.prototype.mul=function(c,p){if(c.isZero()||p.isZero())return new i(0)._forceRed(this);var h=c.mul(p),o=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=h.isub(o).iushrn(this.shift),m=u;return u.cmp(this.m)>=0?m=u.isub(this.m):u.cmpn(0)<0&&(m=u.iadd(this.m)),m._forceRed(this)},ee.prototype.invm=function(c){var p=this.imod(c._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof Kf>"u"||Kf,Qh)});var bn=de((Sx,tl)=>{tl.exports=el;function el(r,e){if(!r)throw new Error(e||"Assertion failed")}el.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}});var zf=de(il=>{"use strict";var Io=il;function X3(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r!="string"){for(var n=0;n<r.length;n++)t[n]=r[n]|0;return t}if(e==="hex"){r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r);for(var n=0;n<r.length;n+=2)t.push(parseInt(r[n]+r[n+1],16))}else for(var n=0;n<r.length;n++){var i=r.charCodeAt(n),s=i>>8,a=i&255;s?t.push(s,a):t.push(a)}return t}Io.toArray=X3;function rl(r){return r.length===1?"0"+r:r}Io.zero2=rl;function nl(r){for(var e="",t=0;t<r.length;t++)e+=rl(r[t].toString(16));return e}Io.toHex=nl;Io.encode=function(e,t){return t==="hex"?nl(e):e}});var Ut=de(sl=>{"use strict";var lr=sl,Z3=kr(),Q3=bn(),Oo=zf();lr.assert=Q3;lr.toArray=Oo.toArray;lr.zero2=Oo.zero2;lr.toHex=Oo.toHex;lr.encode=Oo.encode;function e6(r,e,t){var n=new Array(Math.max(r.bitLength(),t)+1);n.fill(0);for(var i=1<<e+1,s=r.clone(),a=0;a<n.length;a++){var f,b=s.andln(i-1);s.isOdd()?(b>(i>>1)-1?f=(i>>1)-b:f=b,s.isubn(f)):f=0,n[a]=f,s.iushrn(1)}return n}lr.getNAF=e6;function t6(r,e){var t=[[],[]];r=r.clone(),e=e.clone();for(var n=0,i=0,s;r.cmpn(-n)>0||e.cmpn(-i)>0;){var a=r.andln(3)+n&3,f=e.andln(3)+i&3;a===3&&(a=-1),f===3&&(f=-1);var b;a&1?(s=r.andln(7)+n&7,(s===3||s===5)&&f===2?b=-a:b=a):b=0,t[0].push(b);var x;f&1?(s=e.andln(7)+i&7,(s===3||s===5)&&a===2?x=-f:x=f):x=0,t[1].push(x),2*n===b+1&&(n=1-n),2*i===x+1&&(i=1-i),r.iushrn(1),e.iushrn(1)}return t}lr.getJSF=t6;function r6(r,e,t){var n="_"+e;r.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=t.call(this)}}lr.cachedProperty=r6;function n6(r){return typeof r=="string"?lr.toArray(r,"hex"):r}lr.parseBytes=n6;function i6(r){return new Z3(r,"hex","le")}lr.intFromLE=i6});var Jf=de((kx,Vf)=>{var jf;Vf.exports=function(e){return jf||(jf=new mn(null)),jf.generate(e)};function mn(r){this.rand=r}Vf.exports.Rand=mn;mn.prototype.generate=function(e){return this._rand(e)};mn.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?mn.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?mn.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(mn.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(Gf=Ja(),typeof Gf.randomBytes!="function")throw new Error("Not supported");mn.prototype._rand=function(e){return Gf.randomBytes(e)}}catch{}var Gf});var ys=de((Dx,ol)=>{"use strict";var ni=kr(),vs=Ut(),Ro=vs.getNAF,s6=vs.getJSF,Bo=vs.assert;function gn(r,e){this.type=r,this.p=new ni(e.p,16),this.red=e.prime?ni.red(e.prime):ni.mont(this.p),this.zero=new ni(0).toRed(this.red),this.one=new ni(1).toRed(this.red),this.two=new ni(2).toRed(this.red),this.n=e.n&&new ni(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}ol.exports=gn;gn.prototype.point=function(){throw new Error("Not implemented")};gn.prototype.validate=function(){throw new Error("Not implemented")};gn.prototype._fixedNafMul=function(e,t){Bo(e.precomputed);var n=e._getDoubles(),i=Ro(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],f,b;for(f=0;f<i.length;f+=n.step){b=0;for(var x=f+n.step-1;x>=f;x--)b=(b<<1)+i[x];a.push(b)}for(var y=this.jpoint(null,null,null),w=this.jpoint(null,null,null),k=s;k>0;k--){for(f=0;f<a.length;f++)b=a[f],b===k?w=w.mixedAdd(n.points[f]):b===-k&&(w=w.mixedAdd(n.points[f].neg()));y=y.add(w)}return y.toP()};gn.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=Ro(t,n,this._bitLength),f=this.jpoint(null,null,null),b=a.length-1;b>=0;b--){for(var x=0;b>=0&&a[b]===0;b--)x++;if(b>=0&&x++,f=f.dblp(x),b<0)break;var y=a[b];Bo(y!==0),e.type==="affine"?y>0?f=f.mixedAdd(s[y-1>>1]):f=f.mixedAdd(s[-y-1>>1].neg()):y>0?f=f.add(s[y-1>>1]):f=f.add(s[-y-1>>1].neg())}return e.type==="affine"?f.toP():f};gn.prototype._wnafMulAdd=function(e,t,n,i,s){var a=this._wnafT1,f=this._wnafT2,b=this._wnafT3,x=0,y,w,k;for(y=0;y<i;y++){k=t[y];var N=k._getNAFPoints(e);a[y]=N.wnd,f[y]=N.points}for(y=i-1;y>=1;y-=2){var C=y-1,T=y;if(a[C]!==1||a[T]!==1){b[C]=Ro(n[C],a[C],this._bitLength),b[T]=Ro(n[T],a[T],this._bitLength),x=Math.max(b[C].length,x),x=Math.max(b[T].length,x);continue}var q=[t[C],null,null,t[T]];t[C].y.cmp(t[T].y)===0?(q[1]=t[C].add(t[T]),q[2]=t[C].toJ().mixedAdd(t[T].neg())):t[C].y.cmp(t[T].y.redNeg())===0?(q[1]=t[C].toJ().mixedAdd(t[T]),q[2]=t[C].add(t[T].neg())):(q[1]=t[C].toJ().mixedAdd(t[T]),q[2]=t[C].toJ().mixedAdd(t[T].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],F=s6(n[C],n[T]);for(x=Math.max(F[0].length,x),b[C]=new Array(x),b[T]=new Array(x),w=0;w<x;w++){var Y=F[0][w]|0,z=F[1][w]|0;b[C][w]=D[(Y+1)*3+(z+1)],b[T][w]=0,f[C]=q}}var W=this.jpoint(null,null,null),L=this._wnafT4;for(y=x;y>=0;y--){for(var B=0;y>=0;){var P=!0;for(w=0;w<i;w++)L[w]=b[w][y]|0,L[w]!==0&&(P=!1);if(!P)break;B++,y--}if(y>=0&&B++,W=W.dblp(B),y<0)break;for(w=0;w<i;w++){var ee=L[w];ee!==0&&(ee>0?k=f[w][ee-1>>1]:ee<0&&(k=f[w][-ee-1>>1].neg()),k.type==="affine"?W=W.mixedAdd(k):W=W.add(k))}}for(y=0;y<i;y++)f[y]=null;return s?W:W.toP()};function er(r,e){this.curve=r,this.type=e,this.precomputed=null}gn.BasePoint=er;er.prototype.eq=function(){throw new Error("Not implemented")};er.prototype.validate=function(){return this.curve.validate(this)};gn.prototype.decodePoint=function(e,t){e=vs.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Bo(e[e.length-1]%2===0):e[0]===7&&Bo(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};er.prototype.encodeCompressed=function(e){return this.encode(e,!0)};er.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};er.prototype.encode=function(e,t){return vs.encode(this._encode(t),e)};er.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};er.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};er.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<t;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}};er.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};er.prototype._getBeta=function(){return null};er.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}});var xs=de((Nx,Yf)=>{typeof Object.create=="function"?Yf.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Yf.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}});var fl=de((Ix,al)=>{"use strict";var o6=Ut(),at=kr(),Wf=xs(),Ii=ys(),a6=o6.assert;function tr(r){Ii.call(this,"short",r),this.a=new at(r.a,16).toRed(this.red),this.b=new at(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Wf(tr,Ii);al.exports=tr;tr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new at(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new at(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?n=s[0]:(n=s[1],a6(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new at(f.a,16),b:new at(f.b,16)}}):a=this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}};tr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:at.mont(e),n=new at(2).toRed(t).redInvm(),i=n.redNeg(),s=new at(3).toRed(t).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),f=i.redSub(s).fromRed();return[a,f]};tr.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new at(1),a=new at(0),f=new at(0),b=new at(1),x,y,w,k,N,C,T,q=0,D,F;n.cmpn(0)!==0;){var Y=i.div(n);D=i.sub(Y.mul(n)),F=f.sub(Y.mul(s));var z=b.sub(Y.mul(a));if(!w&&D.cmp(t)<0)x=T.neg(),y=s,w=D.neg(),k=F;else if(w&&++q===2)break;T=D,i=n,n=D,f=s,s=F,b=a,a=z}N=D.neg(),C=F;var W=w.sqr().add(k.sqr()),L=N.sqr().add(C.sqr());return L.cmp(W)>=0&&(N=x,C=y),w.negative&&(w=w.neg(),k=k.neg()),N.negative&&(N=N.neg(),C=C.neg()),[{a:w,b:k},{a:N,b:C}]};tr.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),f=s.mul(n.a),b=a.mul(i.a),x=s.mul(n.b),y=a.mul(i.b),w=e.sub(f).sub(b),k=x.add(y).neg();return{k1:w,k2:k}};tr.prototype.pointFromX=function(e,t){e=new at(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};tr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};tr.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(t[a]),b=e[a],x=b._getBeta();f.k1.negative&&(f.k1.ineg(),b=b.neg(!0)),f.k2.negative&&(f.k2.ineg(),x=x.neg(!0)),i[a*2]=b,i[a*2+1]=x,s[a*2]=f.k1,s[a*2+1]=f.k2}for(var y=this._wnafMulAdd(1,i,s,a*2,n),w=0;w<a*2;w++)i[w]=null,s[w]=null;return y};function dt(r,e,t,n){Ii.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new at(e,16),this.y=new at(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Wf(dt,Ii.BasePoint);tr.prototype.point=function(e,t,n){return new dt(this,e,t,n)};tr.prototype.pointFromJSON=function(e,t){return dt.fromJSON(this,e,t)};dt.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};dt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};dt.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function s(f){return e.point(f[0],f[1],n)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i};dt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};dt.prototype.isInfinity=function(){return this.inf};dt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};dt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),f=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)};dt.prototype.getX=function(){return this.x.fromRed()};dt.prototype.getY=function(){return this.y.fromRed()};dt.prototype.mul=function(e){return e=new at(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};dt.prototype.mulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};dt.prototype.jmulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};dt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};dt.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};dt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yt(r,e,t,n){Ii.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new at(0)):(this.x=new at(e,16),this.y=new at(t,16),this.z=new at(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Wf(yt,Ii.BasePoint);tr.prototype.jpoint=function(e,t,n){return new yt(this,e,t,n)};yt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};yt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),b=i.redSub(s),x=a.redSub(f);if(b.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=b.redSqr(),w=y.redMul(b),k=i.redMul(y),N=x.redSqr().redIAdd(w).redISub(k).redISub(k),C=x.redMul(k.redISub(N)).redISub(a.redMul(w)),T=this.z.redMul(e.z).redMul(b);return this.curve.jpoint(N,C,T)};yt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),s=this.y,a=e.y.redMul(t).redMul(this.z),f=n.redSub(i),b=s.redSub(a);if(f.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=f.redSqr(),y=x.redMul(f),w=n.redMul(x),k=b.redSqr().redIAdd(y).redISub(w).redISub(w),N=b.redMul(w.redISub(k)).redISub(s.redMul(y)),C=this.z.redMul(f);return this.curve.jpoint(k,N,C)};yt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,f=this.y,b=this.z,x=b.redSqr().redSqr(),y=f.redAdd(f);for(t=0;t<e;t++){var w=a.redSqr(),k=y.redSqr(),N=k.redSqr(),C=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(x)),T=a.redMul(k),q=C.redSqr().redISub(T.redAdd(T)),D=T.redISub(q),F=C.redMul(D);F=F.redIAdd(F).redISub(N);var Y=y.redMul(b);t+1<e&&(x=x.redMul(N)),a=q,b=Y,y=F}return this.curve.jpoint(a,y.redMul(s),b)};yt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yt.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var b=i.redAdd(i).redIAdd(i),x=b.redSqr().redISub(f).redISub(f),y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),e=x,t=b.redMul(f.redISub(x)).redISub(y),n=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),k=this.y.redSqr(),N=k.redSqr(),C=this.x.redAdd(k).redSqr().redISub(w).redISub(N);C=C.redIAdd(C);var T=w.redAdd(w).redIAdd(w),q=T.redSqr(),D=N.redIAdd(N);D=D.redIAdd(D),D=D.redIAdd(D),e=q.redISub(C).redISub(C),t=T.redMul(C.redISub(e)).redISub(D),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};yt.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var b=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),x=b.redSqr().redISub(f).redISub(f);e=x;var y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),t=b.redMul(f.redISub(x)).redISub(y),n=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),k=this.y.redSqr(),N=this.x.redMul(k),C=this.x.redSub(w).redMul(this.x.redAdd(w));C=C.redAdd(C).redIAdd(C);var T=N.redIAdd(N);T=T.redIAdd(T);var q=T.redAdd(T);e=C.redSqr().redISub(q),n=this.y.redAdd(this.z).redSqr().redISub(k).redISub(w);var D=k.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),t=C.redMul(T.redISub(e)).redISub(D)}return this.curve.jpoint(e,t,n)};yt.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=t.redSqr(),f=n.redSqr(),b=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),x=t.redAdd(t);x=x.redIAdd(x);var y=x.redMul(f),w=b.redSqr().redISub(y.redAdd(y)),k=y.redISub(w),N=f.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var C=b.redMul(k).redISub(N),T=n.redAdd(n).redMul(i);return this.curve.jpoint(w,C,T)};yt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),f=this.x.redAdd(t).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var b=f.redSqr(),x=i.redIAdd(i);x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var y=s.redIAdd(f).redSqr().redISub(a).redISub(b).redISub(x),w=t.redMul(y);w=w.redIAdd(w),w=w.redIAdd(w);var k=this.x.redMul(b).redISub(w);k=k.redIAdd(k),k=k.redIAdd(k);var N=this.y.redMul(y.redMul(x.redISub(y)).redISub(f.redMul(b)));N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var C=this.z.redAdd(f).redSqr().redISub(n).redISub(b);return this.curve.jpoint(k,N,C)};yt.prototype.mul=function(e,t){return e=new at(e,t),this.curve._wnafMul(this,e)};yt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};yt.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};yt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yt.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var hl=de((Ox,ul)=>{"use strict";var Oi=kr(),cl=xs(),Po=ys(),f6=Ut();function Ri(r){Po.call(this,"mont",r),this.a=new Oi(r.a,16).toRed(this.red),this.b=new Oi(r.b,16).toRed(this.red),this.i4=new Oi(4).toRed(this.red).redInvm(),this.two=new Oi(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}cl(Ri,Po);ul.exports=Ri;Ri.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),i=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t),s=i.redSqrt();return s.redSqr().cmp(i)===0};function pt(r,e,t){Po.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Oi(e,16),this.z=new Oi(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}cl(pt,Po.BasePoint);Ri.prototype.decodePoint=function(e,t){return this.point(f6.toArray(e,t),1)};Ri.prototype.point=function(e,t){return new pt(this,e,t)};Ri.prototype.pointFromJSON=function(e){return pt.fromJSON(this,e)};pt.prototype.precompute=function(){};pt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};pt.fromJSON=function(e,t){return new pt(e,t[0],t[1]||e.one)};pt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};pt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};pt.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=t.redSub(i),a=t.redMul(i),f=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,f)};pt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};pt.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z),f=a.redMul(n),b=s.redMul(i),x=t.z.redMul(f.redAdd(b).redSqr()),y=t.x.redMul(f.redISub(b).redSqr());return this.curve.point(x,y)};pt.prototype.mul=function(e){for(var t=e.clone(),n=this,i=this.curve.point(null,null),s=this,a=[];t.cmpn(0)!==0;t.iushrn(1))a.push(t.andln(1));for(var f=a.length-1;f>=0;f--)a[f]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};pt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};pt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};pt.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};pt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};pt.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var pl=de((Rx,dl)=>{"use strict";var c6=Ut(),Vr=kr(),ll=xs(),Lo=ys(),u6=c6.assert;function Dr(r){this.twisted=(r.a|0)!==1,this.mOneA=this.twisted&&(r.a|0)===-1,this.extended=this.mOneA,Lo.call(this,"edwards",r),this.a=new Vr(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Vr(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Vr(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u6(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)===1}ll(Dr,Lo);dl.exports=Dr;Dr.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Dr.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Dr.prototype.jpoint=function(e,t,n,i){return this.point(e,t,n,i)};Dr.prototype.pointFromX=function(e,t){e=new Vr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(s.redInvm()),f=a.redSqrt();if(f.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var b=f.fromRed().isOdd();return(t&&!b||!t&&b)&&(f=f.redNeg()),this.point(e,f)};Dr.prototype.pointFromY=function(e,t){e=new Vr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var f=a.redSqrt();if(f.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==t&&(f=f.redNeg()),this.point(f,e)};Dr.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),i=t.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return i.cmp(s)===0};function it(r,e,t,n,i){Lo.BasePoint.call(this,r,"projective"),e===null&&t===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Vr(e,16),this.y=new Vr(t,16),this.z=n?new Vr(n,16):this.curve.one,this.t=i&&new Vr(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}ll(it,Lo.BasePoint);Dr.prototype.pointFromJSON=function(e){return it.fromJSON(this,e)};Dr.prototype.point=function(e,t,n,i){return new it(this,e,t,n,i)};it.fromJSON=function(e,t){return new it(e,t[0],t[1],t[2])};it.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};it.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};it.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=i.redAdd(t),f=a.redSub(n),b=i.redSub(t),x=s.redMul(f),y=a.redMul(b),w=s.redMul(b),k=f.redMul(a);return this.curve.point(x,y,k,w)};it.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),n=this.y.redSqr(),i,s,a,f,b,x;if(this.curve.twisted){f=this.curve._mulA(t);var y=f.redAdd(n);this.zOne?(i=e.redSub(t).redSub(n).redMul(y.redSub(this.curve.two)),s=y.redMul(f.redSub(n)),a=y.redSqr().redSub(y).redSub(y)):(b=this.z.redSqr(),x=y.redSub(b).redISub(b),i=e.redSub(t).redISub(n).redMul(x),s=y.redMul(f.redSub(n)),a=y.redMul(x))}else f=t.redAdd(n),b=this.curve._mulC(this.z).redSqr(),x=f.redSub(b).redSub(b),i=this.curve._mulC(e.redISub(f)).redMul(x),s=this.curve._mulC(f).redMul(t.redISub(n)),a=f.redMul(x);return this.curve.point(i,s,a)};it.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};it.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(t),f=s.redSub(i),b=s.redAdd(i),x=n.redAdd(t),y=a.redMul(f),w=b.redMul(x),k=a.redMul(x),N=f.redMul(b);return this.curve.point(y,w,N,k)};it.prototype._projAdd=function(e){var t=this.z.redMul(e.z),n=t.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(s),f=n.redSub(a),b=n.redAdd(a),x=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),y=t.redMul(f).redMul(x),w,k;return this.curve.twisted?(w=t.redMul(b).redMul(s.redSub(this.curve._mulA(i))),k=f.redMul(b)):(w=t.redMul(b).redMul(s.redSub(i)),k=this.curve._mulC(f).redMul(b)),this.curve.point(y,w,k)};it.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};it.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};it.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)};it.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)};it.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};it.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};it.prototype.getX=function(){return this.normalize(),this.x.fromRed()};it.prototype.getY=function(){return this.normalize(),this.y.fromRed()};it.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};it.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),this.x.cmp(t)===0)return!0}};it.prototype.toP=it.prototype.normalize;it.prototype.mixedAdd=it.prototype.add});var Xf=de(bl=>{"use strict";var Uo=bl;Uo.base=ys();Uo.short=fl();Uo.mont=hl();Uo.edwards=pl()});var dr=de(nt=>{"use strict";var h6=bn(),l6=xs();nt.inherits=l6;function d6(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function p6(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var n=0,i=0;i<r.length;i++){var s=r.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):d6(r,i)?(s=65536+((s&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}else for(i=0;i<r.length;i++)t[i]=r[i]|0;return t}nt.toArray=p6;function b6(r){for(var e="",t=0;t<r.length;t++)e+=gl(r[t].toString(16));return e}nt.toHex=b6;function ml(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}nt.htonl=ml;function m6(r,e){for(var t="",n=0;n<r.length;n++){var i=r[n];e==="little"&&(i=ml(i)),t+=vl(i.toString(16))}return t}nt.toHex32=m6;function gl(r){return r.length===1?"0"+r:r}nt.zero2=gl;function vl(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}nt.zero8=vl;function g6(r,e,t,n){var i=t-e;h6(i%4===0);for(var s=new Array(i/4),a=0,f=e;a<s.length;a++,f+=4){var b;n==="big"?b=r[f]<<24|r[f+1]<<16|r[f+2]<<8|r[f+3]:b=r[f+3]<<24|r[f+2]<<16|r[f+1]<<8|r[f],s[a]=b>>>0}return s}nt.join32=g6;function v6(r,e){for(var t=new Array(r.length*4),n=0,i=0;n<r.length;n++,i+=4){var s=r[n];e==="big"?(t[i]=s>>>24,t[i+1]=s>>>16&255,t[i+2]=s>>>8&255,t[i+3]=s&255):(t[i+3]=s>>>24,t[i+2]=s>>>16&255,t[i+1]=s>>>8&255,t[i]=s&255)}return t}nt.split32=v6;function y6(r,e){return r>>>e|r<<32-e}nt.rotr32=y6;function x6(r,e){return r<<e|r>>>32-e}nt.rotl32=x6;function w6(r,e){return r+e>>>0}nt.sum32=w6;function E6(r,e,t){return r+e+t>>>0}nt.sum32_3=E6;function A6(r,e,t,n){return r+e+t+n>>>0}nt.sum32_4=A6;function M6(r,e,t,n,i){return r+e+t+n+i>>>0}nt.sum32_5=M6;function _6(r,e,t,n){var i=r[e],s=r[e+1],a=n+s>>>0,f=(a<n?1:0)+t+i;r[e]=f>>>0,r[e+1]=a}nt.sum64=_6;function S6(r,e,t,n){var i=e+n>>>0,s=(i<e?1:0)+r+t;return s>>>0}nt.sum64_hi=S6;function T6(r,e,t,n){var i=e+n;return i>>>0}nt.sum64_lo=T6;function C6(r,e,t,n,i,s,a,f){var b=0,x=e;x=x+n>>>0,b+=x<e?1:0,x=x+s>>>0,b+=x<s?1:0,x=x+f>>>0,b+=x<f?1:0;var y=r+t+i+a+b;return y>>>0}nt.sum64_4_hi=C6;function k6(r,e,t,n,i,s,a,f){var b=e+n+s+f;return b>>>0}nt.sum64_4_lo=k6;function D6(r,e,t,n,i,s,a,f,b,x){var y=0,w=e;w=w+n>>>0,y+=w<e?1:0,w=w+s>>>0,y+=w<s?1:0,w=w+f>>>0,y+=w<f?1:0,w=w+x>>>0,y+=w<x?1:0;var k=r+t+i+a+b+y;return k>>>0}nt.sum64_5_hi=D6;function N6(r,e,t,n,i,s,a,f,b,x){var y=e+n+s+f+x;return y>>>0}nt.sum64_5_lo=N6;function I6(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}nt.rotr64_hi=I6;function O6(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}nt.rotr64_lo=O6;function R6(r,e,t){return r>>>t}nt.shr64_hi=R6;function B6(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}nt.shr64_lo=B6});var Bi=de(xl=>{"use strict";var yl=dr(),P6=bn();function $o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}xl.BlockHash=$o;$o.prototype.update=function(e,t){if(e=yl.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=yl.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};$o.prototype.digest=function(e){return this.update(this._pad()),P6(this.pending===null),this._digest(e)};$o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,a=8;a<this.padLength;a++)i[s++]=0;return i}});var Zf=de(Jr=>{"use strict";var L6=dr(),Nr=L6.rotr32;function U6(r,e,t,n){if(r===0)return wl(e,t,n);if(r===1||r===3)return Al(e,t,n);if(r===2)return El(e,t,n)}Jr.ft_1=U6;function wl(r,e,t){return r&e^~r&t}Jr.ch32=wl;function El(r,e,t){return r&e^r&t^e&t}Jr.maj32=El;function Al(r,e,t){return r^e^t}Jr.p32=Al;function $6(r){return Nr(r,2)^Nr(r,13)^Nr(r,22)}Jr.s0_256=$6;function F6(r){return Nr(r,6)^Nr(r,11)^Nr(r,25)}Jr.s1_256=F6;function q6(r){return Nr(r,7)^Nr(r,18)^r>>>3}Jr.g0_256=q6;function H6(r){return Nr(r,17)^Nr(r,19)^r>>>10}Jr.g1_256=H6});var Sl=de(($x,_l)=>{"use strict";var Pi=dr(),K6=Bi(),z6=Zf(),Qf=Pi.rotl32,ws=Pi.sum32,j6=Pi.sum32_5,G6=z6.ft_1,Ml=K6.BlockHash,V6=[1518500249,1859775393,2400959708,3395469782];function Ir(){if(!(this instanceof Ir))return new Ir;Ml.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Pi.inherits(Ir,Ml);_l.exports=Ir;Ir.blockSize=512;Ir.outSize=160;Ir.hmacStrength=80;Ir.padLength=64;Ir.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=Qf(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],a=this.h[1],f=this.h[2],b=this.h[3],x=this.h[4];for(i=0;i<n.length;i++){var y=~~(i/20),w=j6(Qf(s,5),G6(y,a,f,b),x,n[i],V6[y]);x=b,b=f,f=Qf(a,30),a=s,s=w}this.h[0]=ws(this.h[0],s),this.h[1]=ws(this.h[1],a),this.h[2]=ws(this.h[2],f),this.h[3]=ws(this.h[3],b),this.h[4]=ws(this.h[4],x)};Ir.prototype._digest=function(e){return e==="hex"?Pi.toHex32(this.h,"big"):Pi.split32(this.h,"big")}});var ec=de((Fx,Cl)=>{"use strict";var Li=dr(),J6=Bi(),Ui=Zf(),Y6=bn(),pr=Li.sum32,W6=Li.sum32_4,X6=Li.sum32_5,Z6=Ui.ch32,Q6=Ui.maj32,eg=Ui.s0_256,tg=Ui.s1_256,rg=Ui.g0_256,ng=Ui.g1_256,Tl=J6.BlockHash,ig=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Or(){if(!(this instanceof Or))return new Or;Tl.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ig,this.W=new Array(64)}Li.inherits(Or,Tl);Cl.exports=Or;Or.blockSize=512;Or.outSize=256;Or.hmacStrength=192;Or.padLength=64;Or.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=W6(ng(n[i-2]),n[i-7],rg(n[i-15]),n[i-16]);var s=this.h[0],a=this.h[1],f=this.h[2],b=this.h[3],x=this.h[4],y=this.h[5],w=this.h[6],k=this.h[7];for(Y6(this.k.length===n.length),i=0;i<n.length;i++){var N=X6(k,tg(x),Z6(x,y,w),this.k[i],n[i]),C=pr(eg(s),Q6(s,a,f));k=w,w=y,y=x,x=pr(b,N),b=f,f=a,a=s,s=pr(N,C)}this.h[0]=pr(this.h[0],s),this.h[1]=pr(this.h[1],a),this.h[2]=pr(this.h[2],f),this.h[3]=pr(this.h[3],b),this.h[4]=pr(this.h[4],x),this.h[5]=pr(this.h[5],y),this.h[6]=pr(this.h[6],w),this.h[7]=pr(this.h[7],k)};Or.prototype._digest=function(e){return e==="hex"?Li.toHex32(this.h,"big"):Li.split32(this.h,"big")}});var Nl=de((qx,Dl)=>{"use strict";var tc=dr(),kl=ec();function Yr(){if(!(this instanceof Yr))return new Yr;kl.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}tc.inherits(Yr,kl);Dl.exports=Yr;Yr.blockSize=512;Yr.outSize=224;Yr.hmacStrength=192;Yr.padLength=64;Yr.prototype._digest=function(e){return e==="hex"?tc.toHex32(this.h.slice(0,7),"big"):tc.split32(this.h.slice(0,7),"big")}});var ic=de((Hx,Bl)=>{"use strict";var Rt=dr(),sg=Bi(),og=bn(),Rr=Rt.rotr64_hi,Br=Rt.rotr64_lo,Il=Rt.shr64_hi,Ol=Rt.shr64_lo,vn=Rt.sum64,rc=Rt.sum64_hi,nc=Rt.sum64_lo,ag=Rt.sum64_4_hi,fg=Rt.sum64_4_lo,cg=Rt.sum64_5_hi,ug=Rt.sum64_5_lo,Rl=sg.BlockHash,hg=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function br(){if(!(this instanceof br))return new br;Rl.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=hg,this.W=new Array(160)}Rt.inherits(br,Rl);Bl.exports=br;br.blockSize=1024;br.outSize=512;br.hmacStrength=192;br.padLength=128;br.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var s=Eg(n[i-4],n[i-3]),a=Ag(n[i-4],n[i-3]),f=n[i-14],b=n[i-13],x=xg(n[i-30],n[i-29]),y=wg(n[i-30],n[i-29]),w=n[i-32],k=n[i-31];n[i]=ag(s,a,f,b,x,y,w,k),n[i+1]=fg(s,a,f,b,x,y,w,k)}};br.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],s=this.h[1],a=this.h[2],f=this.h[3],b=this.h[4],x=this.h[5],y=this.h[6],w=this.h[7],k=this.h[8],N=this.h[9],C=this.h[10],T=this.h[11],q=this.h[12],D=this.h[13],F=this.h[14],Y=this.h[15];og(this.k.length===n.length);for(var z=0;z<n.length;z+=2){var W=F,L=Y,B=vg(k,N),P=yg(k,N),ee=lg(k,N,C,T,q,D),_=dg(k,N,C,T,q,D),c=this.k[z],p=this.k[z+1],h=n[z],o=n[z+1],u=cg(W,L,B,P,ee,_,c,p,h,o),m=ug(W,L,B,P,ee,_,c,p,h,o);W=mg(i,s),L=gg(i,s),B=pg(i,s,a,f,b,x),P=bg(i,s,a,f,b,x);var v=rc(W,L,B,P),g=nc(W,L,B,P);F=q,Y=D,q=C,D=T,C=k,T=N,k=rc(y,w,u,m),N=nc(w,w,u,m),y=b,w=x,b=a,x=f,a=i,f=s,i=rc(u,m,v,g),s=nc(u,m,v,g)}vn(this.h,0,i,s),vn(this.h,2,a,f),vn(this.h,4,b,x),vn(this.h,6,y,w),vn(this.h,8,k,N),vn(this.h,10,C,T),vn(this.h,12,q,D),vn(this.h,14,F,Y)};br.prototype._digest=function(e){return e==="hex"?Rt.toHex32(this.h,"big"):Rt.split32(this.h,"big")};function lg(r,e,t,n,i){var s=r&t^~r&i;return s<0&&(s+=4294967296),s}function dg(r,e,t,n,i,s){var a=e&n^~e&s;return a<0&&(a+=4294967296),a}function pg(r,e,t,n,i){var s=r&t^r&i^t&i;return s<0&&(s+=4294967296),s}function bg(r,e,t,n,i,s){var a=e&n^e&s^n&s;return a<0&&(a+=4294967296),a}function mg(r,e){var t=Rr(r,e,28),n=Rr(e,r,2),i=Rr(e,r,7),s=t^n^i;return s<0&&(s+=4294967296),s}function gg(r,e){var t=Br(r,e,28),n=Br(e,r,2),i=Br(e,r,7),s=t^n^i;return s<0&&(s+=4294967296),s}function vg(r,e){var t=Rr(r,e,14),n=Rr(r,e,18),i=Rr(e,r,9),s=t^n^i;return s<0&&(s+=4294967296),s}function yg(r,e){var t=Br(r,e,14),n=Br(r,e,18),i=Br(e,r,9),s=t^n^i;return s<0&&(s+=4294967296),s}function xg(r,e){var t=Rr(r,e,1),n=Rr(r,e,8),i=Il(r,e,7),s=t^n^i;return s<0&&(s+=4294967296),s}function wg(r,e){var t=Br(r,e,1),n=Br(r,e,8),i=Ol(r,e,7),s=t^n^i;return s<0&&(s+=4294967296),s}function Eg(r,e){var t=Rr(r,e,19),n=Rr(e,r,29),i=Il(r,e,6),s=t^n^i;return s<0&&(s+=4294967296),s}function Ag(r,e){var t=Br(r,e,19),n=Br(e,r,29),i=Ol(r,e,6),s=t^n^i;return s<0&&(s+=4294967296),s}});var Ul=de((Kx,Ll)=>{"use strict";var sc=dr(),Pl=ic();function Wr(){if(!(this instanceof Wr))return new Wr;Pl.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}sc.inherits(Wr,Pl);Ll.exports=Wr;Wr.blockSize=1024;Wr.outSize=384;Wr.hmacStrength=192;Wr.padLength=128;Wr.prototype._digest=function(e){return e==="hex"?sc.toHex32(this.h.slice(0,12),"big"):sc.split32(this.h.slice(0,12),"big")}});var $l=de($i=>{"use strict";$i.sha1=Sl();$i.sha224=Nl();$i.sha256=ec();$i.sha384=Ul();$i.sha512=ic()});var jl=de(zl=>{"use strict";var ii=dr(),Mg=Bi(),Fo=ii.rotl32,Fl=ii.sum32,Es=ii.sum32_3,ql=ii.sum32_4,Kl=Mg.BlockHash;function Pr(){if(!(this instanceof Pr))return new Pr;Kl.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ii.inherits(Pr,Kl);zl.ripemd160=Pr;Pr.blockSize=512;Pr.outSize=160;Pr.hmacStrength=192;Pr.padLength=64;Pr.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],f=this.h[4],b=n,x=i,y=s,w=a,k=f,N=0;N<80;N++){var C=Fl(Fo(ql(n,Hl(N,i,s,a),e[Tg[N]+t],_g(N)),kg[N]),f);n=f,f=a,a=Fo(s,10),s=i,i=C,C=Fl(Fo(ql(b,Hl(79-N,x,y,w),e[Cg[N]+t],Sg(N)),Dg[N]),k),b=k,k=w,w=Fo(y,10),y=x,x=C}C=Es(this.h[1],s,w),this.h[1]=Es(this.h[2],a,k),this.h[2]=Es(this.h[3],f,b),this.h[3]=Es(this.h[4],n,x),this.h[4]=Es(this.h[0],i,y),this.h[0]=C};Pr.prototype._digest=function(e){return e==="hex"?ii.toHex32(this.h,"little"):ii.split32(this.h,"little")};function Hl(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function _g(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function Sg(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var Tg=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Cg=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],kg=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Dg=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Vl=de((Gx,Gl)=>{"use strict";var Ng=dr(),Ig=bn();function Fi(r,e,t){if(!(this instanceof Fi))return new Fi(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(Ng.toArray(e,t))}Gl.exports=Fi;Fi.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Ig(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};Fi.prototype.update=function(e,t){return this.inner.update(e,t),this};Fi.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var As=de(Jl=>{var xt=Jl;xt.utils=dr();xt.common=Bi();xt.sha=$l();xt.ripemd=jl();xt.hmac=Vl();xt.sha1=xt.sha.sha1;xt.sha256=xt.sha.sha256;xt.sha224=xt.sha.sha224;xt.sha384=xt.sha.sha384;xt.sha512=xt.sha.sha512;xt.ripemd160=xt.ripemd.ripemd160});var Wl=de((Jx,Yl)=>{Yl.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var qo=de(Ql=>{"use strict";var ac=Ql,yn=As(),oc=Xf(),Og=Ut(),Xl=Og.assert;function Zl(r){r.type==="short"?this.curve=new oc.short(r):r.type==="edwards"?this.curve=new oc.edwards(r):this.curve=new oc.mont(r),this.g=this.curve.g,this.n=this.curve.n,this.hash=r.hash,Xl(this.g.validate(),"Invalid curve"),Xl(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}ac.PresetCurve=Zl;function xn(r,e){Object.defineProperty(ac,r,{configurable:!0,enumerable:!0,get:function(){var t=new Zl(e);return Object.defineProperty(ac,r,{configurable:!0,enumerable:!0,value:t}),t}})}xn("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:yn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});xn("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:yn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});xn("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:yn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});xn("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:yn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});xn("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:yn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});xn("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yn.sha256,gRed:!1,g:["9"]});xn("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var fc;try{fc=Wl()}catch{fc=void 0}xn("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:yn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",fc]})});var rd=de((Wx,td)=>{"use strict";var Rg=As(),si=zf(),ed=bn();function wn(r){if(!(this instanceof wn))return new wn(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=si.toArray(r.entropy,r.entropyEnc||"hex"),t=si.toArray(r.nonce,r.nonceEnc||"hex"),n=si.toArray(r.pers,r.persEnc||"hex");ed(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}td.exports=wn;wn.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};wn.prototype._hmac=function(){return new Rg.hmac(this.hash,this.K)};wn.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};wn.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=si.toArray(e,t),n=si.toArray(n,i),ed(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};wn.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=si.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,si.encode(a,t)}});var id=de((Xx,nd)=>{"use strict";var Bg=kr(),Pg=Ut(),cc=Pg.assert;function _t(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}nd.exports=_t;_t.fromPublic=function(e,t,n){return t instanceof _t?t:new _t(e,{pub:t,pubEnc:n})};_t.fromPrivate=function(e,t,n){return t instanceof _t?t:new _t(e,{priv:t,privEnc:n})};_t.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};_t.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};_t.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};_t.prototype._importPrivate=function(e,t){this.priv=new Bg(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};_t.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?cc(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&cc(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};_t.prototype.derive=function(e){return e.validate()||cc(e.validate(),"public point not validated"),e.mul(this.priv).getX()};_t.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};_t.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};_t.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var ad=de((Zx,od)=>{"use strict";var Ho=kr(),lc=Ut(),Lg=lc.assert;function Ko(r,e){if(r instanceof Ko)return r;this._importDER(r,e)||(Lg(r.r&&r.s,"Signature without r or s"),this.r=new Ho(r.r,16),this.s=new Ho(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}od.exports=Ko;function Ug(){this.place=0}function uc(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=r[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function sd(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Ko.prototype._importDER=function(e,t){e=lc.toArray(e,t);var n=new Ug;if(e[n.place++]!==48)return!1;var i=uc(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=uc(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var f=uc(e,n);if(f===!1||e.length!==f+n.place)return!1;var b=e.slice(n.place,f+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(b[0]===0)if(b[1]&128)b=b.slice(1);else return!1;return this.r=new Ho(a),this.s=new Ho(b),this.recoveryParam=null,!0};function hc(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Ko.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=sd(t),n=sd(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];hc(i,t.length),i=i.concat(t),i.push(2),hc(i,n.length);var s=i.concat(n),a=[48];return hc(a,s.length),a=a.concat(s),lc.encode(a,e)}});var hd=de((Qx,ud)=>{"use strict";var oi=kr(),fd=rd(),$g=Ut(),dc=qo(),Fg=Jf(),cd=$g.assert,pc=id(),zo=ad();function rr(r){if(!(this instanceof rr))return new rr(r);typeof r=="string"&&(cd(Object.prototype.hasOwnProperty.call(dc,r),"Unknown curve "+r),r=dc[r]),r instanceof dc.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}ud.exports=rr;rr.prototype.keyPair=function(e){return new pc(this,e)};rr.prototype.keyFromPrivate=function(e,t){return pc.fromPrivate(this,e,t)};rr.prototype.keyFromPublic=function(e,t){return pc.fromPublic(this,e,t)};rr.prototype.genKeyPair=function(e){e||(e={});for(var t=new fd({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Fg(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new oi(2));;){var s=new oi(t.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};rr.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};rr.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new oi(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),f=e.toArray("be",s),b=new fd({hash:this.hash,entropy:a,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),x=this.n.sub(new oi(1)),y=0;;y++){var w=i.k?i.k(y):new oi(b.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(x)>=0)){var k=this.g.mul(w);if(!k.isInfinity()){var N=k.getX(),C=N.umod(this.n);if(C.cmpn(0)!==0){var T=w.invm(this.n).mul(C.mul(t.getPrivate()).iadd(e));if(T=T.umod(this.n),T.cmpn(0)!==0){var q=(k.getY().isOdd()?1:0)|(N.cmp(C)!==0?2:0);return i.canonical&&T.cmp(this.nh)>0&&(T=this.n.sub(T),q^=1),new zo({r:C,s:T,recoveryParam:q})}}}}}};rr.prototype.verify=function(e,t,n,i){e=this._truncateToN(new oi(e,16)),n=this.keyFromPublic(n,i),t=new zo(t,"hex");var s=t.r,a=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var f=a.invm(this.n),b=f.mul(e).umod(this.n),x=f.mul(s).umod(this.n),y;return this.curve._maxwellTrick?(y=this.g.jmulAdd(b,n.getPublic(),x),y.isInfinity()?!1:y.eqXToP(s)):(y=this.g.mulAdd(b,n.getPublic(),x),y.isInfinity()?!1:y.getX().umod(this.n).cmp(s)===0)};rr.prototype.recoverPubKey=function(r,e,t,n){cd((3&t)===t,"The recovery param is more than two bits"),e=new zo(e,n);var i=this.n,s=new oi(r),a=e.r,f=e.s,b=t&1,x=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&x)throw new Error("Unable to find sencond key candinate");x?a=this.curve.pointFromX(a.add(this.curve.n),b):a=this.curve.pointFromX(a,b);var y=e.r.invm(i),w=i.sub(s).mul(y).umod(i),k=f.mul(y).umod(i);return this.g.mulAdd(w,a,k)};rr.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new zo(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")}});var bd=de((ew,pd)=>{"use strict";var Ms=Ut(),dd=Ms.assert,ld=Ms.parseBytes,qi=Ms.cachedProperty;function bt(r,e){this.eddsa=r,this._secret=ld(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=ld(e.pub)}bt.fromPublic=function(e,t){return t instanceof bt?t:new bt(e,{pub:t})};bt.fromSecret=function(e,t){return t instanceof bt?t:new bt(e,{secret:t})};bt.prototype.secret=function(){return this._secret};qi(bt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});qi(bt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});qi(bt,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});qi(bt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});qi(bt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});qi(bt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});bt.prototype.sign=function(e){return dd(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};bt.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};bt.prototype.getSecret=function(e){return dd(this._secret,"KeyPair is public only"),Ms.encode(this.secret(),e)};bt.prototype.getPublic=function(e){return Ms.encode(this.pubBytes(),e)};pd.exports=bt});var gd=de((tw,md)=>{"use strict";var qg=kr(),jo=Ut(),Hg=jo.assert,Go=jo.cachedProperty,Kg=jo.parseBytes;function ai(r,e){this.eddsa=r,typeof e!="object"&&(e=Kg(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),Hg(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof qg&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Go(ai,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Go(ai,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Go(ai,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Go(ai,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});ai.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};ai.prototype.toHex=function(){return jo.encode(this.toBytes(),"hex").toUpperCase()};md.exports=ai});var Ed=de((rw,wd)=>{"use strict";var zg=As(),jg=qo(),Hi=Ut(),Gg=Hi.assert,yd=Hi.parseBytes,xd=bd(),vd=gd();function Bt(r){if(Gg(r==="ed25519","only tested with ed25519 so far"),!(this instanceof Bt))return new Bt(r);r=jg[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=zg.sha512}wd.exports=Bt;Bt.prototype.sign=function(e,t){e=yd(e);var n=this.keyFromSecret(t),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),a=this.encodePoint(s),f=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),b=i.add(f).umod(this.curve.n);return this.makeSignature({R:s,S:b,Rencoded:a})};Bt.prototype.verify=function(e,t,n){e=yd(e),t=this.makeSignature(t);var i=this.keyFromPublic(n),s=this.hashInt(t.Rencoded(),i.pubBytes(),e),a=this.g.mul(t.S()),f=t.R().add(i.pub().mul(s));return f.eq(a)};Bt.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return Hi.intFromLE(e.digest()).umod(this.curve.n)};Bt.prototype.keyFromPublic=function(e){return xd.fromPublic(this,e)};Bt.prototype.keyFromSecret=function(e){return xd.fromSecret(this,e)};Bt.prototype.makeSignature=function(e){return e instanceof vd?e:new vd(this,e)};Bt.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};Bt.prototype.decodePoint=function(e){e=Hi.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(e[t]&-129),i=(e[t]&128)!==0,s=Hi.intFromLE(n);return this.curve.pointFromY(s,i)};Bt.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Bt.prototype.decodeInt=function(e){return Hi.intFromLE(e)};Bt.prototype.isPoint=function(e){return e instanceof this.pointClass}});var Md=de(Ad=>{"use strict";var fi=Ad;fi.version=Zh().version;fi.utils=Ut();fi.rand=Jf();fi.curve=Xf();fi.curves=qo();fi.ec=hd();fi.eddsa=Ed()});var Sd=de((iw,_d)=>{"use strict";_d.exports=function r(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((t,n,i)=>{let s=i===0?"":",",a=n===void 0||typeof n=="symbol"?null:n;return t+s+r(a)},"")+"]":"{"+Object.keys(e).sort().reduce((t,n,i)=>{if(e[n]===void 0||typeof e[n]=="symbol")return t;let s=t.length===0?"":",";return t+s+r(n)+":"+r(e[n])},"")+"}"}});var Dd=de(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.bech32m=zi.bech32=void 0;var Vo="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Cd={};for(let r=0;r<Vo.length;r++){let e=Vo.charAt(r);Cd[e]=r}function Ki(r){let e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Td(r){let e=1;for(let t=0;t<r.length;++t){let n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=Ki(e)^n>>5}e=Ki(e);for(let t=0;t<r.length;++t){let n=r.charCodeAt(t);e=Ki(e)^n&31}return e}function bc(r,e,t,n){let i=0,s=0,a=(1<<t)-1,f=[];for(let b=0;b<r.length;++b)for(i=i<<e|r[b],s+=e;s>=t;)s-=t,f.push(i>>s&a);if(n)s>0&&f.push(i<<t-s&a);else{if(s>=e)return"Excess padding";if(i<<t-s&a)return"Non-zero padding"}return f}function Vg(r){return bc(r,8,5,!0)}function Jg(r){let e=bc(r,5,8,!1);if(Array.isArray(e))return e}function Yg(r){let e=bc(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function kd(r){let e;r==="bech32"?e=1:e=734539939;function t(a,f,b){if(b=b||90,a.length+7+f.length>b)throw new TypeError("Exceeds length limit");a=a.toLowerCase();let x=Td(a);if(typeof x=="string")throw new Error(x);let y=a+"1";for(let w=0;w<f.length;++w){let k=f[w];if(k>>5)throw new Error("Non 5-bit word");x=Ki(x)^k,y+=Vo.charAt(k)}for(let w=0;w<6;++w)x=Ki(x);x^=e;for(let w=0;w<6;++w){let k=x>>(5-w)*5&31;y+=Vo.charAt(k)}return y}function n(a,f){if(f=f||90,a.length<8)return a+" too short";if(a.length>f)return"Exceeds length limit";let b=a.toLowerCase(),x=a.toUpperCase();if(a!==b&&a!==x)return"Mixed-case string "+a;a=b;let y=a.lastIndexOf("1");if(y===-1)return"No separator character for "+a;if(y===0)return"Missing prefix for "+a;let w=a.slice(0,y),k=a.slice(y+1);if(k.length<6)return"Data too short";let N=Td(w);if(typeof N=="string")return N;let C=[];for(let T=0;T<k.length;++T){let q=k.charAt(T),D=Cd[q];if(D===void 0)return"Unknown character "+q;N=Ki(N)^D,!(T+6>=k.length)&&C.push(D)}return N!==e?"Invalid checksum for "+a:{prefix:w,words:C}}function i(a,f){let b=n(a,f);if(typeof b=="object")return b}function s(a,f){let b=n(a,f);if(typeof b=="object")return b;throw new Error(b)}return{decodeUnsafe:i,decode:s,encode:t,toWords:Vg,fromWordsUnsafe:Jg,fromWords:Yg}}zi.bech32=kd("bech32");zi.bech32m=kd("bech32m")});var Rd=de(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.sharedKey=ft.generateKeyPair=ft.generateKeyPairFromSeed=ft.scalarMultBase=ft.scalarMult=ft.SHARED_KEY_LENGTH=ft.SECRET_KEY_LENGTH=ft.PUBLIC_KEY_LENGTH=void 0;var Wg=cn(),Xg=Xt();ft.PUBLIC_KEY_LENGTH=32;ft.SECRET_KEY_LENGTH=32;ft.SHARED_KEY_LENGTH=32;function Lr(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var Nd=new Uint8Array(32);Nd[0]=9;var Zg=Lr([56129,1]);function mc(r){let e=1;for(let t=0;t<16;t++){let n=r[t]+e+65535;e=Math.floor(n/65536),r[t]=n-e*65536}r[0]+=e-1+37*(e-1)}function _s(r,e,t){let n=~(t-1);for(let i=0;i<16;i++){let s=n&(r[i]^e[i]);r[i]^=s,e[i]^=s}}function Qg(r,e){let t=Lr(),n=Lr();for(let i=0;i<16;i++)n[i]=e[i];mc(n),mc(n),mc(n);for(let i=0;i<2;i++){t[0]=n[0]-65517;for(let a=1;a<15;a++)t[a]=n[a]-65535-(t[a-1]>>16&1),t[a-1]&=65535;t[15]=n[15]-32767-(t[14]>>16&1);let s=t[15]>>16&1;t[14]&=65535,_s(n,t,1-s)}for(let i=0;i<16;i++)r[2*i]=n[i]&255,r[2*i+1]=n[i]>>8}function ev(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function Jo(r,e,t){for(let n=0;n<16;n++)r[n]=e[n]+t[n]}function Yo(r,e,t){for(let n=0;n<16;n++)r[n]=e[n]-t[n]}function Xr(r,e,t){let n,i,s=0,a=0,f=0,b=0,x=0,y=0,w=0,k=0,N=0,C=0,T=0,q=0,D=0,F=0,Y=0,z=0,W=0,L=0,B=0,P=0,ee=0,_=0,c=0,p=0,h=0,o=0,u=0,m=0,v=0,g=0,l=0,E=t[0],S=t[1],d=t[2],A=t[3],te=t[4],M=t[5],H=t[6],J=t[7],O=t[8],R=t[9],K=t[10],j=t[11],Z=t[12],ce=t[13],ie=t[14],V=t[15];n=e[0],s+=n*E,a+=n*S,f+=n*d,b+=n*A,x+=n*te,y+=n*M,w+=n*H,k+=n*J,N+=n*O,C+=n*R,T+=n*K,q+=n*j,D+=n*Z,F+=n*ce,Y+=n*ie,z+=n*V,n=e[1],a+=n*E,f+=n*S,b+=n*d,x+=n*A,y+=n*te,w+=n*M,k+=n*H,N+=n*J,C+=n*O,T+=n*R,q+=n*K,D+=n*j,F+=n*Z,Y+=n*ce,z+=n*ie,W+=n*V,n=e[2],f+=n*E,b+=n*S,x+=n*d,y+=n*A,w+=n*te,k+=n*M,N+=n*H,C+=n*J,T+=n*O,q+=n*R,D+=n*K,F+=n*j,Y+=n*Z,z+=n*ce,W+=n*ie,L+=n*V,n=e[3],b+=n*E,x+=n*S,y+=n*d,w+=n*A,k+=n*te,N+=n*M,C+=n*H,T+=n*J,q+=n*O,D+=n*R,F+=n*K,Y+=n*j,z+=n*Z,W+=n*ce,L+=n*ie,B+=n*V,n=e[4],x+=n*E,y+=n*S,w+=n*d,k+=n*A,N+=n*te,C+=n*M,T+=n*H,q+=n*J,D+=n*O,F+=n*R,Y+=n*K,z+=n*j,W+=n*Z,L+=n*ce,B+=n*ie,P+=n*V,n=e[5],y+=n*E,w+=n*S,k+=n*d,N+=n*A,C+=n*te,T+=n*M,q+=n*H,D+=n*J,F+=n*O,Y+=n*R,z+=n*K,W+=n*j,L+=n*Z,B+=n*ce,P+=n*ie,ee+=n*V,n=e[6],w+=n*E,k+=n*S,N+=n*d,C+=n*A,T+=n*te,q+=n*M,D+=n*H,F+=n*J,Y+=n*O,z+=n*R,W+=n*K,L+=n*j,B+=n*Z,P+=n*ce,ee+=n*ie,_+=n*V,n=e[7],k+=n*E,N+=n*S,C+=n*d,T+=n*A,q+=n*te,D+=n*M,F+=n*H,Y+=n*J,z+=n*O,W+=n*R,L+=n*K,B+=n*j,P+=n*Z,ee+=n*ce,_+=n*ie,c+=n*V,n=e[8],N+=n*E,C+=n*S,T+=n*d,q+=n*A,D+=n*te,F+=n*M,Y+=n*H,z+=n*J,W+=n*O,L+=n*R,B+=n*K,P+=n*j,ee+=n*Z,_+=n*ce,c+=n*ie,p+=n*V,n=e[9],C+=n*E,T+=n*S,q+=n*d,D+=n*A,F+=n*te,Y+=n*M,z+=n*H,W+=n*J,L+=n*O,B+=n*R,P+=n*K,ee+=n*j,_+=n*Z,c+=n*ce,p+=n*ie,h+=n*V,n=e[10],T+=n*E,q+=n*S,D+=n*d,F+=n*A,Y+=n*te,z+=n*M,W+=n*H,L+=n*J,B+=n*O,P+=n*R,ee+=n*K,_+=n*j,c+=n*Z,p+=n*ce,h+=n*ie,o+=n*V,n=e[11],q+=n*E,D+=n*S,F+=n*d,Y+=n*A,z+=n*te,W+=n*M,L+=n*H,B+=n*J,P+=n*O,ee+=n*R,_+=n*K,c+=n*j,p+=n*Z,h+=n*ce,o+=n*ie,u+=n*V,n=e[12],D+=n*E,F+=n*S,Y+=n*d,z+=n*A,W+=n*te,L+=n*M,B+=n*H,P+=n*J,ee+=n*O,_+=n*R,c+=n*K,p+=n*j,h+=n*Z,o+=n*ce,u+=n*ie,m+=n*V,n=e[13],F+=n*E,Y+=n*S,z+=n*d,W+=n*A,L+=n*te,B+=n*M,P+=n*H,ee+=n*J,_+=n*O,c+=n*R,p+=n*K,h+=n*j,o+=n*Z,u+=n*ce,m+=n*ie,v+=n*V,n=e[14],Y+=n*E,z+=n*S,W+=n*d,L+=n*A,B+=n*te,P+=n*M,ee+=n*H,_+=n*J,c+=n*O,p+=n*R,h+=n*K,o+=n*j,u+=n*Z,m+=n*ce,v+=n*ie,g+=n*V,n=e[15],z+=n*E,W+=n*S,L+=n*d,B+=n*A,P+=n*te,ee+=n*M,_+=n*H,c+=n*J,p+=n*O,h+=n*R,o+=n*K,u+=n*j,m+=n*Z,v+=n*ce,g+=n*ie,l+=n*V,s+=38*W,a+=38*L,f+=38*B,b+=38*P,x+=38*ee,y+=38*_,w+=38*c,k+=38*p,N+=38*h,C+=38*o,T+=38*u,q+=38*m,D+=38*v,F+=38*g,Y+=38*l,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=q+i+65535,i=Math.floor(n/65536),q=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=F+i+65535,i=Math.floor(n/65536),F=n-i*65536,n=Y+i+65535,i=Math.floor(n/65536),Y=n-i*65536,n=z+i+65535,i=Math.floor(n/65536),z=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=q+i+65535,i=Math.floor(n/65536),q=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=F+i+65535,i=Math.floor(n/65536),F=n-i*65536,n=Y+i+65535,i=Math.floor(n/65536),Y=n-i*65536,n=z+i+65535,i=Math.floor(n/65536),z=n-i*65536,s+=i-1+37*(i-1),r[0]=s,r[1]=a,r[2]=f,r[3]=b,r[4]=x,r[5]=y,r[6]=w,r[7]=k,r[8]=N,r[9]=C,r[10]=T,r[11]=q,r[12]=D,r[13]=F,r[14]=Y,r[15]=z}function Ss(r,e){Xr(r,e,e)}function tv(r,e){let t=Lr();for(let n=0;n<16;n++)t[n]=e[n];for(let n=253;n>=0;n--)Ss(t,t),n!==2&&n!==4&&Xr(t,t,e);for(let n=0;n<16;n++)r[n]=t[n]}function gc(r,e){let t=new Uint8Array(32),n=new Float64Array(80),i=Lr(),s=Lr(),a=Lr(),f=Lr(),b=Lr(),x=Lr();for(let N=0;N<31;N++)t[N]=r[N];t[31]=r[31]&127|64,t[0]&=248,ev(n,e);for(let N=0;N<16;N++)s[N]=n[N];i[0]=f[0]=1;for(let N=254;N>=0;--N){let C=t[N>>>3]>>>(N&7)&1;_s(i,s,C),_s(a,f,C),Jo(b,i,a),Yo(i,i,a),Jo(a,s,f),Yo(s,s,f),Ss(f,b),Ss(x,i),Xr(i,a,i),Xr(a,s,b),Jo(b,i,a),Yo(i,i,a),Ss(s,i),Yo(a,f,x),Xr(i,a,Zg),Jo(i,i,f),Xr(a,a,i),Xr(i,f,x),Xr(f,s,n),Ss(s,b),_s(i,s,C),_s(a,f,C)}for(let N=0;N<16;N++)n[N+16]=i[N],n[N+32]=a[N],n[N+48]=s[N],n[N+64]=f[N];let y=n.subarray(32),w=n.subarray(16);tv(y,y),Xr(w,w,y);let k=new Uint8Array(32);return Qg(k,w),k}ft.scalarMult=gc;function Id(r){return gc(r,Nd)}ft.scalarMultBase=Id;function Od(r){if(r.length!==ft.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${ft.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(r);return{publicKey:Id(e),secretKey:e}}ft.generateKeyPairFromSeed=Od;function rv(r){let e=(0,Wg.randomBytes)(32,r),t=Od(e);return(0,Xg.wipe)(e),t}ft.generateKeyPair=rv;function nv(r,e,t=!1){if(r.length!==ft.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==ft.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let n=gc(r,e);if(t){let i=0;for(let s=0;s<n.length;s++)i|=n[s];if(i===0)throw new Error("X25519: invalid shared key")}return n}ft.sharedKey=nv});var yc=de(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var St=Gn(),vc=Xt(),iv=20;function sv(r,e,t){for(var n=1634760805,i=857760878,s=2036477234,a=1797285236,f=t[3]<<24|t[2]<<16|t[1]<<8|t[0],b=t[7]<<24|t[6]<<16|t[5]<<8|t[4],x=t[11]<<24|t[10]<<16|t[9]<<8|t[8],y=t[15]<<24|t[14]<<16|t[13]<<8|t[12],w=t[19]<<24|t[18]<<16|t[17]<<8|t[16],k=t[23]<<24|t[22]<<16|t[21]<<8|t[20],N=t[27]<<24|t[26]<<16|t[25]<<8|t[24],C=t[31]<<24|t[30]<<16|t[29]<<8|t[28],T=e[3]<<24|e[2]<<16|e[1]<<8|e[0],q=e[7]<<24|e[6]<<16|e[5]<<8|e[4],D=e[11]<<24|e[10]<<16|e[9]<<8|e[8],F=e[15]<<24|e[14]<<16|e[13]<<8|e[12],Y=n,z=i,W=s,L=a,B=f,P=b,ee=x,_=y,c=w,p=k,h=N,o=C,u=T,m=q,v=D,g=F,l=0;l<iv;l+=2)Y=Y+B|0,u^=Y,u=u>>>32-16|u<<16,c=c+u|0,B^=c,B=B>>>32-12|B<<12,z=z+P|0,m^=z,m=m>>>32-16|m<<16,p=p+m|0,P^=p,P=P>>>32-12|P<<12,W=W+ee|0,v^=W,v=v>>>32-16|v<<16,h=h+v|0,ee^=h,ee=ee>>>32-12|ee<<12,L=L+_|0,g^=L,g=g>>>32-16|g<<16,o=o+g|0,_^=o,_=_>>>32-12|_<<12,W=W+ee|0,v^=W,v=v>>>32-8|v<<8,h=h+v|0,ee^=h,ee=ee>>>32-7|ee<<7,L=L+_|0,g^=L,g=g>>>32-8|g<<8,o=o+g|0,_^=o,_=_>>>32-7|_<<7,z=z+P|0,m^=z,m=m>>>32-8|m<<8,p=p+m|0,P^=p,P=P>>>32-7|P<<7,Y=Y+B|0,u^=Y,u=u>>>32-8|u<<8,c=c+u|0,B^=c,B=B>>>32-7|B<<7,Y=Y+P|0,g^=Y,g=g>>>32-16|g<<16,h=h+g|0,P^=h,P=P>>>32-12|P<<12,z=z+ee|0,u^=z,u=u>>>32-16|u<<16,o=o+u|0,ee^=o,ee=ee>>>32-12|ee<<12,W=W+_|0,m^=W,m=m>>>32-16|m<<16,c=c+m|0,_^=c,_=_>>>32-12|_<<12,L=L+B|0,v^=L,v=v>>>32-16|v<<16,p=p+v|0,B^=p,B=B>>>32-12|B<<12,W=W+_|0,m^=W,m=m>>>32-8|m<<8,c=c+m|0,_^=c,_=_>>>32-7|_<<7,L=L+B|0,v^=L,v=v>>>32-8|v<<8,p=p+v|0,B^=p,B=B>>>32-7|B<<7,z=z+ee|0,u^=z,u=u>>>32-8|u<<8,o=o+u|0,ee^=o,ee=ee>>>32-7|ee<<7,Y=Y+P|0,g^=Y,g=g>>>32-8|g<<8,h=h+g|0,P^=h,P=P>>>32-7|P<<7;St.writeUint32LE(Y+n|0,r,0),St.writeUint32LE(z+i|0,r,4),St.writeUint32LE(W+s|0,r,8),St.writeUint32LE(L+a|0,r,12),St.writeUint32LE(B+f|0,r,16),St.writeUint32LE(P+b|0,r,20),St.writeUint32LE(ee+x|0,r,24),St.writeUint32LE(_+y|0,r,28),St.writeUint32LE(c+w|0,r,32),St.writeUint32LE(p+k|0,r,36),St.writeUint32LE(h+N|0,r,40),St.writeUint32LE(o+C|0,r,44),St.writeUint32LE(u+T|0,r,48),St.writeUint32LE(m+q|0,r,52),St.writeUint32LE(v+D|0,r,56),St.writeUint32LE(g+F|0,r,60)}function Bd(r,e,t,n,i){if(i===void 0&&(i=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<t.length)throw new Error("ChaCha: destination is shorter than source");var s,a;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),a=s.length-e.length,s.set(e,a)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,a=i}for(var f=new Uint8Array(64),b=0;b<t.length;b+=64){sv(f,s,r);for(var x=b;x<b+64&&x<t.length;x++)n[x]=t[x]^f[x-b];av(s,0,a)}return vc.wipe(f),i===0&&vc.wipe(s),n}Wo.streamXOR=Bd;function ov(r,e,t,n){return n===void 0&&(n=0),vc.wipe(t),Bd(r,e,t,t,n)}Wo.stream=ov;function av(r,e,t){for(var n=1;t--;)n=n+(r[e]&255)|0,r[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}});var $d=de(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});var En=Gn(),Pd=Xt(),fv=yc(),cv=20;function Ld(r,e,t,n){if(e.length!==24)throw new Error("XChaCha20 nonce must be 24 bytes");var i=Ud(r,e.subarray(0,16),new Uint8Array(32)),s=new Uint8Array(12);s.set(e.subarray(16),4);var a=fv.streamXOR(i,s,t,n);return Pd.wipe(i),a}Ts.streamXOR=Ld;function uv(r,e,t){return Pd.wipe(t),Ld(r,e,t,t)}Ts.stream=uv;function Ud(r,e,t){for(var n=1634760805,i=857760878,s=2036477234,a=1797285236,f=r[3]<<24|r[2]<<16|r[1]<<8|r[0],b=r[7]<<24|r[6]<<16|r[5]<<8|r[4],x=r[11]<<24|r[10]<<16|r[9]<<8|r[8],y=r[15]<<24|r[14]<<16|r[13]<<8|r[12],w=r[19]<<24|r[18]<<16|r[17]<<8|r[16],k=r[23]<<24|r[22]<<16|r[21]<<8|r[20],N=r[27]<<24|r[26]<<16|r[25]<<8|r[24],C=r[31]<<24|r[30]<<16|r[29]<<8|r[28],T=e[3]<<24|e[2]<<16|e[1]<<8|e[0],q=e[7]<<24|e[6]<<16|e[5]<<8|e[4],D=e[11]<<24|e[10]<<16|e[9]<<8|e[8],F=e[15]<<24|e[14]<<16|e[13]<<8|e[12],Y=n,z=i,W=s,L=a,B=f,P=b,ee=x,_=y,c=w,p=k,h=N,o=C,u=T,m=q,v=D,g=F,l=0;l<cv;l+=2)Y=Y+B|0,u^=Y,u=u>>>32-16|u<<16,c=c+u|0,B^=c,B=B>>>32-12|B<<12,z=z+P|0,m^=z,m=m>>>32-16|m<<16,p=p+m|0,P^=p,P=P>>>32-12|P<<12,W=W+ee|0,v^=W,v=v>>>32-16|v<<16,h=h+v|0,ee^=h,ee=ee>>>32-12|ee<<12,L=L+_|0,g^=L,g=g>>>32-16|g<<16,o=o+g|0,_^=o,_=_>>>32-12|_<<12,W=W+ee|0,v^=W,v=v>>>32-8|v<<8,h=h+v|0,ee^=h,ee=ee>>>32-7|ee<<7,L=L+_|0,g^=L,g=g>>>32-8|g<<8,o=o+g|0,_^=o,_=_>>>32-7|_<<7,z=z+P|0,m^=z,m=m>>>32-8|m<<8,p=p+m|0,P^=p,P=P>>>32-7|P<<7,Y=Y+B|0,u^=Y,u=u>>>32-8|u<<8,c=c+u|0,B^=c,B=B>>>32-7|B<<7,Y=Y+P|0,g^=Y,g=g>>>32-16|g<<16,h=h+g|0,P^=h,P=P>>>32-12|P<<12,z=z+ee|0,u^=z,u=u>>>32-16|u<<16,o=o+u|0,ee^=o,ee=ee>>>32-12|ee<<12,W=W+_|0,m^=W,m=m>>>32-16|m<<16,c=c+m|0,_^=c,_=_>>>32-12|_<<12,L=L+B|0,v^=L,v=v>>>32-16|v<<16,p=p+v|0,B^=p,B=B>>>32-12|B<<12,W=W+_|0,m^=W,m=m>>>32-8|m<<8,c=c+m|0,_^=c,_=_>>>32-7|_<<7,L=L+B|0,v^=L,v=v>>>32-8|v<<8,p=p+v|0,B^=p,B=B>>>32-7|B<<7,z=z+ee|0,u^=z,u=u>>>32-8|u<<8,o=o+u|0,ee^=o,ee=ee>>>32-7|ee<<7,Y=Y+P|0,g^=Y,g=g>>>32-8|g<<8,h=h+g|0,P^=h,P=P>>>32-7|P<<7;return En.writeUint32LE(Y,t,0),En.writeUint32LE(z,t,4),En.writeUint32LE(W,t,8),En.writeUint32LE(L,t,12),En.writeUint32LE(u,t,16),En.writeUint32LE(m,t,20),En.writeUint32LE(v,t,24),En.writeUint32LE(g,t,28),t}Ts.hchacha=Ud});var xc=de(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});function hv(r,e,t){return~(r-1)&e|r-1&t}ji.select=hv;function lv(r,e){return(r|0)-(e|0)-1>>>31&1}ji.lessOrEqual=lv;function Fd(r,e){if(r.length!==e.length)return 0;for(var t=0,n=0;n<r.length;n++)t|=r[n]^e[n];return 1&t-1>>>8}ji.compare=Fd;function dv(r,e){return r.length===0||e.length===0?!1:Fd(r,e)!==0}ji.equal=dv});var Hd=de(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});var pv=xc(),Xo=Xt();Zr.DIGEST_LENGTH=16;var qd=function(){function r(e){this.digestLength=Zr.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=t&8191;var n=e[2]|e[3]<<8;this._r[1]=(t>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(i>>>7|s<<9)&8191;var a=e[8]|e[9]<<8;this._r[4]=(s>>>4|a<<12)&255,this._r[5]=a>>>1&8190;var f=e[10]|e[11]<<8;this._r[6]=(a>>>14|f<<2)&8191;var b=e[12]|e[13]<<8;this._r[7]=(f>>>11|b<<5)&8065;var x=e[14]|e[15]<<8;this._r[8]=(b>>>8|x<<8)&8191,this._r[9]=x>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return r.prototype._blocks=function(e,t,n){for(var i=this._fin?0:2048,s=this._h[0],a=this._h[1],f=this._h[2],b=this._h[3],x=this._h[4],y=this._h[5],w=this._h[6],k=this._h[7],N=this._h[8],C=this._h[9],T=this._r[0],q=this._r[1],D=this._r[2],F=this._r[3],Y=this._r[4],z=this._r[5],W=this._r[6],L=this._r[7],B=this._r[8],P=this._r[9];n>=16;){var ee=e[t+0]|e[t+1]<<8;s+=ee&8191;var _=e[t+2]|e[t+3]<<8;a+=(ee>>>13|_<<3)&8191;var c=e[t+4]|e[t+5]<<8;f+=(_>>>10|c<<6)&8191;var p=e[t+6]|e[t+7]<<8;b+=(c>>>7|p<<9)&8191;var h=e[t+8]|e[t+9]<<8;x+=(p>>>4|h<<12)&8191,y+=h>>>1&8191;var o=e[t+10]|e[t+11]<<8;w+=(h>>>14|o<<2)&8191;var u=e[t+12]|e[t+13]<<8;k+=(o>>>11|u<<5)&8191;var m=e[t+14]|e[t+15]<<8;N+=(u>>>8|m<<8)&8191,C+=m>>>5|i;var v=0,g=v;g+=s*T,g+=a*(5*P),g+=f*(5*B),g+=b*(5*L),g+=x*(5*W),v=g>>>13,g&=8191,g+=y*(5*z),g+=w*(5*Y),g+=k*(5*F),g+=N*(5*D),g+=C*(5*q),v+=g>>>13,g&=8191;var l=v;l+=s*q,l+=a*T,l+=f*(5*P),l+=b*(5*B),l+=x*(5*L),v=l>>>13,l&=8191,l+=y*(5*W),l+=w*(5*z),l+=k*(5*Y),l+=N*(5*F),l+=C*(5*D),v+=l>>>13,l&=8191;var E=v;E+=s*D,E+=a*q,E+=f*T,E+=b*(5*P),E+=x*(5*B),v=E>>>13,E&=8191,E+=y*(5*L),E+=w*(5*W),E+=k*(5*z),E+=N*(5*Y),E+=C*(5*F),v+=E>>>13,E&=8191;var S=v;S+=s*F,S+=a*D,S+=f*q,S+=b*T,S+=x*(5*P),v=S>>>13,S&=8191,S+=y*(5*B),S+=w*(5*L),S+=k*(5*W),S+=N*(5*z),S+=C*(5*Y),v+=S>>>13,S&=8191;var d=v;d+=s*Y,d+=a*F,d+=f*D,d+=b*q,d+=x*T,v=d>>>13,d&=8191,d+=y*(5*P),d+=w*(5*B),d+=k*(5*L),d+=N*(5*W),d+=C*(5*z),v+=d>>>13,d&=8191;var A=v;A+=s*z,A+=a*Y,A+=f*F,A+=b*D,A+=x*q,v=A>>>13,A&=8191,A+=y*T,A+=w*(5*P),A+=k*(5*B),A+=N*(5*L),A+=C*(5*W),v+=A>>>13,A&=8191;var te=v;te+=s*W,te+=a*z,te+=f*Y,te+=b*F,te+=x*D,v=te>>>13,te&=8191,te+=y*q,te+=w*T,te+=k*(5*P),te+=N*(5*B),te+=C*(5*L),v+=te>>>13,te&=8191;var M=v;M+=s*L,M+=a*W,M+=f*z,M+=b*Y,M+=x*F,v=M>>>13,M&=8191,M+=y*D,M+=w*q,M+=k*T,M+=N*(5*P),M+=C*(5*B),v+=M>>>13,M&=8191;var H=v;H+=s*B,H+=a*L,H+=f*W,H+=b*z,H+=x*Y,v=H>>>13,H&=8191,H+=y*F,H+=w*D,H+=k*q,H+=N*T,H+=C*(5*P),v+=H>>>13,H&=8191;var J=v;J+=s*P,J+=a*B,J+=f*L,J+=b*W,J+=x*z,v=J>>>13,J&=8191,J+=y*Y,J+=w*F,J+=k*D,J+=N*q,J+=C*T,v+=J>>>13,J&=8191,v=(v<<2)+v|0,v=v+g|0,g=v&8191,v=v>>>13,l+=v,s=g,a=l,f=E,b=S,x=d,y=A,w=te,k=M,N=H,C=J,t+=16,n-=16}this._h[0]=s,this._h[1]=a,this._h[2]=f,this._h[3]=b,this._h[4]=x,this._h[5]=y,this._h[6]=w,this._h[7]=k,this._h[8]=N,this._h[9]=C},r.prototype.finish=function(e,t){t===void 0&&(t=0);var n=new Uint16Array(10),i,s,a,f;if(this._leftover){for(f=this._leftover,this._buffer[f++]=1;f<16;f++)this._buffer[f]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,f=2;f<10;f++)this._h[f]+=i,i=this._h[f]>>>13,this._h[f]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,n[0]=this._h[0]+5,i=n[0]>>>13,n[0]&=8191,f=1;f<10;f++)n[f]=this._h[f]+i,i=n[f]>>>13,n[f]&=8191;for(n[9]-=1<<13,s=(i^1)-1,f=0;f<10;f++)n[f]&=s;for(s=~s,f=0;f<10;f++)this._h[f]=this._h[f]&s|n[f];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,a=this._h[0]+this._pad[0],this._h[0]=a&65535,f=1;f<8;f++)a=(this._h[f]+this._pad[f]|0)+(a>>>16)|0,this._h[f]=a&65535;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},r.prototype.update=function(e){var t=0,n=e.length,i;if(this._leftover){i=16-this._leftover,i>n&&(i=n);for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[t+s];if(n-=i,t+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(i=n-n%16,this._blocks(e,t,i),t+=i,n-=i),n){for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[t+s];this._leftover+=n}return this},r.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},r.prototype.clean=function(){return Xo.wipe(this._buffer),Xo.wipe(this._r),Xo.wipe(this._h),Xo.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},r}();Zr.Poly1305=qd;function bv(r,e){var t=new qd(r);t.update(e);var n=t.digest();return t.clean(),n}Zr.oneTimeAuth=bv;function mv(r,e){return r.length!==Zr.DIGEST_LENGTH||e.length!==Zr.DIGEST_LENGTH?!1:pv.equal(r,e)}Zr.equal=mv});var jd=de(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});var Zo=yc(),gv=Hd(),Cs=Xt(),Kd=Gn(),vv=xc();Qr.KEY_LENGTH=32;Qr.NONCE_LENGTH=12;Qr.TAG_LENGTH=16;var zd=new Uint8Array(16),yv=function(){function r(e){if(this.nonceLength=Qr.NONCE_LENGTH,this.tagLength=Qr.TAG_LENGTH,e.length!==Qr.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return r.prototype.seal=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var a=new Uint8Array(32);Zo.stream(this._key,s,a,4);var f=t.length+this.tagLength,b;if(i){if(i.length!==f)throw new Error("ChaCha20Poly1305: incorrect destination length");b=i}else b=new Uint8Array(f);return Zo.streamXOR(this._key,s,t,b,4),this._authenticate(b.subarray(b.length-this.tagLength,b.length),a,b.subarray(0,b.length-this.tagLength),n),Cs.wipe(s),b},r.prototype.open=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var a=new Uint8Array(32);Zo.stream(this._key,s,a,4);var f=new Uint8Array(this.tagLength);if(this._authenticate(f,a,t.subarray(0,t.length-this.tagLength),n),!vv.equal(f,t.subarray(t.length-this.tagLength,t.length)))return null;var b=t.length-this.tagLength,x;if(i){if(i.length!==b)throw new Error("ChaCha20Poly1305: incorrect destination length");x=i}else x=new Uint8Array(b);return Zo.streamXOR(this._key,s,t.subarray(0,t.length-this.tagLength),x,4),Cs.wipe(s),x},r.prototype.clean=function(){return Cs.wipe(this._key),this},r.prototype._authenticate=function(e,t,n,i){var s=new gv.Poly1305(t);i&&(s.update(i),i.length%16>0&&s.update(zd.subarray(i.length%16))),s.update(n),n.length%16>0&&s.update(zd.subarray(n.length%16));var a=new Uint8Array(8);i&&Kd.writeUint64LE(i.length,a),s.update(a),Kd.writeUint64LE(n.length,a),s.update(a);for(var f=s.digest(),b=0;b<f.length;b++)e[b]=f[b];s.clean(),Cs.wipe(f),Cs.wipe(a)},r}();Qr.ChaCha20Poly1305=yv});var Jd=de(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});var Gd=$d(),Vd=jd(),ks=Xt();en.KEY_LENGTH=32;en.NONCE_LENGTH=24;en.TAG_LENGTH=16;var xv=function(){function r(e){if(this.nonceLength=en.NONCE_LENGTH,this.tagLength=en.TAG_LENGTH,e.length!==en.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return r.prototype.seal=function(e,t,n,i){if(e.length!==24)throw new Error("XChaCha20Poly1305: incorrect nonce length");var s=Gd.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),a=new Uint8Array(12);a.set(e.subarray(16),4);var f=new Vd.ChaCha20Poly1305(s),b=f.seal(a,t,n,i);return ks.wipe(s),ks.wipe(a),f.clean(),b},r.prototype.open=function(e,t,n,i){if(e.length!==24)throw new Error("XChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s=Gd.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),a=new Uint8Array(12);a.set(e.subarray(16),4);var f=new Vd.ChaCha20Poly1305(s),b=f.open(a,t,n,i);return ks.wipe(s),ks.wipe(a),f.clean(),b},r.prototype.clean=function(){return ks.wipe(this._key),this},r}();en.XChaCha20Poly1305=xv});var T0=de((yw,S0)=>{"use strict";S0.exports=function(r,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(s){return function(a){return function(f,b){var x={key:f,value:a[f]},y={key:b,value:a[b]};return s(x,y)}}}(e.cmp),i=[];return function s(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var f,b;if(Array.isArray(a)){for(b="[",f=0;f<a.length;f++)f&&(b+=","),b+=s(a[f])||"null";return b+"]"}if(a===null)return"null";if(i.indexOf(a)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var x=i.push(a)-1,y=Object.keys(a).sort(n&&n(a));for(b="",f=0;f<y.length;f++){var w=y[f],k=s(a[w]);k&&(b&&(b+=","),b+=JSON.stringify(w)+":"+k)}return i.splice(x,1),"{"+b+"}"}}(r)}});var q0=de((Kw,F0)=>{F0.exports=Oc;var $0=128,n5=127,i5=~n5,s5=Math.pow(2,31);function Oc(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw Oc.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var n=t;r>=s5;)e[t++]=r&255|$0,r/=128;for(;r&i5;)e[t++]=r&255|$0,r>>>=7;return e[t]=r|0,Oc.bytes=t-n+1,e}});var z0=de((zw,K0)=>{K0.exports=Rc;var o5=128,H0=127;function Rc(r,n){var t=0,n=n||0,i=0,s=n,a,f=r.length;do{if(s>=f||i>49)throw Rc.bytes=0,new RangeError("Could not decode varint");a=r[s++],t+=i<28?(a&H0)<<i:(a&H0)*Math.pow(2,i),i+=7}while(a>=o5);return Rc.bytes=s-n,t}});var G0=de((jw,j0)=>{var a5=Math.pow(2,7),f5=Math.pow(2,14),c5=Math.pow(2,21),u5=Math.pow(2,28),h5=Math.pow(2,35),l5=Math.pow(2,42),d5=Math.pow(2,49),p5=Math.pow(2,56),b5=Math.pow(2,63);j0.exports=function(r){return r<a5?1:r<f5?2:r<c5?3:r<u5?4:r<h5?5:r<l5?6:r<d5?7:r<p5?8:r<b5?9:10}});var J0=de((Gw,V0)=>{V0.exports={encode:q0(),decode:z0(),encodingLength:G0()}});var X0=de((Jw,W0)=>{"use strict";function y5(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}W0.exports=y5});var Q0=de((Yw,Z0)=>{"use strict";function x5(r,e){e||(e=r.reduce((i,s)=>i+s.length,0));let t=new Uint8Array(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return t}Z0.exports=x5});var tp=de((Ww,ep)=>{"use strict";function w5(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}ep.exports=w5});var Uc=de((Xw,sp)=>{"use strict";var{bases:rp}=(To(),Ju(Vh));function ip(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var np=ip("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Lc=ip("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),E5={utf8:np,"utf-8":np,hex:rp.base16,latin1:Lc,ascii:Lc,binary:Lc,...rp};sp.exports=E5});var ap=de((Zw,op)=>{"use strict";var A5=Uc();function M5(r,e="utf8"){let t=A5[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${r}`)}op.exports=M5});var cp=de((Qw,fp)=>{"use strict";var _5=Uc();function S5(r,e="utf8"){let t=_5[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.encoder.encode(r).substring(1)}fp.exports=S5});var hp=de((e9,up)=>{"use strict";function T5(r,e){if(r.length!==e.length)throw new Error("Inputs should have the same length");let t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r[n]^e[n];return t}up.exports=T5});var qs=de((t9,lp)=>{"use strict";var C5=X0(),k5=Q0(),D5=tp(),N5=ap(),I5=cp(),O5=hp();lp.exports={compare:C5,concat:k5,equals:D5,fromString:N5,toString:I5,xor:O5}});var vr=de((u7,P1)=>{P1.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}});var Ys=de((h7,L1)=>{L1.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}});var F1=de(Et=>{var U1=Et,Ma=4294967292,_a=4294967293,au=4294967294,$1=4294967295,me=[0,1,3,7,15,31,63,127,255,511,1023],Tn=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],X4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),zt=[];X4.forEach(r=>{zt.push(r.charCodeAt(0))});Et.utf8={encode(r){let e=[];return r.forEach(t=>{if(t>=0&&t<=127)e.push(t);else if(t<=2047)e.push(192+(t>>6&me[5])),e.push(128+(t&me[6]));else if(t<55296||t>57343&&t<=65535)e.push(224+(t>>12&me[4])),e.push(128+(t>>6&me[6])),e.push(128+(t&me[6]));else if(t>=65536&&t<=1114111){let n=t>>16&me[5];e.push(240+(n>>2)),e.push(128+((n&me[2])<<4)+(t>>12&me[4])),e.push(128+(t>>6&me[6])),e.push(128+(t&me[6]))}else throw new RangeError(`utf8.encode: character out of range: char: ${t}`)}),global.Buffer.from(e)},decode(r,e){function t(C,T){if((T&192)!==128)return _a;let q=((C&me[5])<<6)+(T&me[6]);return q<128?Ma:q}function n(C,T,q){if((q&192)!==128||(T&192)!==128)return _a;let D=((C&me[4])<<12)+((T&me[6])<<6)+(q&me[6]);return D<2048?Ma:D>=55296&&D<=57343?au:D}function i(C,T,q,D){if((D&192)!==128||(q&192)!==128||(T&192)!==128)return _a;let F=(((C&me[3])<<2)+(T>>4&me[2])<<16)+((T&me[4])<<12)+((q&me[6])<<6)+(D&me[6]);return F<65536?Ma:F>1114111?au:F}let s,a,f,b,x,y,w=r.length,k=e?3:0,N=[];for(;k<w;){a=r[k],s=$1;let C=!0;for(;C;){if(a>=0&&a<=127){s=a,y=1;break}if(f=k+1,f<w&&a>=194&&a<=223){s=t(a,r[f]),y=2;break}if(b=k+2,b<w&&a>=224&&a<=239){s=n(a,r[f],r[b]),y=3;break}if(x=k+3,x<w&&a>=240&&a<=244){s=i(a,r[f],r[b],r[x]),y=4;break}break}if(s>1114111){let T=`byte[${k}]`;throw s===$1?new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${T}`):s===_a?new RangeError(`utf8.decode: illegal trailing byte found at: ${T}`):s===au?new RangeError(`utf8.decode: code point out of range found at: ${T}`):s===Ma?new RangeError(`utf8.decode: non-shortest form found at: ${T}`):new RangeError(`utf8.decode: unrecognized error found at: ${T}`)}N.push(s),k+=y}return N}};Et.utf16be={encode(r){let e=[],t,n,i;for(let s=0;s<r.length;s+=1)if(t=r[s],t>=0&&t<=55295||t>=57344&&t<=65535)e.push(t>>8&me[8]),e.push(t&me[8]);else if(t>=65536&&t<=1114111)i=t-65536,n=55296+(i>>10),i=56320+(i&me[10]),e.push(n>>8&me[8]),e.push(n&me[8]),e.push(i>>8&me[8]),e.push(i&me[8]);else throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${s}]: ${t}`);return global.Buffer.from(e)},decode(r,e){if(r.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${r.length}`);let t=[],n=r.length,i=e?2:0,s=0,a,f,b,x,y,w;for(;i<n;){for(;;){if(b=i+1,b<n){if(y=(r[i]<<8)+r[b],y<55296||y>57343){a=y,f=2;break}if(x=i+3,x<n&&(w=(r[i+2]<<8)+r[x],y<=56319&&w>=56320&&w<=57343)){a=65536+(y-55296<<10)+(w-56320),f=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${i}]`)}t[s++]=a,i+=f}return t}};Et.utf16le={encode(r){let e=[],t,n,i;for(let s=0;s<r.length;s+=1)if(t=r[s],t>=0&&t<=55295||t>=57344&&t<=65535)e.push(t&me[8]),e.push(t>>8&me[8]);else if(t>=65536&&t<=1114111)i=t-65536,n=55296+(i>>10),i=56320+(i&me[10]),e.push(n&me[8]),e.push(n>>8&me[8]),e.push(i&me[8]),e.push(i>>8&me[8]);else throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${s}]: ${t}`);return global.Buffer.from(e)},decode(r,e){if(r.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${r.length}`);let t=[],n=r.length,i=e?2:0,s=0,a,f,b,x,y,w;for(;i<n;){for(;;){if(b=i+1,b<n){if(y=(r[b]<<8)+r[i],y<55296||y>57343){a=y,f=2;break}if(x=i+3,x<n&&(w=(r[x]<<8)+r[i+2],y<=56319&&w>=56320&&w<=57343)){a=65536+(y-55296<<10)+(w-56320),f=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${i}]`)}t[s++]=a,i+=f}return t}};Et.utf32be={encode(r){let e=global.Buffer.alloc(r.length*4),t=0;return r.forEach(n=>{if(n>=55296&&n<=57343||n>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${t/4}]: ${n}`);e[t++]=n>>24&me[8],e[t++]=n>>16&me[8],e[t++]=n>>8&me[8],e[t++]=n&me[8]}),e},decode(r,e){if(r.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${r.length}`);let t=[],n=e?4:0;for(;n<r.length;n+=4){let i=(r[n]<<24)+(r[n+1]<<16)+(r[n+2]<<8)+r[n+3];if(i>=55296&&i<=57343||i>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${n/4}]: ${i}`);t.push(i)}return t}};Et.utf32le={encode(r){let e=global.Buffer.alloc(r.length*4),t=0;return r.forEach(n=>{if(n>=55296&&n<=57343||n>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${t/4}]: ${n}`);e[t++]=n&me[8],e[t++]=n>>8&me[8],e[t++]=n>>16&me[8],e[t++]=n>>24&me[8]}),e},decode(r,e){if(r.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${r.length}`);let t=[],n=e?4:0;for(;n<r.length;n+=4){let i=(r[n+3]<<24)+(r[n+2]<<16)+(r[n+1]<<8)+r[n];if(i>=55296&&i<=57343||i>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${n/4}]: ${i}`);t.push(i)}return t}};Et.uint7={encode(r){let e=global.Buffer.alloc(r.length);for(let t=0;t<r.length;t+=1){if(r[t]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${t}]: ${r[t]}`);e[t]=r[t]}return e},decode(r){let e=[];for(let t=0;t<r.length;t+=1){if(r[t]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${t}]: ${r[t]}`);e[t]=r[t]}return e}};Et.uint8={encode(r){let e=global.Buffer.alloc(r.length);for(let t=0;t<r.length;t+=1){if(r[t]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${t}]: ${r[t]}`);e[t]=r[t]}return e},decode(r){let e=[];for(let t=0;t<r.length;t+=1)e[t]=r[t];return e}};Et.uint16be={encode(r){let e=global.Buffer.alloc(r.length*2),t=0;return r.forEach(n=>{if(n>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${t/2}]: ${n}`);e[t++]=n>>8&me[8],e[t++]=n&me[8]}),e},decode(r){if(r.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${r.length}`);let e=[];for(let t=0;t<r.length;t+=2)e.push((r[t]<<8)+r[t+1]);return e}};Et.uint16le={encode(r){let e=global.Buffer.alloc(r.length*2),t=0;return r.forEach(n=>{if(n>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${t/2}]: ${n}`);e[t++]=n&me[8],e[t++]=n>>8&me[8]}),e},decode(r){if(r.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${r.length}`);let e=[];for(let t=0;t<r.length;t+=2)e.push((r[t+1]<<8)+r[t]);return e}};Et.uint32be={encode(r){let e=global.Buffer.alloc(r.length*4),t=0;return r.forEach(n=>{e[t++]=n>>24&me[8],e[t++]=n>>16&me[8],e[t++]=n>>8&me[8],e[t++]=n&me[8]}),e},decode(r){if(r.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${r.length}`);let e=[];for(let t=0;t<r.length;t+=4)e.push((r[t]<<24)+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3]);return e}};Et.uint32le={encode(r){let e=global.Buffer.alloc(r.length*4),t=0;return r.forEach(n=>{e[t++]=n&me[8],e[t++]=n>>8&me[8],e[t++]=n>>16&me[8],e[t++]=n>>24&me[8]}),e},decode(r){if(r.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${r.length}`);let e=[];for(let t=0;t<r.length;t+=4)e.push((r[t+3]<<24)+(r[t+2]<<16)+(r[t+1]<<8)+r[t]);return e}};Et.string={encode(r){return U1.utf16le.encode(r).toString("utf16le")},decode(r){return U1.utf16le.decode(global.Buffer.from(r,"utf16le"),0)}};Et.escaped={encode(r){let e=[];for(let t=0;t<r.length;t+=1){let n=r[t];if(n===96)e.push(n),e.push(n);else if(n===10)e.push(n);else if(n>=32&&n<=126)e.push(n);else{let i="";if(n>=0&&n<=31)i+=`\`x${Tn[n]}`;else if(n>=127&&n<=255)i+=`\`x${Tn[n]}`;else if(n>=256&&n<=65535)i+=`\`u${Tn[n>>8&me[8]]}${Tn[n&me[8]]}`;else if(n>=65536&&n<=4294967295){i+="`u{";let a=n>>24&me[8];a>0&&(i+=Tn[a]),i+=`${Tn[n>>16&me[8]]+Tn[n>>8&me[8]]+Tn[n&me[8]]}}`}else throw new Error("escape.encode(char): char > 0xffffffff not allowed");global.Buffer.from(i).forEach(a=>{e.push(a)})}}return global.Buffer.from(e)},decode(r){function e(w){return w>=48&&w<=57||w>=65&&w<=70||w>=97&&w<=102}function t(w,k,N){let C={char:null,nexti:w+2,error:!0};if(w+1<k&&e(N[w])&&e(N[w+1])){let T=String.fromCodePoint(N[w],N[w+1]);C.char=parseInt(T,16),Number.isNaN(C.char)||(C.error=!1)}return C}function n(w,k,N){let C={char:null,nexti:w+4,error:!0};if(w+3<k&&e(N[w])&&e(N[w+1])&&e(N[w+2])&&e(N[w+3])){let T=String.fromCodePoint(N[w],N[w+1],N[w+2],N[w+3]);C.char=parseInt(T,16),Number.isNaN(C.char)||(C.error=!1)}return C}function i(w,k,N){let C={char:null,nexti:w+4,error:!0},T="";for(;w<k&&e(N[w]);)T+=String.fromCodePoint(N[w]),w+=1;return C.char=parseInt(T,16),N[w]===125&&!Number.isNaN(C.char)&&(C.error=!1),C.nexti=w+1,C}let s=[],a=r.length,f,b,x,y=0;for(;y<a;){for(;;){if(x=!0,r[y]!==96){s.push(r[y]),y+=1,x=!1;break}if(f=y+1,f>=a)break;if(r[f]===96){s.push(96),y+=2,x=!1;break}if(r[f]===120){if(b=t(f+1,a,r),b.error)break;s.push(b.char),y=b.nexti,x=!1;break}if(r[f]===117){if(r[f+1]===123){if(b=i(f+2,a,r),b.error)break;s.push(b.char),y=b.nexti,x=!1;break}if(b=n(f+1,a,r),b.error)break;s.push(b.char),y=b.nexti,x=!1;break}break}if(x)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${y}]`)}return s}};var Ws=13,or=10;Et.lineEnds={crlf(r){let e=[],t=0;for(;t<r.length;)switch(r[t]){case Ws:t+1<r.length&&r[t+1]===or?t+=2:t+=1,e.push(Ws),e.push(or);break;case or:e.push(Ws),e.push(or),t+=1;break;default:e.push(r[t]),t+=1;break}return e.length>0&&e[e.length-1]!==or&&(e.push(Ws),e.push(or)),e},lf(r){let e=[],t=0;for(;t<r.length;)switch(r[t]){case Ws:t+1<r.length&&r[t+1]===or?t+=2:t+=1,e.push(or);break;case or:e.push(or),t+=1;break;default:e.push(r[t]),t+=1;break}return e.length>0&&e[e.length-1]!==or&&e.push(or),e}};Et.base64={encode(r){if(r.length===0)return global.Buffer.alloc(0);let e,t,n,i=r.length%3;i=i>0?3-i:0;let s=(r.length+i)/3,a=global.Buffer.alloc(s*4);i>0&&(s-=1),e=0,t=0;for(let f=0;f<s;f+=1)n=r[e++]<<16,n+=r[e++]<<8,n+=r[e++],a[t++]=zt[n>>18&me[6]],a[t++]=zt[n>>12&me[6]],a[t++]=zt[n>>6&me[6]],a[t++]=zt[n&me[6]];if(i===0)return a;if(i===1)return n=r[e++]<<16,n+=r[e]<<8,a[t++]=zt[n>>18&me[6]],a[t++]=zt[n>>12&me[6]],a[t++]=zt[n>>6&me[6]],a[t]=zt[64],a;if(i===2)return n=r[e]<<16,a[t++]=zt[n>>18&me[6]],a[t++]=zt[n>>12&me[6]],a[t++]=zt[64],a[t]=zt[64],a},decode(r){function e(y){let w=[],k=0;for(let N=0;N<y.length;N+=1){let C=y[N],T=!0;for(;T&&!(C===32||C===9||C===10||C===13);){if(C>=65&&C<=90){w.push(C-65);break}if(C>=97&&C<=122){w.push(C-71);break}if(C>=48&&C<=57){w.push(C+4);break}if(C===43){w.push(62);break}if(C===47){w.push(63);break}if(C===61){w.push(64),k+=1;break}throw new RangeError(`base64.decode: invalid character buf[${N}]: ${C}`)}}if(w.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${w.length}`);switch(k){case 0:break;case 1:if(w[w.length-1]!==64)throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(w[w.length-1]!==64||w[w.length-2]!==64)throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${k}`)}return{tail:k,buf:global.Buffer.from(w)}}if(r.length===0)return global.Buffer.alloc(0);let t=e(r),{tail:n}=t,i=t.buf,s,a,f,b=i.length/4,x=global.Buffer.alloc(b*3-n);n>0&&(b-=1),a=0,s=0;for(let y=0;y<b;y+=1)f=i[s++]<<18,f+=i[s++]<<12,f+=i[s++]<<6,f+=i[s++],x[a++]=f>>16&me[8],x[a++]=f>>8&me[8],x[a++]=f&me[8];return n===1&&(f=i[s++]<<18,f+=i[s++]<<12,f+=i[s]<<6,x[a++]=f>>16&me[8],x[a]=f>>8&me[8]),n===2&&(f=i[s++]<<18,f+=i[s++]<<12,x[a]=f>>16&me[8]),x},toString(r){if(r.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${r.length}`);let e="",t=0;function n(s,a,f,b){switch(t){case 76:e+=`\r
${s}${a}${f}${b}`,t=4;break;case 75:e+=`${s}\r
${a}${f}${b}`,t=3;break;case 74:e+=`${s+a}\r
${f}${b}`,t=2;break;case 73:e+=`${s+a+f}\r
${b}`,t=1;break;default:e+=s+a+f+b,t+=4;break}}function i(s){return s>=65&&s<=90||s>=97&&s<=122||s>=48&&s<=57||s===43||s===47||s===61}for(let s=0;s<r.length;s+=4){for(let a=s;a<s+4;a+=1)if(!i(r[a]))throw new RangeError(`base64.toString: buf[${a}]: ${r[a]} : not valid base64 character code`);n(String.fromCharCode(r[s]),String.fromCharCode(r[s+1]),String.fromCharCode(r[s+2]),String.fromCharCode(r[s+3]))}return e}}});var hu=de(Zs=>{var q1=Zs,Je=F1(),Xs="UTF8",cu="UTF16",$r="UTF16BE",nn="UTF16LE",uu="UTF32",Fr="UTF32BE",sn="UTF32LE",Qi="UINT7",H1="ASCII",K1="BINARY",es="UINT8",z1="UINT16",Sa="UINT16LE",ts="UINT16BE",j1="UINT32",Ta="UINT32LE",rs="UINT32BE",Ca="ESCAPED",Cn="STRING",Z4=function(e){e.type=Xs;let t=e.data;e.bom=0,t.length>=3&&t[0]===239&&t[1]===187&&t[2]===191&&(e.bom=3)},Q4=function(e){let t=e.data;switch(e.bom=0,e.type){case cu:e.type=$r,t.length>=2&&(t[0]===254&&t[1]===255?e.bom=2:t[0]===255&&t[1]===254&&(e.type=nn,e.bom=2));break;case $r:if(e.type=$r,t.length>=2){if(t[0]===254&&t[1]===255)e.bom=2;else if(t[0]===255&&t[1]===254)throw new TypeError(`src type: "${$r}" specified but BOM is for "${nn}"`)}break;case nn:if(e.type=nn,t.length>=0){if(t[0]===254&&t[1]===255)throw new TypeError(`src type: "${nn}" specified but BOM is for "${$r}"`);t[0]===255&&t[1]===254&&(e.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${e.type}" unrecognized`)}},ey=function(e){let t=e.data;switch(e.bom=0,e.type){case uu:e.type=Fr,t.length>=4&&(t[0]===0&&t[1]===0&&t[2]===254&&t[3]===255&&(e.bom=4),t[0]===255&&t[1]===254&&t[2]===0&&t[3]===0&&(e.type=sn,e.bom=4));break;case Fr:if(e.type=Fr,t.length>=4&&(t[0]===0&&t[1]===0&&t[2]===254&&t[3]===255&&(e.bom=4),t[0]===255&&t[1]===254&&t[2]===0&&t[3]===0))throw new TypeError(`src type: ${Fr} specified but BOM is for ${sn}"`);break;case sn:if(e.type=sn,t.length>=4){if(t[0]===0&&t[1]===0&&t[2]===254&&t[3]===255)throw new TypeError(`src type: "${sn}" specified but BOM is for "${Fr}"`);t[0]===255&&t[1]===254&&t[2]===0&&t[3]===0&&(e.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${e.type}" unrecognized`)}},ty=function(e,t){function n(s){let a={type:"",base64:!1},b=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(s);return b&&(b[2]&&(a.type=b[2].toUpperCase()),b[1]&&(a.base64=!0)),a}if(typeof e!="string"||e==="")throw new TypeError(`type: "${e}" not recognized`);let i=n(e.toUpperCase());if(i.base64){if(i.type===Cn)throw new TypeError(`type: "${e} "BASE64:" prefix not allowed with type ${Cn}`);if(global.Buffer.isBuffer(t))i.data=Je.base64.decode(t);else if(typeof t=="string"){let s=global.Buffer.from(t,"ascii");i.data=Je.base64.decode(s)}else throw new TypeError(`type: "${e} unrecognized data type: typeof(data): ${typeof t}`)}else i.data=t;switch(i.type){case Xs:Z4(i);break;case cu:case $r:case nn:Q4(i);break;case uu:case Fr:case sn:ey(i);break;case z1:i.type=ts;break;case j1:i.type=rs;break;case H1:i.type=Qi;break;case K1:i.type=es;break;case Qi:case es:case Sa:case ts:case Ta:case rs:case Cn:case Ca:break;default:throw new TypeError(`type: "${e}" not recognized`)}if(i.type===Cn){if(typeof i.data!="string")throw new TypeError(`type: "${e}" but data is not a string`)}else if(!global.Buffer.isBuffer(i.data))throw new TypeError(`type: "${e}" but data is not a Buffer`);return i},ry=function(e,t){function n(s){let a,f,b={crlf:!1,lf:!1,base64:!1,type:""},x=!0;for(;x;){if(f=s,a=s.slice(0,5),a==="CRLF:"){b.crlf=!0,f=s.slice(5);break}if(a=s.slice(0,3),a==="LF:"){b.lf=!0,f=s.slice(3);break}break}return a=f.split(":"),a.length===1?b.type=a[0]:a.length===2&&a[1]==="BASE64"&&(b.base64=!0,b.type=a[0]),b}if(!Array.isArray(t))throw new TypeError(`dst chars: not array: "${typeof t}`);if(typeof e!="string")throw new TypeError(`dst type: not string: "${typeof e}`);let i=n(e.toUpperCase());switch(i.type){case Xs:case $r:case nn:case Fr:case sn:case Qi:case es:case Sa:case ts:case Ta:case rs:case Ca:break;case Cn:if(i.base64)throw new TypeError(`":BASE64" suffix not allowed with type ${Cn}`);break;case H1:i.type=Qi;break;case K1:i.type=es;break;case cu:i.type=$r;break;case uu:i.type=Fr;break;case z1:i.type=ts;break;case j1:i.type=rs;break;default:throw new TypeError(`dst type unrecognized: "${e}" : must have form [crlf:|lf:]type[:base64]`)}return i},fu=function(e,t){switch(e){case Xs:return Je.utf8.encode(t);case $r:return Je.utf16be.encode(t);case nn:return Je.utf16le.encode(t);case Fr:return Je.utf32be.encode(t);case sn:return Je.utf32le.encode(t);case Qi:return Je.uint7.encode(t);case es:return Je.uint8.encode(t);case ts:return Je.uint16be.encode(t);case Sa:return Je.uint16le.encode(t);case rs:return Je.uint32be.encode(t);case Ta:return Je.uint32le.encode(t);case Cn:return Je.string.encode(t);case Ca:return Je.escaped.encode(t);default:throw new TypeError(`encode type "${e}" not recognized`)}},ny=function(e){switch(e.type){case Xs:return Je.utf8.decode(e.data,e.bom);case nn:return Je.utf16le.decode(e.data,e.bom);case $r:return Je.utf16be.decode(e.data,e.bom);case Fr:return Je.utf32be.decode(e.data,e.bom);case sn:return Je.utf32le.decode(e.data,e.bom);case Qi:return Je.uint7.decode(e.data);case es:return Je.uint8.decode(e.data);case ts:return Je.uint16be.decode(e.data);case Sa:return Je.uint16le.decode(e.data);case rs:return Je.uint32be.decode(e.data);case Ta:return Je.uint32le.decode(e.data);case Cn:return Je.string.decode(e.data);case Ca:return Je.escaped.decode(e.data);default:throw new TypeError(`decode type "${e.type}" not recognized`)}};Zs.decode=function(e,t){let n=ty(e,t);return ny(n)};Zs.encode=function(e,t){let n,i,s=ry(e,t);return s.crlf?(n=Je.lineEnds.crlf(t),i=fu(s.type,n)):s.lf?(n=Je.lineEnds.lf(t),i=fu(s.type,n)):i=fu(s.type,t),s.base64&&(i=Je.base64.encode(i)),i};Zs.convert=function(e,t,n){return q1.encode(n,q1.decode(e,t))}});var lu=de((p7,G1)=>{G1.exports=function(){return`/* This file automatically generated by jsonToless() and LESS. */
.apg-mono {
  font-family: monospace;
}
.apg-active {
  font-weight: bold;
  color: #000000;
}
.apg-match {
  font-weight: bold;
  color: #264BFF;
}
.apg-empty {
  font-weight: bold;
  color: #0fbd0f;
}
.apg-nomatch {
  font-weight: bold;
  color: #FF4000;
}
.apg-lh-match {
  font-weight: bold;
  color: #1A97BA;
}
.apg-lb-match {
  font-weight: bold;
  color: #5F1687;
}
.apg-remainder {
  font-weight: bold;
  color: #999999;
}
.apg-ctrl-char {
  font-weight: bolder;
  font-style: italic;
  font-size: 0.6em;
}
.apg-line-end {
  font-weight: bold;
  color: #000000;
}
.apg-error {
  font-weight: bold;
  color: #FF4000;
}
.apg-phrase {
  color: #000000;
  background-color: #8caae6;
}
.apg-empty-phrase {
  color: #0fbd0f;
}
table.apg-state {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th,
table.apg-state td {
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th:nth-last-child(2),
table.apg-state td:nth-last-child(2) {
  text-align: right;
}
table.apg-state caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-stats {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats th,
table.apg-stats td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace th,
table.apg-trace td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace th:last-child,
table.apg-trace th:nth-last-child(2),
table.apg-trace td:last-child,
table.apg-trace td:nth-last-child(2) {
  text-align: left;
}
table.apg-grammar {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-grammar th,
table.apg-grammar td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar th:last-child,
table.apg-grammar td:last-child {
  text-align: left;
}
table.apg-rules {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-rules th,
table.apg-rules td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules a {
  color: #003399 !important;
}
table.apg-rules a:hover {
  color: #8caae6 !important;
}
table.apg-attrs {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-attrs th,
table.apg-attrs td {
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs th:nth-child(1),
table.apg-attrs th:nth-child(2),
table.apg-attrs th:nth-child(3) {
  text-align: right;
}
table.apg-attrs td:nth-child(1),
table.apg-attrs td:nth-child(2),
table.apg-attrs td:nth-child(3) {
  text-align: right;
}
table.apg-attrs a {
  color: #003399 !important;
}
table.apg-attrs a:hover {
  color: #8caae6 !important;
}
`}});var gi=de(gt=>{var Pt=Ys(),du=hu(),iy=lu(),ct=vr(),kn="utilities.js: ",on=gt,mi=function(r,e,t){let n,i=e,s=!0;for(;s;){if(r<=0){i=0,n=0;break}if(typeof i!="number"){i=0,n=r;break}if(i>=r){i=r,n=r;break}if(typeof t!="number"){n=r;break}if(n=i+t,n>r){n=r;break}break}return{beg:i,end:n}};gt.htmlToPage=function(r,e){let t;if(typeof r!="string")throw new Error(`${kn}htmlToPage: input HTML is not a string`);typeof e!="string"?t="htmlToPage":t=e;let n="";return n+=`<!DOCTYPE html>
`,n+=`<html lang="en">
`,n+=`<head>
`,n+=`<meta charset="utf-8">
`,n+=`<title>${t}</title>
`,n+=`<style>
`,n+=iy(),n+=`</style>
`,n+=`</head>
<body>
`,n+=`<p>${new Date}</p>
`,n+=r,n+=`</body>
</html>
`,n};gt.parserResultToHtml=function(r,e){let t=null;typeof e=="string"&&e!==""&&(t=e);let n,i;r.success===!0?n=`<span class="${Pt.CLASS_MATCH}">true</span>`:n=`<span class="${Pt.CLASS_NOMATCH}">false</span>`,r.state===ct.EMPTY?i=`<span class="${Pt.CLASS_EMPTY}">EMPTY</span>`:r.state===ct.MATCH?i=`<span class="${Pt.CLASS_MATCH}">MATCH</span>`:r.state===ct.NOMATCH?i=`<span class="${Pt.CLASS_NOMATCH}">NOMATCH</span>`:i=`<span class="${Pt.CLASS_NOMATCH}">unrecognized</span>`;let s="";return s+=`<table class="${Pt.CLASS_STATE}">
`,t&&(s+=`<caption>${t}</caption>
`),s+=`<tr><th>state item</th><th>value</th><th>description</th></tr>
`,s+=`<tr><td>parser success</td><td>${n}</td>
`,s+=`<td><span class="${Pt.CLASS_MATCH}">true</span> if the parse succeeded,
`,s+=` <span class="${Pt.CLASS_NOMATCH}">false</span> otherwise`,s+=`<br><i>NOTE: for success, entire string must be matched</i></td></tr>
`,s+=`<tr><td>parser state</td><td>${i}</td>
`,s+=`<td><span class="${Pt.CLASS_EMPTY}">EMPTY</span>, `,s+=`<span class="${Pt.CLASS_MATCH}">MATCH</span> or 
`,s+=`<span class="${Pt.CLASS_NOMATCH}">NOMATCH</span></td></tr>
`,s+=`<tr><td>string length</td><td>${r.length}</td><td>length of the input (sub)string</td></tr>
`,s+=`<tr><td>matched length</td><td>${r.matched}</td><td>number of input string characters matched</td></tr>
`,s+=`<tr><td>max matched</td><td>${r.maxMatched}</td><td>maximum number of input string characters matched</td></tr>
`,s+=`<tr><td>max tree depth</td><td>${r.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>
`,s+=`<tr><td>node hits</td><td>${r.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>
`,s+=`<tr><td>input length</td><td>${r.inputLength}</td><td>length of full input string</td></tr>
`,s+=`<tr><td>sub-string begin</td><td>${r.subBegin}</td><td>sub-string first character index</td></tr>
`,s+=`<tr><td>sub-string end</td><td>${r.subEnd}</td><td>sub-string end-of-string index</td></tr>
`,s+=`<tr><td>sub-string length</td><td>${r.subLength}</td><td>sub-string length</td></tr>
`,s+=`</table>
`,s};gt.charsToString=function(r,e,t){let n,i;if(typeof e=="number"){if(e>=r.length)return"";n=e<0?0:e}else n=0;if(typeof t=="number"){if(t<=0)return"";i=t>r.length-n?r.length:n+t}else i=r.length;return n<i?du.encode("UTF16LE",r.slice(n,i)).toString("utf16le"):""};gt.stringToChars=function(r){return du.decode("STRING",r)};gt.opcodeToString=function(r){let e="unknown";switch(r){case ct.ALT:e="ALT";break;case ct.CAT:e="CAT";break;case ct.RNM:e="RNM";break;case ct.UDT:e="UDT";break;case ct.AND:e="AND";break;case ct.NOT:e="NOT";break;case ct.REP:e="REP";break;case ct.TRG:e="TRG";break;case ct.TBS:e="TBS";break;case ct.TLS:e="TLS";break;case ct.BKR:e="BKR";break;case ct.BKA:e="BKA";break;case ct.BKN:e="BKN";break;case ct.ABG:e="ABG";break;case ct.AEN:e="AEN";break;default:throw new Error("unrecognized opcode")}return e};gt.stateToString=function(r){let e="unknown";switch(r){case ct.ACTIVE:e="ACTIVE";break;case ct.MATCH:e="MATCH";break;case ct.EMPTY:e="EMPTY";break;case ct.NOMATCH:e="NOMATCH";break;default:throw new Error("unrecognized state")}return e};gt.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"];gt.charToHex=function(r){let e=r.toString(16).toUpperCase();switch(e.length){case 1:case 3:case 7:e=`0${e}`;break;case 2:case 6:e=`00${e}`;break;case 4:break;case 5:e=`000${e}`;break;default:throw new Error("unrecognized option")}return e};gt.charsToDec=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${kn}charsToDec: input must be an array of integers`);let i=mi(r.length,e,t);if(i.end>i.beg){n+=r[i.beg];for(let s=i.beg+1;s<i.end;s+=1)n+=`,${r[s]}`}return n};gt.charsToHex=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${kn}charsToHex: input must be an array of integers`);let i=mi(r.length,e,t);if(i.end>i.beg){n+=`\\x${on.charToHex(r[i.beg])}`;for(let s=i.beg+1;s<i.end;s+=1)n+=`,\\x${on.charToHex(r[s])}`}return n};gt.charsToHtmlEntities=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${kn}charsToHex: input must be an array of integers`);let i=mi(r.length,e,t);if(i.end>i.beg)for(let s=i.beg;s<i.end;s+=1)n+=`&#x${r[s].toString(16)};`;return n};function sy(r){return!(r>=55296&&r<=57343||r>1114111)}gt.charsToUnicode=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${kn}charsToUnicode: input must be an array of integers`);let i=mi(r.length,e,t);if(i.end>i.beg)for(let s=i.beg;s<i.end;s+=1)sy(r[s])?n+=`&#${r[s]};`:n+=` U+${on.charToHex(r[s])}`;return n};gt.charsToJsUnicode=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${kn}charsToJsUnicode: input must be an array of integers`);let i=mi(r.length,e,t);if(i.end>i.beg){n+=`\\u${on.charToHex(r[i.beg])}`;for(let s=i.beg+1;s<i.end;s+=1)n+=`,\\u${on.charToHex(r[s])}`}return n};gt.charsToAscii=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${kn}charsToAscii: input must be an array of integers`);let i=mi(r.length,e,t);for(let s=i.beg;s<i.end;s+=1){let a=r[s];a>=32&&a<=126?n+=String.fromCharCode(a):n+=`\\x${on.charToHex(a)}`}return n};gt.charsToAsciiHtml=function(r,e,t){if(!Array.isArray(r))throw new Error(`${kn}charsToAsciiHtml: input must be an array of integers`);let n="",i,s=mi(r.length,e,t);for(let a=s.beg;a<s.end;a+=1)i=r[a],i<32||i===127?n+=`<span class="${Pt.CLASS_CTRLCHAR}">${on.asciiChars[i]}</span>`:i>127?n+=`<span class="${Pt.CLASS_CTRLCHAR}">U+${on.charToHex(i)}</span>`:n+=on.asciiChars[i];return n};gt.stringToAsciiHtml=function(r){let e=du.decode("STRING",r);return this.charsToAsciiHtml(e)}});var J1=de((m7,V1)=>{V1.exports=function(){let e=vr(),t=gi(),n="ast.js: ",i=this,s=null,a=null,f=null,b=0,x=[],y=[],w=[],k=[];this.callbacks=[],this.astObject="astObject",this.init=function(T,q,D){w.length=0,k.length=0,x.length=0,b=0,s=T,a=q,f=D;let F,Y=[];for(F=0;F<s.length;F+=1)Y.push(s[F].lower);for(F=0;F<a.length;F+=1)Y.push(a[F].lower);for(b=s.length+a.length,F=0;F<b;F+=1)x[F]=!1,y[F]=null;for(let z in i.callbacks){let W=z.toLowerCase();if(F=Y.indexOf(W),F<0)throw new Error(`${n}init: node '${z}' not a rule or udt name`);typeof i.callbacks[z]=="function"&&(x[F]=!0,y[F]=i.callbacks[z]),i.callbacks[z]===!0&&(x[F]=!0)}},this.ruleDefined=function(T){return x[T]!==!1},this.udtDefined=function(T){return x[s.length+T]!==!1},this.down=function(T,q){let D=k.length;return w.push(D),k.push({name:q,thisIndex:D,thatIndex:null,state:e.SEM_PRE,callbackIndex:T,phraseIndex:null,phraseLength:null,stack:w.length}),D},this.up=function(T,q,D,F){let Y=k.length,z=w.pop();return k.push({name:q,thisIndex:Y,thatIndex:z,state:e.SEM_POST,callbackIndex:T,phraseIndex:D,phraseLength:F,stack:w.length}),k[z].thatIndex=Y,k[z].phraseIndex=D,k[z].phraseLength=F,Y},this.translate=function(T){let q,D,F;for(let Y=0;Y<k.length;Y+=1)F=k[Y],D=y[F.callbackIndex],F.state===e.SEM_PRE?D!==null&&(q=D(e.SEM_PRE,f,F.phraseIndex,F.phraseLength,T),q===e.SEM_SKIP&&(Y=F.thatIndex)):D!==null&&D(e.SEM_POST,f,F.phraseIndex,F.phraseLength,T)},this.setLength=function(T){k.length=T,T>0?w.length=k[T-1].stack:w.length=0},this.getLength=function(){return k.length};function N(C){let T="";for(let q=0;q<C;q+=1)T+=" ";return T}this.toXml=function(T){let q=t.charsToDec,D="decimal integer character codes";if(typeof T=="string"&&T.length>=3){let z=T.slice(0,3).toLowerCase();z==="asc"?(q=t.charsToAscii,D="ASCII for printing characters, hex for non-printing"):z==="hex"?(q=t.charsToHex,D="hexadecimal integer character codes"):z==="uni"&&(q=t.charsToUnicode,D="Unicode UTF-32 integer character codes")}let F="",Y=0;return F+=`<?xml version="1.0" encoding="utf-8"?>
`,F+=`<root nodes="${k.length/2}" characters="${f.length}">
`,F+=`<!-- input string, ${D} -->
`,F+=N(Y+2),F+=q(f),F+=`
`,k.forEach(z=>{z.state===e.SEM_PRE?(Y+=1,F+=N(Y),F+=`<node name="${z.name}" index="${z.phraseIndex}" length="${z.phraseLength}">
`,F+=N(Y+2),F+=q(f,z.phraseIndex,z.phraseLength),F+=`
`):(F+=N(Y),F+=`</node><!-- name="${z.name}" -->
`,Y-=1)}),F+=`</root>
`,F},this.phrases=function(){let T={},q,D;for(q=0;q<k.length;q+=1)D=k[q],D.state===e.SEM_PRE&&(Array.isArray(T[D.name])||(T[D.name]=[]),T[D.name].push({index:D.phraseIndex,length:D.phraseLength}));return T}}});var pu=de((g7,Y1)=>{Y1.exports=function(){let e="circular-buffer.js: ",t=-1,n=0;this.init=function(s){if(typeof s!="number"||s<=0)throw new Error(`${e}init: circular buffer size must an integer > 0`);n=Math.ceil(s),t=-1},this.increment=function(){return t+=1,(t+n)%n},this.maxSize=function(){return n},this.items=function(){return t+1},this.getListIndex=function(s){return t===-1||s<0||s>t||t-s>=n?-1:(s+n)%n},this.forEach=function(s){if(t!==-1){if(t<n){for(let a=0;a<=t;a+=1)s(a,a);return}for(let a=t-n+1;a<=t;a+=1){let f=(a+n)%n;s(f,a)}}}}});var X1=de((v7,W1)=>{W1.exports=function(){let e=vr(),t=gi(),n="parser.js: ",i=this,s;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let a=null,f=null,b,x,y,w,k=0,N=0,C=0,T=null,q=null,D=null,F=null,Y=null,z=0,W=1/0,L=1/0,B=function(G,I,$){let ne=`${n}evaluateRule(): `;if(G>=D.length)throw new Error(`${ne}rule index: ${G} out of range`);if(I>=y)throw new Error(`${ne}phrase index: ${I} out of range`);let{length:oe}=a;a.push({type:e.RNM,index:G}),s(oe,I,$),a.pop()},P=function(Q,G,I){let $=`${n}evaluateUdt(): `;if(Q>=F.length)throw new Error(`${$}udt index: ${Q} out of range`);if(G>=y)throw new Error(`${$}phrase index: ${G} out of range`);let{length:ne}=a;a.push({type:e.UDT,empty:F[Q].empty,index:Q}),s(ne,G,I),a.pop()},ee=function(){k=0,N=0,C=0,z=0,w=[{lookAround:e.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],D=null,F=null,f=null,b=0,x=0,y=0,T=null,q=null,Y=null,a=null},_=function(){let Q=[],G=function(){let $={};D.forEach(ne=>{ne.isBkr&&($[ne.lower]=null)}),F.length>0&&F.forEach(ne=>{ne.isBkr&&($[ne.lower]=null)}),Q.push($)},I=function(){let $=Q[Q.length-1],ne={};for(let oe in $)ne[oe]=$[oe];return ne};this.push=function(){Q.push(I())},this.pop=function(ne){let oe=ne;if(oe||(oe=Q.length-1),oe<1||oe>Q.length)throw new Error(`${n}backRef.pop(): bad length: ${oe}`);return Q.length=oe,Q[Q.length-1]},this.length=function(){return Q.length},this.savePhrase=function(ne,oe,ae){Q[Q.length-1][ne]={phraseIndex:oe,phraseLength:ae}},this.getPhrase=function($){return Q[Q.length-1][$]},G()},c=function(){let G=this;this.state=e.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=w[w.length-1],this.uFrame=new _,this.pFrame=new _,this.evaluateRule=B,this.evaluateUdt=P,this.refresh=function(){G.state=e.ACTIVE,G.phraseLength=0,G.lookAround=w[w.length-1]}},p=function(){return w[w.length-1]},h=function(){return w.length>1},o=function(){return w[w.length-1].lookAround===e.LOOKAROUND_BEHIND},u=function(){let Q=`${n}initializeAst(): `,G=!0;for(;G;){if(i.ast===void 0){i.ast=null;break}if(i.ast===null)break;if(i.ast.astObject!=="astObject")throw new Error(`${Q}ast object not recognized`);break}i.ast!==null&&i.ast.init(D,F,f)},m=function(){let Q=`${n}initializeTrace(): `,G=!0;for(;G;){if(i.trace===void 0){i.trace=null;break}if(i.trace===null)break;if(i.trace.traceObject!=="traceObject")throw new Error(`${Q}trace object not recognized`);break}i.trace!==null&&i.trace.init(D,F,f)},v=function(){let Q=`${n}initializeStats(): `,G=!0;for(;G;){if(i.stats===void 0){i.stats=null;break}if(i.stats===null)break;if(i.stats.statsObject!=="statsObject")throw new Error(`${Q}stats object not recognized`);break}i.stats!==null&&i.stats.init(D,F)},g=function(Q){let G=`${n}initializeGrammar(): `;if(!Q)throw new Error(`${G}grammar object undefined`);if(Q.grammarObject!=="grammarObject")throw new Error(`${G}bad grammar object`);D=Q.rules,F=Q.udts},l=function(Q){let G=`${n}initializeStartRule(): `,I=null;if(typeof Q=="number"){if(Q>=D.length)throw new Error(`${G}start rule index too large: max: ${D.length}: index: ${Q}`);I=Q}else if(typeof Q=="string"){let $=Q.toLowerCase();for(let ne=0;ne<D.length;ne+=1)if($===D[ne].lower){I=D[ne].index;break}if(I===null)throw new Error(`${G}start rule name '${Q}' not recognized`)}else throw new Error(`${G}type of start rule '${typeof Q}' not recognized`);return I},E=function(G,I,$){let ne=`${n}initializeInputChars(): `,oe=G,ae=I,le=$;if(oe===void 0)throw new Error(`${ne}input string is undefined`);if(oe===null)throw new Error(`${ne}input string is null`);if(typeof oe=="string")oe=t.stringToChars(oe);else if(!Array.isArray(oe))throw new Error(`${ne}input string is not a string or array`);if(oe.length>0&&typeof oe[0]!="number")throw new Error(`${ne}input string not an array of integers`);if(typeof ae!="number")ae=0;else if(ae=Math.floor(ae),ae<0||ae>oe.length)throw new Error(`${ne}input beginning index out of range: ${ae}`);if(typeof le!="number")le=oe.length-ae;else if(le=Math.floor(le),le<0||le>oe.length-ae)throw new Error(`${ne}input length out of range: ${le}`);f=oe,b=ae,x=le,y=b+x},S=function(){let Q=`${n}initializeCallbacks(): `,G;for(T=[],q=[],G=0;G<D.length;G+=1)T[G]=null;for(G=0;G<F.length;G+=1)q[G]=null;let I,$=[];for(G=0;G<D.length;G+=1)$.push(D[G].lower);for(G=0;G<F.length;G+=1)$.push(F[G].lower);for(let ne in i.callbacks){if(G=$.indexOf(ne.toLowerCase()),G<0)throw new Error(`${Q}syntax callback '${ne}' not a rule or udt name`);if(I=i.callbacks[ne],I||(I=null),typeof I=="function"||I===null)G<D.length?T[G]=I:q[G-D.length]=I;else throw new Error(`${Q}syntax callback[${ne}] must be function reference or 'false' (false/null/undefined/etc.)`)}for(G=0;G<F.length;G+=1)if(q[G]===null)throw new Error(`${Q}all UDT callbacks must be defined. UDT callback[${F[G].lower}] not a function reference`)};this.setMaxTreeDepth=function(Q){if(typeof Q!="number")throw new Error(`parser: max tree depth must be integer > 0: ${Q}`);if(W=Math.floor(Q),W<=0)throw new Error(`parser: max tree depth must be integer > 0: ${Q}`)},this.setMaxNodeHits=function(Q){if(typeof Q!="number")throw new Error(`parser: max node hits must be integer > 0: ${Q}`);if(L=Math.floor(Q),L<=0)throw new Error(`parser: max node hits must be integer > 0: ${Q}`)};let d=function(Q,G,I){let $,ne=`${n}parse(): `;g(Q);let oe=l(G);S(),m(),v(),u();let ae=new c;switch(I!=null&&(Y=I),a=[{type:e.RNM,index:oe}],s(0,b,ae),a=null,ae.state){case e.ACTIVE:throw new Error(`${ne}final state should never be 'ACTIVE'`);case e.NOMATCH:$=!1;break;case e.EMPTY:case e.MATCH:ae.phraseLength===x?$=!0:$=!1;break;default:throw new Error("unrecognized state")}return{success:$,state:ae.state,length:x,matched:ae.phraseLength,maxMatched:z,maxTreeDepth:N,nodeHits:C,inputLength:f.length,subBegin:b,subEnd:y,subLength:x}};this.parseSubstring=function(G,I,$,ne,oe,ae){return ee(),E($,ne,oe),d(G,I,ae)},this.parse=function(G,I,$,ne){return ee(),E($,0,$.length),d(G,I,ne)};let A=function(Q,G,I){let $=a[Q];for(let ne=0;ne<$.children.length&&(s($.children[ne],G,I),I.state===e.NOMATCH);ne+=1);},te=function(Q,G,I){let $,ne,oe,ae,le=a[Q],je=I.uFrame.length(),ye=I.pFrame.length();i.ast&&(ne=i.ast.getLength()),$=!0,oe=G,ae=0;for(let pe=0;pe<le.children.length;pe+=1)if(s(le.children[pe],oe,I),I.state===e.NOMATCH){$=!1;break}else oe+=I.phraseLength,ae+=I.phraseLength;$?(I.state=ae===0?e.EMPTY:e.MATCH,I.phraseLength=ae):(I.state=e.NOMATCH,I.phraseLength=0,I.uFrame.pop(je),I.pFrame.pop(ye),i.ast&&i.ast.setLength(ne))},M=function(Q,G,I){let $,ne,oe,ae,le=a[Q];ne=G,oe=0,ae=0;let je=I.uFrame.length(),ye=I.pFrame.length();i.ast&&($=i.ast.getLength());let pe=!0;for(;pe&&!(ne>=y||(s(Q+1,ne,I),I.state===e.NOMATCH)||I.state===e.EMPTY||(ae+=1,oe+=I.phraseLength,ne+=I.phraseLength,ae===le.max)););I.state===e.EMPTY||ae>=le.min?(I.state=oe===0?e.EMPTY:e.MATCH,I.phraseLength=oe):(I.state=e.NOMATCH,I.phraseLength=0,I.uFrame.pop(je),I.pFrame.pop(ye),i.ast&&i.ast.setLength($))},H=function(Q,G,I,$){if(G.phraseLength>I){let ne=`${n}opRNM(${Q.name}): callback function error: `;throw ne+=`sysData.phraseLength: ${G.phraseLength}`,ne+=` must be <= remaining chars: ${I}`,new Error(ne)}switch(G.state){case e.ACTIVE:if($!==!0)throw new Error(`${n}opRNM(${Q.name}): callback function return error. ACTIVE state not allowed.`);break;case e.EMPTY:G.phraseLength=0;break;case e.MATCH:G.phraseLength===0&&(G.state=e.EMPTY);break;case e.NOMATCH:G.phraseLength=0;break;default:throw new Error(`${n}opRNM(${Q.name}): callback function return error. Unrecognized return state: ${G.state}`)}},J=function(Q,G,I){let $,ne,oe,ae,le,je,ye=a[Q],pe=D[ye.index],Ve=T[pe.index],Ee=!h();if(Ee&&(ne=i.ast&&i.ast.ruleDefined(ye.index),ne&&($=i.ast.getLength(),i.ast.down(ye.index,D[ye.index].name)),ae=I.uFrame.length(),le=I.pFrame.length(),I.uFrame.push(),I.pFrame.push(),je=I.pFrame,I.pFrame=new _),Ve===null)oe=a,a=pe.opcodes,s(0,G,I),a=oe;else{let Me=y-G;I.ruleIndex=pe.index,Ve(I,f,G,Y),H(pe,I,Me,!0),I.state===e.ACTIVE&&(oe=a,a=pe.opcodes,s(0,G,I),a=oe,I.ruleIndex=pe.index,Ve(I,f,G,Y),H(pe,I,Me,!1))}Ee&&(ne&&(I.state===e.NOMATCH?i.ast.setLength($):i.ast.up(ye.index,pe.name,G,I.phraseLength)),I.pFrame=je,I.state===e.NOMATCH?(I.uFrame.pop(ae),I.pFrame.pop(le)):pe.isBkr&&(I.pFrame.savePhrase(pe.lower,G,I.phraseLength),I.uFrame.savePhrase(pe.lower,G,I.phraseLength)))},O=function(Q,G,I){if(G.phraseLength>I){let $=`${n}opUDT(${Q.name}): callback function error: `;throw $+=`sysData.phraseLength: ${G.phraseLength}`,$+=` must be <= remaining chars: ${I}`,new Error($)}switch(G.state){case e.ACTIVE:throw new Error(`${n}opUDT(${Q.name}): callback function return error. ACTIVE state not allowed.`);case e.EMPTY:if(Q.empty===!1)throw new Error(`${n}opUDT(${Q.name}): callback function return error. May not return EMPTY.`);G.phraseLength=0;break;case e.MATCH:if(G.phraseLength===0){if(Q.empty===!1)throw new Error(`${n}opUDT(${Q.name}): callback function return error. May not return EMPTY.`);G.state=e.EMPTY}break;case e.NOMATCH:G.phraseLength=0;break;default:throw new Error(`${n}opUDT(${Q.name}): callback function return error. Unrecognized return state: ${G.state}`)}},R=function(Q,G,I){let $,ne,oe,ae,le,je,ye=a[Q],pe=F[ye.index];I.UdtIndex=pe.index;let Ve=!h();Ve&&(oe=i.ast&&i.ast.udtDefined(ye.index),oe&&(ne=D.length+ye.index,$=i.ast.getLength(),i.ast.down(ne,pe.name)),ae=I.uFrame.length(),le=I.pFrame.length(),I.uFrame.push(),I.pFrame.push(),je=I.pFrame,I.pFrame=new _);let Ee=y-G;q[ye.index](I,f,G,Y),O(pe,I,Ee),Ve&&(oe&&(I.state===e.NOMATCH?i.ast.setLength($):i.ast.up(ne,pe.name,G,I.phraseLength)),I.pFrame=je,I.state===e.NOMATCH?(I.uFrame.pop(ae),I.pFrame.pop(le)):pe.isBkr&&(I.pFrame.savePhrase(pe.lower,G,I.phraseLength),I.uFrame.savePhrase(pe.lower,G,I.phraseLength)))},K=function(Q,G,I){w.push({lookAround:e.LOOKAROUND_AHEAD,anchor:G,charsEnd:y,charsLength:x}),y=f.length,x=f.length-b,s(Q+1,G,I);let $=w.pop();switch(y=$.charsEnd,x=$.charsLength,I.phraseLength=0,I.state){case e.EMPTY:I.state=e.EMPTY;break;case e.MATCH:I.state=e.EMPTY;break;case e.NOMATCH:I.state=e.NOMATCH;break;default:throw new Error(`opAND: invalid state ${I.state}`)}},j=function(Q,G,I){w.push({lookAround:e.LOOKAROUND_AHEAD,anchor:G,charsEnd:y,charsLength:x}),y=f.length,x=f.length-b,s(Q+1,G,I);let $=w.pop();switch(y=$.charsEnd,x=$.charsLength,I.phraseLength=0,I.state){case e.EMPTY:case e.MATCH:I.state=e.NOMATCH;break;case e.NOMATCH:I.state=e.EMPTY;break;default:throw new Error(`opNOT: invalid state ${I.state}`)}},Z=function(Q,G,I){let $=a[Q];I.state=e.NOMATCH,G<y&&$.min<=f[G]&&f[G]<=$.max&&(I.state=e.MATCH,I.phraseLength=1)},ce=function(Q,G,I){let $,ne=a[Q],oe=ne.string.length;if(I.state=e.NOMATCH,G+oe<=y){for($=0;$<oe;$+=1)if(f[G+$]!==ne.string[$])return;I.state=e.MATCH,I.phraseLength=oe}},ie=function(Q,G,I){let $,ne,oe=a[Q];I.state=e.NOMATCH;let ae=oe.string.length;if(ae===0){I.state=e.EMPTY;return}if(G+ae<=y){for($=0;$<ae;$+=1)if(ne=f[G+$],ne>=65&&ne<=90&&(ne+=32),ne!==oe.string[$])return;I.state=e.MATCH,I.phraseLength=ae}},V=function(Q,G,I){I.state=e.NOMATCH,I.phraseLength=0,I.state=G===0?e.EMPTY:e.NOMATCH},ue=function(Q,G,I){I.state=e.NOMATCH,I.phraseLength=0,I.state=G===f.length?e.EMPTY:e.NOMATCH},X=function(Q,G,I){let $,ne,oe,ae,le=a[Q];I.state=e.NOMATCH,le.index<D.length?ae=D[le.index].lower:ae=F[le.index-D.length].lower;let je=le.bkrMode===e.BKR_MODE_PM?I.pFrame.getPhrase(ae):I.uFrame.getPhrase(ae),ye=le.bkrCase===e.BKR_MODE_CI;if(je===null)return;let pe=je.phraseIndex,Ve=je.phraseLength;if(Ve===0){I.state=e.EMPTY;return}if(G+Ve<=y){if(ye){for($=0;$<Ve;$+=1)if(ne=f[G+$],oe=f[pe+$],ne>=65&&ne<=90&&(ne+=32),oe>=65&&oe<=90&&(oe+=32),ne!==oe)return;I.state=e.MATCH,I.phraseLength=Ve}else for($=0;$<Ve;$+=1)if(ne=f[G+$],oe=f[pe+$],ne!==oe)return;I.state=e.MATCH,I.phraseLength=Ve}},se=function(Q,G,I){switch(w.push({lookAround:e.LOOKAROUND_BEHIND,anchor:G}),s(Q+1,G,I),w.pop(),I.phraseLength=0,I.state){case e.EMPTY:I.state=e.EMPTY;break;case e.MATCH:I.state=e.EMPTY;break;case e.NOMATCH:I.state=e.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${I.state}`)}},U=function(Q,G,I){switch(w.push({lookAround:e.LOOKAROUND_BEHIND,anchor:G}),s(Q+1,G,I),w.pop(),I.phraseLength=0,I.state){case e.EMPTY:case e.MATCH:I.state=e.NOMATCH;break;case e.NOMATCH:I.state=e.EMPTY;break;default:throw new Error(`opBKN: invalid state ${I.state}`)}},re=function(Q,G,I){let $,ne,oe,ae,le=a[Q],je=I.uFrame.length(),ye=I.pFrame.length();i.ast&&(ne=i.ast.getLength()),$=!0,oe=G,ae=0;for(let pe=le.children.length-1;pe>=0;pe-=1)if(s(le.children[pe],oe,I),oe-=I.phraseLength,ae+=I.phraseLength,I.state===e.NOMATCH){$=!1;break}$?(I.state=ae===0?e.EMPTY:e.MATCH,I.phraseLength=ae):(I.state=e.NOMATCH,I.phraseLength=0,I.uFrame.pop(je),I.pFrame.pop(ye),i.ast&&i.ast.setLength(ne))},he=function(Q,G,I){let $,ne,oe,ae,le=a[Q];ne=G,oe=0,ae=0;let je=I.uFrame.length(),ye=I.pFrame.length();i.ast&&($=i.ast.getLength());let pe=!0;for(;pe&&!(ne<=0||(s(Q+1,ne,I),I.state===e.NOMATCH)||I.state===e.EMPTY||(ae+=1,oe+=I.phraseLength,ne-=I.phraseLength,ae===le.max)););I.state===e.EMPTY||ae>=le.min?(I.state=oe===0?e.EMPTY:e.MATCH,I.phraseLength=oe):(I.state=e.NOMATCH,I.phraseLength=0,I.uFrame.pop(je),I.pFrame.pop(ye),i.ast&&i.ast.setLength($))},xe=function(Q,G,I){let $=a[Q];if(I.state=e.NOMATCH,I.phraseLength=0,G>0){let ne=f[G-1];$.min<=ne&&ne<=$.max&&(I.state=e.MATCH,I.phraseLength=1)}},ge=function(Q,G,I){let $,ne=a[Q];I.state=e.NOMATCH;let oe=ne.string.length,ae=G-oe;if(ae>=0){for($=0;$<oe;$+=1)if(f[ae+$]!==ne.string[$])return;I.state=e.MATCH,I.phraseLength=oe}},Ae=function(Q,G,I){let $,ne=a[Q];I.state=e.NOMATCH;let oe=ne.string.length;if(oe===0){I.state=e.EMPTY;return}let ae=G-oe;if(ae>=0){for(let le=0;le<oe;le+=1)if($=f[ae+le],$>=65&&$<=90&&($+=32),$!==ne.string[le])return;I.state=e.MATCH,I.phraseLength=oe}},It=function(Q,G,I){let $,ne,oe,ae,le=a[Q];I.state=e.NOMATCH,I.phraseLength=0,le.index<D.length?ae=D[le.index].lower:ae=F[le.index-D.length].lower;let je=le.bkrMode===e.BKR_MODE_PM?I.pFrame.getPhrase(ae):I.uFrame.getPhrase(ae),ye=le.bkrCase===e.BKR_MODE_CI;if(je===null)return;let pe=je.phraseIndex,Ve=je.phraseLength;if(Ve===0){I.state=e.EMPTY,I.phraseLength=0;return}let Ee=G-Ve;if(Ee>=0){if(ye){for($=0;$<Ve;$+=1)if(ne=f[Ee+$],oe=f[pe+$],ne>=65&&ne<=90&&(ne+=32),oe>=65&&oe<=90&&(oe+=32),ne!==oe)return;I.state=e.MATCH,I.phraseLength=Ve}else for($=0;$<Ve;$+=1)if(ne=f[Ee+$],oe=f[pe+$],ne!==oe)return;I.state=e.MATCH,I.phraseLength=Ve}};s=function(G,I,$){let ne=!0,oe=a[G];if(C+=1,C>L)throw new Error(`parser: maximum number of node hits exceeded: ${L}`);if(k+=1,k>N&&(N=k,N>W))throw new Error(`parser: maximum parse tree depth exceeded: ${W}`);if($.refresh(),i.trace!==null){let ae=p();i.trace.down(oe,$.state,I,$.phraseLength,ae.anchor,ae.lookAround)}if(o())switch(oe.type){case e.ALT:A(G,I,$);break;case e.CAT:re(G,I,$);break;case e.REP:he(G,I,$);break;case e.RNM:J(G,I,$);break;case e.UDT:R(G,I,$);break;case e.AND:K(G,I,$);break;case e.NOT:j(G,I,$);break;case e.TRG:xe(G,I,$);break;case e.TBS:ge(G,I,$);break;case e.TLS:Ae(G,I,$);break;case e.BKR:It(G,I,$);break;case e.BKA:se(G,I,$);break;case e.BKN:U(G,I,$);break;case e.ABG:V(G,I,$);break;case e.AEN:ue(G,I,$);break;default:ne=!1;break}else switch(oe.type){case e.ALT:A(G,I,$);break;case e.CAT:te(G,I,$);break;case e.REP:M(G,I,$);break;case e.RNM:J(G,I,$);break;case e.UDT:R(G,I,$);break;case e.AND:K(G,I,$);break;case e.NOT:j(G,I,$);break;case e.TRG:Z(G,I,$);break;case e.TBS:ce(G,I,$);break;case e.TLS:ie(G,I,$);break;case e.BKR:X(G,I,$);break;case e.BKA:se(G,I,$);break;case e.BKN:U(G,I,$);break;case e.ABG:V(G,I,$);break;case e.AEN:ue(G,I,$);break;default:ne=!1;break}if(!h()&&I+$.phraseLength>z&&(z=I+$.phraseLength),i.stats!==null&&i.stats.collect(oe,$),i.trace!==null){let ae=p();i.trace.up(oe,$.state,I,$.phraseLength,ae.anchor,ae.lookAround)}return k-=1,ne}}});var Q1=de((y7,Z1)=>{Z1.exports=function(){let e=vr(),t=gi(),n=Ys(),i="stats.js: ",s=[],a=[],f=[],b,x=[],y=[];this.statsObject="statsObject";let w="stats",k=function(L,B){return L.lower<B.lower?-1:L.lower>B.lower?1:0},N=function(L,B){return L.total<B.total?1:L.total>B.total?-1:k(L,B)},C=function(L,B){return L.index<B.index?-1:L.index>B.index?1:0},T=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},q=function(){f.length=0,b=new T,f[e.ALT]=new T,f[e.CAT]=new T,f[e.REP]=new T,f[e.RNM]=new T,f[e.TRG]=new T,f[e.TBS]=new T,f[e.TLS]=new T,f[e.UDT]=new T,f[e.AND]=new T,f[e.NOT]=new T,f[e.BKR]=new T,f[e.BKA]=new T,f[e.BKN]=new T,f[e.ABG]=new T,f[e.AEN]=new T,x.length=0;for(let L=0;L<s.length;L+=1)x.push({empty:0,match:0,nomatch:0,total:0,name:s[L].name,lower:s[L].lower,index:s[L].index});if(a.length>0){y.length=0;for(let L=0;L<a.length;L+=1)y.push({empty:0,match:0,nomatch:0,total:0,name:a[L].name,lower:a[L].lower,index:a[L].index})}},D=function(L,B){switch(L.total+=1,B){case e.EMPTY:L.empty+=1;break;case e.MATCH:L.match+=1;break;case e.NOMATCH:L.nomatch+=1;break;default:throw new Error(`${i}collect(): incStat(): unrecognized state: ${B}`)}},F=function(L,B){let P="";return P+="<tr>",P+=`<td class="${n.CLASS_ACTIVE}">${L}</td>`,P+=`<td class="${n.CLASS_EMPTY}">${B.empty}</td>`,P+=`<td class="${n.CLASS_MATCH}">${B.match}</td>`,P+=`<td class="${n.CLASS_NOMATCH}">${B.nomatch}</td>`,P+=`<td class="${n.CLASS_ACTIVE}">${B.total}</td>`,P+=`</tr>
`,P},Y=function(){let L="";return L+=F("ALT",f[e.ALT]),L+=F("CAT",f[e.CAT]),L+=F("REP",f[e.REP]),L+=F("RNM",f[e.RNM]),L+=F("TRG",f[e.TRG]),L+=F("TBS",f[e.TBS]),L+=F("TLS",f[e.TLS]),L+=F("UDT",f[e.UDT]),L+=F("AND",f[e.AND]),L+=F("NOT",f[e.NOT]),L+=F("BKR",f[e.BKR]),L+=F("BKA",f[e.BKA]),L+=F("BKN",f[e.BKN]),L+=F("ABG",f[e.ABG]),L+=F("AEN",f[e.AEN]),L+=F("totals",b),L},z=function(){let L="";L+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,L+=`<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>
`;for(let B=0;B<s.length;B+=1)x[B].total>0&&(L+="<tr>",L+=`<td class="${n.CLASS_ACTIVE}">${x[B].name}</td>`,L+=`<td class="${n.CLASS_EMPTY}">${x[B].empty}</td>`,L+=`<td class="${n.CLASS_MATCH}">${x[B].match}</td>`,L+=`<td class="${n.CLASS_NOMATCH}">${x[B].nomatch}</td>`,L+=`<td class="${n.CLASS_ACTIVE}">${x[B].total}</td>`,L+=`</tr>
`);if(a.length>0){L+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,L+=`<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>
`;for(let B=0;B<a.length;B+=1)y[B].total>0&&(L+="<tr>",L+=`<td class="${n.CLASS_ACTIVE}">${y[B].name}</td>`,L+=`<td class="${n.CLASS_EMPTY}">${y[B].empty}</td>`,L+=`<td class="${n.CLASS_MATCH}">${y[B].match}</td>`,L+=`<td class="${n.CLASS_NOMATCH}">${y[B].nomatch}</td>`,L+=`<td class="${n.CLASS_ACTIVE}">${y[B].total}</td>`,L+=`</tr>
`)}return L};this.validate=function(L){let B=!1;return typeof L=="string"&&w===L&&(B=!0),B},this.init=function(L,B){s=L,a=B,q()},this.collect=function(L,B){D(b,B.state,B.phraseLength),D(f[L.type],B.state,B.phraseLength),L.type===e.RNM&&D(x[L.index],B.state,B.phraseLength),L.type===e.UDT&&D(y[L.index],B.state,B.phraseLength)},this.toHtml=function(L,B){let P="";P+=`<table class="${n.CLASS_STATS}">
`,typeof B=="string"&&(P+=`<caption>${B}</caption>
`),P+=`<tr><th class="${n.CLASS_ACTIVE}">ops</th>
`,P+=`<th class="${n.CLASS_EMPTY}">EMPTY</th>
`,P+=`<th class="${n.CLASS_MATCH}">MATCH</th>
`,P+=`<th class="${n.CLASS_NOMATCH}">NOMATCH</th>
`,P+=`<th class="${n.CLASS_ACTIVE}">totals</th></tr>
`;let ee=!0;for(;ee;){if(L===void 0){P+=Y();break}if(L===null){P+=Y();break}if(L==="ops"){P+=Y();break}if(L==="index"){x.sort(C),y.length>0&&y.sort(C),P+=Y(),P+=z();break}if(L==="hits"){x.sort(N),y.length>0&&y.sort(C),P+=Y(),P+=z();break}if(L==="alpha"){x.sort(k),y.length>0&&y.sort(k),P+=Y(),P+=z();break}break}return P+=`</table>
`,P},this.toHtmlPage=function(L,B,P){return t.htmlToPage(this.toHtml(L,B),P)}}});var tb=de((x7,eb)=>{eb.exports=function(){let e=gi(),t=Ys(),n=new(pu()),i=vr(),s="trace.js: ",a=this,f=16,b=10,x=8,y=32,w=80,k=5,N=[],C=5e3,T=-1,q=0,D=0,F=[],Y=null,z=null,W=null,L=[],B=[],P=`<span class="${t.CLASS_LINEEND}">&bull;</span>`,ee=`<span class="${t.CLASS_LINEEND}">&hellip;</span>`,_=`<span class="${t.CLASS_EMPTY}">&#120634;</span>`,c=function(){let O=function(K){L[i.ALT]=K,L[i.CAT]=K,L[i.REP]=K,L[i.TLS]=K,L[i.TBS]=K,L[i.TRG]=K,L[i.AND]=K,L[i.NOT]=K,L[i.BKR]=K,L[i.BKA]=K,L[i.BKN]=K,L[i.ABG]=K,L[i.AEN]=K},R=0;for(let K in a.filter.operators)R+=1;if(R===0){O(!1);return}for(let K in a.filter.operators){let j=K.toUpperCase();if(j==="<ALL>"){O(!0);return}if(j==="<NONE>"){O(!1);return}}O(!1);for(let K in a.filter.operators){let j=K.toUpperCase();if(j==="ALT")L[i.ALT]=a.filter.operators[K]===!0;else if(j==="CAT")L[i.CAT]=a.filter.operators[K]===!0;else if(j==="REP")L[i.REP]=a.filter.operators[K]===!0;else if(j==="AND")L[i.AND]=a.filter.operators[K]===!0;else if(j==="NOT")L[i.NOT]=a.filter.operators[K]===!0;else if(j==="TLS")L[i.TLS]=a.filter.operators[K]===!0;else if(j==="TBS")L[i.TBS]=a.filter.operators[K]===!0;else if(j==="TRG")L[i.TRG]=a.filter.operators[K]===!0;else if(j==="BKR")L[i.BKR]=a.filter.operators[K]===!0;else if(j==="BKA")L[i.BKA]=a.filter.operators[K]===!0;else if(j==="BKN")L[i.BKN]=a.filter.operators[K]===!0;else if(j==="ABG")L[i.ABG]=a.filter.operators[K]===!0;else if(j==="AEN")L[i.AEN]=a.filter.operators[K]===!0;else throw new Error(`${s}initOpratorFilter: '${K}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`)}},p=function(){let O=function(Z){L[i.RNM]=Z,L[i.UDT]=Z;let ce=z.length+W.length;B.length=0;for(let ie=0;ie<ce;ie+=1)B.push(Z)},R,K,j=[];for(K=0;K<z.length;K+=1)j.push(z[K].lower);for(K=0;K<W.length;K+=1)j.push(W[K].lower);B.length=0,R=0;for(let Z in a.filter.rules)R+=1;if(R===0){O(!0);return}for(let Z in a.filter.rules){let ce=Z.toLowerCase();if(ce==="<all>"){O(!0);return}if(ce==="<none>"){O(!1);return}}O(!1),L[i.RNM]=!0,L[i.UDT]=!0;for(let Z in a.filter.rules){let ce=Z.toLowerCase();if(K=j.indexOf(ce),K<0)throw new Error(`${s}initRuleFilter: '${Z}' not a valid rule or udt name`);B[K]=a.filter.rules[Z]===!0}};this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(O,R){if(T=-1,typeof O=="number"&&O>0)C=Math.ceil(O);else{C=0;return}typeof R=="number"&&(T=Math.floor(R),T<0&&(T=-1))},this.getMaxRecords=function(){return C},this.getLastRecord=function(){return T},this.init=function(O,R,K){N.length=0,F.length=0,q=0,D=0,Y=K,z=O,W=R,c(),p(),n.init(C)};let h=function(O){let R=!1;return O.type===i.RNM?L[O.type]&&B[O.index]?R=!0:R=!1:O.type===i.UDT?L[O.type]&&B[z.length+O.index]?R=!0:R=!1:R=L[O.type],R},o=function(O){return T===-1||O<=T};this.down=function(O,R,K,j,Z,ce){o(q)&&h(O)&&(F.push(q),N[n.increment()]={dirUp:!1,depth:D,thisLine:q,thatLine:void 0,opcode:O,state:R,phraseIndex:K,phraseLength:j,lookAnchor:Z,lookAround:ce},q+=1,D+=1)},this.up=function(O,R,K,j,Z,ce){if(o(q)&&h(O)){let ie=q,V=F.pop(),ue=n.getListIndex(V);ue!==-1&&(N[ue].thatLine=ie),D-=1,N[n.increment()]={dirUp:!0,depth:D,thisLine:ie,thatLine:V,opcode:O,state:R,phraseIndex:K,phraseLength:j,lookAnchor:Z,lookAround:ce},q+=1}};let u=function(){function O(I,$){let ne,oe,ae;if($)switch(I.op={id:$.type,name:e.opcodeToString($.type)},I.opData=void 0,$.type){case i.RNM:I.opData=z[$.index].name;break;case i.UDT:I.opData=W[$.index].name;break;case i.BKR:$.index<z.length?ne=z[$.index].name:ne=W[$.index-z.length].name,oe=$.bkrCase===i.BKR_MODE_CI?"%i":"%s",ae=$.bkrMode===i.BKR_MODE_UM?"%u":"%p",I.opData=`\\\\${oe}${ae}${ne}`;break;case i.TLS:I.opData=[];for(let le=0;le<$.string.length;le+=1)I.opData.push($.string[le]);break;case i.TBS:I.opData=[];for(let le=0;le<$.string.length;le+=1)I.opData.push($.string[le]);break;case i.TRG:I.opData=[$.min,$.max];break;case i.REP:I.opData=[$.min,$.max];break;default:throw new Error("unrecognized opcode")}else I.op={id:void 0,name:void 0},I.opData=void 0}function R(I,$,ne){return I===i.MATCH?{index:$,length:ne}:I===i.NOMATCH?{index:$,length:0}:I===i.EMPTY?{index:$,length:0}:null}let K=-1;function j(I,$,ne){let oe={id:K++,branch:-1,parent:I,up:!1,down:!1,depth:ne,children:[]};return $?(oe.down=!0,oe.state={id:$.state,name:e.stateToString($.state)},oe.phrase=null,O(oe,$.opcode)):(oe.state={id:void 0,name:void 0},oe.phrase=R(),O(oe,void 0)),oe}function Z(I,$){$&&(I.up=!0,I.state={id:$.state,name:e.stateToString($.state)},I.phrase=R($.state,$.phraseIndex,$.phraseLength),I.down||O(I,$.opcode))}let ce=0,ie=-1,V=1;function ue(I){if(ie+=1,I.branch=V,ie>D&&(D=ie),I.children.length===0)ce+=1;else for(let $=0;$<I.children.length;$+=1)$>0&&(V+=1),I.children[$].leftMost=!1,I.children[$].rightMost=!1,I.leftMost&&(I.children[$].leftMost=$===0),I.rightMost&&(I.children[$].rightMost=$===I.children.length-1),ue(I.children[$]);ie-=1}function X(I,$){let ne,oe={};if(oe.id=I.id,oe.branch=I.branch,oe.leftMost=I.leftMost,oe.rightMost=I.rightMost,ne=I.state.name?I.state.name:"ACTIVE",oe.state={id:I.state.id,name:ne},ne=I.op.name?I.op.name:"?",oe.op={id:I.op.id,name:ne},typeof I.opData=="string")oe.opData=I.opData;else if(Array.isArray(I.opData)){oe.opData=[];for(let ae=0;ae<I.opData.length;ae+=1)oe.opData[ae]=I.opData[ae]}else oe.opData=void 0;I.phrase?oe.phrase={index:I.phrase.index,length:I.phrase.length}:oe.phrase=null,oe.depth=I.depth,oe.children=[];for(let ae=0;ae<I.children.length;ae+=1){let le=ae!==I.children.length-1;oe.children[ae]=X(I.children[ae],$,le)}return oe}let se=[],U,re,he,xe,ge=!0,Ae=j(null,null,-1);for(se.push(Ae),re=Ae,n.forEach(I=>{if(xe=N[I],ge&&(ge=!1,xe.depth>0)){let $=xe.dirUp?xe.depth+1:xe.depth;for(let ne=0;ne<$;ne+=1)he=re,re=j(re,null,ne),se.push(re),he.children.push(re)}xe.dirUp?(re=se.pop(),Z(re,xe),re=se[se.length-1]):(he=re,re=j(re,xe,xe.depth),se.push(re),he.children.push(re))});se.length>1;)re=se.pop(),Z(re,null);if(Ae.children.length===0)throw new Error("trace.toTree(): parse tree has no nodes");if(se.length===0)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");U=Ae.children[0];let It=U;for(;U&&!U.down&&!U.up;)It=U,U=U.children[0];U=It,U.leftMost=!0,U.rightMost=!0,ue(U),U.branch=0;let Q={};Q.string=[];for(let I=0;I<Y.length;I+=1)Q.string[I]=Y[I];Q.rules=[];for(let I=0;I<z.length;I+=1)Q.rules[I]=z[I].name;Q.udts=[];for(let I=0;I<W.length;I+=1)Q.udts[I]=W[I].name;Q.id={},Q.id.ALT={id:i.ALT,name:"ALT"},Q.id.CAT={id:i.CAT,name:"CAT"},Q.id.REP={id:i.REP,name:"REP"},Q.id.RNM={id:i.RNM,name:"RNM"},Q.id.TLS={id:i.TLS,name:"TLS"},Q.id.TBS={id:i.TBS,name:"TBS"},Q.id.TRG={id:i.TRG,name:"TRG"},Q.id.UDT={id:i.UDT,name:"UDT"},Q.id.AND={id:i.AND,name:"AND"},Q.id.NOT={id:i.NOT,name:"NOT"},Q.id.BKR={id:i.BKR,name:"BKR"},Q.id.BKA={id:i.BKA,name:"BKA"},Q.id.BKN={id:i.BKN,name:"BKN"},Q.id.ABG={id:i.ABG,name:"ABG"},Q.id.AEN={id:i.AEN,name:"AEN"},Q.id.ACTIVE={id:i.ACTIVE,name:"ACTIVE"},Q.id.MATCH={id:i.MATCH,name:"MATCH"},Q.id.EMPTY={id:i.EMPTY,name:"EMPTY"},Q.id.NOMATCH={id:i.NOMATCH,name:"NOMATCH"},Q.treeDepth=D,Q.leafNodes=ce;let G;return U.down?U.up?G="none":G="right":U.up?G="left":G="both",Q.branchesIncomplete=G,Q.tree=X(U,U.depth,!1),Q};this.toTree=function(O){let R=u();return O?JSON.stringify(R):R},this.toHtmlPage=function(O,R,K){return e.htmlToPage(this.toHtml(O,R),K)};let m=function(O,R){let K;switch(O){case f:K="hexadecimal";break;case b:K="decimal";break;case x:K="ASCII";break;case y:K="UNICODE";break;default:throw new Error(`${s}htmlHeader: unrecognized mode: ${O}`)}let j="";return j+=`<p>display mode: ${K}</p>
`,j+=`<table class="${t.CLASS_TRACE}">
`,typeof R=="string"&&(j+=`<caption>${R}</caption>`),j},v=function(){let O="";return O+=`</table>
`,O+=`<p class="${t.CLASS_MONOSPACE}">legend:<br>
`,O+=`(a)&nbsp;-&nbsp;line number<br>
`,O+=`(b)&nbsp;-&nbsp;matching line number<br>
`,O+=`(c)&nbsp;-&nbsp;phrase offset<br>
`,O+=`(d)&nbsp;-&nbsp;phrase length<br>
`,O+=`(e)&nbsp;-&nbsp;tree depth<br>
`,O+=`(f)&nbsp;-&nbsp;operator state<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">&uarr;M</span> phrase matched<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>
`,O+=`operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>
`,O+=`phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to ${w} characters of the phrase being matched<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">matched characters</span><br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${_} empty string<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${P} end of input string<br>
`,O+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${ee} input string display truncated<br>
`,O+=`</p>
`,O+=`<p class="${t.CLASS_MONOSPACE}">
`,O+=`<sup>&dagger;</sup>original ABNF operators:<br>
`,O+=`ALT - alternation<br>
`,O+=`CAT - concatenation<br>
`,O+=`REP - repetition<br>
`,O+=`RNM - rule name<br>
`,O+=`TRG - terminal range<br>
`,O+=`TLS - terminal literal string (case insensitive)<br>
`,O+=`TBS - terminal binary string (case sensitive)<br>
`,O+=`<br>
`,O+=`<sup>&Dagger;</sup>super set SABNF operators:<br>
`,O+=`UDT - user-defined terminal<br>
`,O+=`AND - positive look ahead<br>
`,O+=`NOT - negative look ahead<br>
`,O+=`BKA - positive look behind<br>
`,O+=`BKN - negative look behind<br>
`,O+=`BKR - back reference<br>
`,O+=`ABG - anchor - begin of input string<br>
`,O+=`AEN - anchor - end of input string<br>
`,O+=`</p>
`,O};this.indent=function(O){let R="";for(let K=0;K<O;K+=1)R+=".";return R};let g=function(O,R){let K="";if(R.type===i.TRG)if(O===f||O===y){let j=R.min.toString(16).toUpperCase();j.length%2!==0&&(j=`0${j}`),K+=O===f?"%x":"U+",K+=j,j=R.max.toString(16).toUpperCase(),j.length%2!==0&&(j=`0${j}`),K+=`&ndash;${j}`}else K=`%d${R.min.toString(10)}&ndash;${R.max.toString(10)}`;return K},l=function(O,R){let K="";if(R.type===i.REP)if(O===f){let j=R.min.toString(16).toUpperCase();j.length%2!==0&&(j=`0${j}`),K=`x${j}`,R.max<1/0?(j=R.max.toString(16).toUpperCase(),j.length%2!==0&&(j=`0${j}`)):j="inf",K+=`&ndash;${j}`}else R.max<1/0?K=`${R.min.toString(10)}&ndash;${R.max.toString(10)}`:K=`${R.min.toString(10)}&ndash;inf`;return K},E=function(O,R){let K="";if(R.type===i.TBS){let j=Math.min(R.string.length,k*2);if(O===f||O===y){K+=O===f?"%x":"U+";for(let Z=0;Z<j;Z+=1){let ce;Z>0&&(K+="."),ce=R.string[Z].toString(16).toUpperCase(),ce.length%2!==0&&(ce=`0${ce}`),K+=ce}}else{K="%d";for(let Z=0;Z<j;Z+=1)Z>0&&(K+="."),K+=R.string[Z].toString(10)}j<R.string.length&&(K+=ee)}return K},S=function(O,R){let K="";if(R.type===i.TLS){let j=Math.min(R.string.length,k);if(O===f||O===b){let Z,ce,ie;O===f?(K="%x",ie=16):(K="%d",ie=10);for(let V=0;V<j;V+=1)V>0&&(K+="."),ce=R.string[V],ce>=97&&ce<=122?(Z=ce-32,K+=`${Z.toString(ie)}/${ce.toString(ie)}`.toUpperCase()):ce>=65&&ce<=90?(Z=ce,ce+=32,K+=`${Z.toString(ie)}/${ce.toString(ie)}`.toUpperCase()):K+=ce.toString(ie).toUpperCase();j<R.string.length&&(K+=ee)}else{K='"';for(let Z=0;Z<j;Z+=1)K+=e.asciiChars[R.string[Z]];j<R.string.length&&(K+=ee),K+='"'}}return K},d=function(O,R,K,j,Z){if(j===0)return"";let ce="",ie=Z?",":"";switch(O){case f:ce=ie+e.charsToHex(R,K,j);break;case b:if(Z)return`,${e.charsToDec(R,K,j)}`;ce=ie+e.charsToDec(R,K,j);break;case y:ce=e.charsToUnicode(R,K,j);break;case x:default:ce=e.charsToAsciiHtml(R,K,j);break}return ce},A=function(O,R,K,j,Z,ce){let ie="",V,ue,X,se,U=P,re=`<span class="${t.CLASS_LOOKBEHIND}">`,he=`<span class="${t.CLASS_REMAINDER}">`,xe="</span>",ge=!1;switch(K){case i.EMPTY:ie+=_;case i.NOMATCH:case i.MATCH:case i.ACTIVE:V=j-Z,ue=ce-V,X=ce,se=R.length-X;break;default:throw new Error("unrecognized state")}return U=P,ue>w?(ue=w,U=ee,se=0):ue+se>w&&(U=ee,se=w-ue),ue>0&&(ie+=re,ie+=d(O,R,V,ue,ge),ie+=xe,ge=!0),se>0&&(ie+=he,ie+=d(O,R,X,se,ge),ie+=xe),ie+U},te=function(O,R,K,j,Z,ce){let ie="",V,ue,X,se,U=P,re=`<span class="${t.CLASS_REMAINDER}">`,he="</span>",xe=!1;switch(K){case i.EMPTY:ie+=_;case i.NOMATCH:case i.ACTIVE:V=j,ue=0,X=j,se=R.length-X;break;case i.MATCH:V=j,ue=Z,X=j+ue,se=R.length-X;break;default:throw new Error("unrecognized state")}return U=P,ue>w?(ue=w,U=ee,se=0):ue+se>w&&(U=ee,se=w-ue),ue>0&&(ie+=ce,ie+=d(O,R,V,ue,xe),ie+=he,xe=!0),se>0&&(ie+=re,ie+=d(O,R,X,se,xe),ie+=he),ie+U},M=function(O,R,K,j,Z){let ce=`<span class="${t.CLASS_LOOKAHEAD}">`;return te(O,R,K,j,Z,ce)},H=function(O,R,K,j,Z){let ce=`<span class="${t.CLASS_MATCH}">`;return te(O,R,K,j,Z,ce)},J=function(O){if(z===null)return"";let R="",K,j,Z,ce,ie,V;return R+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",R+=`<th>operator</th><th>phrase</th></tr>
`,n.forEach(ue=>{let X=N[ue];switch(K=X.thisLine,j=X.thatLine!==void 0?X.thatLine:"--",Z=!1,ce=!1,ie=!1,X.lookAround===i.LOOKAROUND_AHEAD&&(Z=!0,ie=!0,V=X.lookAnchor),(X.opcode.type===i.AND||X.opcode.type===i.NOT)&&(Z=!0,ie=!0,V=X.phraseIndex),X.lookAround===i.LOOKAROUND_BEHIND&&(ce=!0,ie=!0,V=X.lookAnchor),(X.opcode.type===i.BKA||X.opcode.type===i.BKN)&&(ce=!0,ie=!0,V=X.phraseIndex),R+="<tr>",R+=`<td>${K}</td><td>${j}</td>`,R+=`<td>${X.phraseIndex}</td>`,R+=`<td>${X.phraseLength}</td>`,R+=`<td>${X.depth}</td>`,R+="<td>",X.state){case i.ACTIVE:R+=`<span class="${t.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case i.MATCH:R+=`<span class="${t.CLASS_MATCH}">&uarr;M</span>`;break;case i.NOMATCH:R+=`<span class="${t.CLASS_NOMATCH}">&uarr;N</span>`;break;case i.EMPTY:R+=`<span class="${t.CLASS_EMPTY}">&uarr;E</span>`;break;default:R+=`<span class="${t.CLASS_ACTIVE}">--</span>`;break}if(R+="</td>",R+="<td>",R+=a.indent(X.depth),Z?R+=`<span class="${t.CLASS_LOOKAHEAD}">`:ce&&(R+=`<span class="${t.CLASS_LOOKBEHIND}">`),R+=e.opcodeToString(X.opcode.type),X.opcode.type===i.RNM&&(R+=`(${z[X.opcode.index].name}) `),X.opcode.type===i.BKR){let se=X.opcode.bkrCase===i.BKR_MODE_CI?"%i":"%s",U=X.opcode.bkrMode===i.BKR_MODE_UM?"%u":"%p";R+=`(\\${se}${U}${z[X.opcode.index].name}) `}X.opcode.type===i.UDT&&(R+=`(${W[X.opcode.index].name}) `),X.opcode.type===i.TRG&&(R+=`(${g(O,X.opcode)}) `),X.opcode.type===i.TBS&&(R+=`(${E(O,X.opcode)}) `),X.opcode.type===i.TLS&&(R+=`(${S(O,X.opcode)}) `),X.opcode.type===i.REP&&(R+=`(${l(O,X.opcode)}) `),ie&&(R+="</span>"),R+="</td>",R+="<td>",ce?R+=A(O,Y,X.state,X.phraseIndex,X.phraseLength,V):Z?R+=M(O,Y,X.state,X.phraseIndex,X.phraseLength):R+=H(O,Y,X.state,X.phraseIndex,X.phraseLength),R+=`</td></tr>
`}),R+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",R+=`<th>operator</th><th>phrase</th></tr>
`,R+=`</table>
`,R};this.toHtml=function(O,R){let K=x;if(typeof O=="string"&&O.length>=3){let Z=O.toLowerCase().slice(0,3);Z==="hex"?K=f:Z==="dec"?K=b:Z==="uni"&&(K=y)}let j="";return j+=m(K,R),j+=J(K),j+=v(),j}}});var vi=de((w7,rb)=>{rb.exports={ast:J1(),circular:pu(),ids:vr(),parser:X1(),stats:Q1(),trace:tb(),utils:gi(),emitcss:lu(),style:Ys()}});var ib=de((E7,nb)=>{nb.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"file",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"line",lower:"line",index:1,isBkr:!1},this.rules[2]={name:"line-text",lower:"line-text",index:2,isBkr:!1},this.rules[3]={name:"last-line",lower:"last-line",index:3,isBkr:!1},this.rules[4]={name:"valid",lower:"valid",index:4,isBkr:!1},this.rules[5]={name:"invalid",lower:"invalid",index:5,isBkr:!1},this.rules[6]={name:"end",lower:"end",index:6,isBkr:!1},this.rules[7]={name:"CRLF",lower:"crlf",index:7,isBkr:!1},this.rules[8]={name:"LF",lower:"lf",index:8,isBkr:!1},this.rules[9]={name:"CR",lower:"cr",index:9,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,3]},this.rules[0].opcodes[1]={type:3,min:0,max:1/0},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:3,min:0,max:1},this.rules[0].opcodes[4]={type:4,index:3},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:4,index:2},this.rules[1].opcodes[2]={type:4,index:6},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:0,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:4},this.rules[2].opcodes[3]={type:4,index:5},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3]},this.rules[3].opcodes[2]={type:4,index:4},this.rules[3].opcodes[3]={type:4,index:5},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:32,max:126},this.rules[4].opcodes[2]={type:6,string:[9]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[5].opcodes[1]={type:5,min:0,max:8},this.rules[5].opcodes[2]={type:5,min:11,max:12},this.rules[5].opcodes[3]={type:5,min:14,max:31},this.rules[5].opcodes[4]={type:5,min:127,max:4294967295},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3]},this.rules[6].opcodes[1]={type:4,index:7},this.rules[6].opcodes[2]={type:4,index:8},this.rules[6].opcodes[3]={type:4,index:9},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[13,10]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:6,string:[10]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[13]},this.toString=function(){let t="";return t+=`file = *line [last-line]
`,t+=`line = line-text end
`,t+=`line-text = *(valid/invalid)
`,t+=`last-line = 1*(valid/invalid)
`,t+=`valid = %d32-126 / %d9
`,t+=`invalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff
`,t+=`end = CRLF / LF / CR
`,t+=`CRLF = %d13.10
`,t+=`LF = %d10
`,t+=`CR = %d13
`,t}}});var ob=de(sb=>{var Ct=vr(),oy=gi();function ay(r,e,t,n,i){return r===Ct.SEM_PRE?(i.endLength=0,i.textLength=0,i.invalidCount=0):i.lines.push({lineNo:i.lines.length,beginChar:t,length:n,textLength:i.textLength,endType:i.endType,invalidChars:i.invalidCount}),Ct.SEM_OK}function fy(r,e,t,n,i){return r===Ct.SEM_PRE&&(i.textLength=n),Ct.SEM_OK}function cy(r,e,t,n,i){return r===Ct.SEM_PRE?(i.endLength=0,i.textLength=0,i.invalidCount=0):i.strict?(i.lines.push({lineNo:i.lines.length,beginChar:t,length:n,textLength:n,endType:"none",invalidChars:i.invalidCount}),i.errors.push({line:i.lineNo,char:t+n,msg:"no line end on last line - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})):(e.push(10),i.lines.push({lineNo:i.lines.length,beginChar:t,length:n+1,textLength:n,endType:"LF",invalidChars:i.invalidCount})),Ct.SEM_OK}function uy(r,e,t,n,i){return r===Ct.SEM_PRE&&i.errors.push({line:i.lineNo,char:t,msg:`invalid character found '\\x${oy.charToHex(e[t])}'`}),Ct.SEM_OK}function hy(r,e,t,n,i){return r===Ct.SEM_POST&&(i.lineNo+=1),Ct.SEM_OK}function ly(r,e,t,n,i){return r===Ct.SEM_PRE&&(i.endType="LF",i.strict&&i.errors.push({line:i.lineNo,char:t,msg:"line end character LF(\\n, \\x0A) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),Ct.SEM_OK}function dy(r,e,t,n,i){return r===Ct.SEM_PRE&&(i.endType="CR",i.strict&&i.errors.push({line:i.lineNo,char:t,msg:"line end character CR(\\r, \\x0D) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),Ct.SEM_OK}function py(r,e,t,n,i){return r===Ct.SEM_PRE&&(i.endType="CRLF"),Ct.SEM_OK}var an=[];an.line=ay;an["line-text"]=fy;an["last-line"]=cy;an.invalid=uy;an.end=hy;an.lf=ly;an.cr=dy;an.crlf=py;sb.callbacks=an});var fb=de((M7,ab)=>{ab.exports=function(e,t,n,i){let s="scanner.js: ",a=vi(),f=new(ib()),{callbacks:b}=ob(),x=[],y=new a.parser;if(y.ast=new a.ast,y.ast.callbacks=b,i){if(i.traceObject!=="traceObject")throw new TypeError(`${s}trace argument is not a trace object`);y.trace=i}if(y.parse(f,"file",e).success!==!0){t.push({line:0,char:0,msg:"syntax analysis error analyzing input SABNF grammar"});return}let k={lines:x,lineNo:0,errors:t,strict:!!n};return y.ast.translate(k),x}});var ub=de((_7,cb)=>{cb.exports=function(){let e="syntax-callbacks.js: ",t=vi(),n=t.ids,i,s=function(S,d,A,te){switch(S.state){case n.ACTIVE:te.altStack=[],te.repCount=0;break;case n.EMPTY:te.errors.push({line:0,char:0,msg:"grammar file is empty"});break;case n.MATCH:te.ruleCount===0&&te.errors.push({line:0,char:0,msg:"no rules defined"});break;case n.NOMATCH:throw new Error(`${e}synFile: grammar file NOMATCH: design error: should never happen.`);default:throw new Error(`${e}synFile: unrecognized case.`)}},a=function(E,S,d,A){switch(E.state){case n.ACTIVE:A.altStack.length=0,i={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},A.altStack.push(i);break;case n.EMPTY:throw new Error(`${e}synRule: EMPTY: rule cannot be empty`);case n.NOMATCH:break;case n.MATCH:A.ruleCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},f=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:"Unrecognized SABNF line. Invalid rule, comment or blank line."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},b=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:"Rule names must be alphanum and begin with alphabetic character."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},x=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:"Expected '=' or '=/'. Not found."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},y=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:"AND operator(&) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},w=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:"NOT operator(!) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},k=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:"Positive look-behind operator(&&) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},N=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:"Negative look-behind operator(!!) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},C=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:"Beginning of string anchor(%^) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},T=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:"End of string anchor(%$) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},q=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(A.strict){let te=t.utils.charsToString(S,d,E.phraseLength);A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:`Back reference operator(${te}) found - strict ABNF specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},D=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(A.strict){let te=t.utils.charsToString(S,d,E.phraseLength);A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:`UDT operator found(${te}) - strict ABNF specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},F=function(E,S,d){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.tlsOpen=d;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},Y=function(E,S,d,A){switch(E.state){case n.ACTIVE:A.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.stringTabChar!==!1&&A.errors.push({line:A.findLine(A.lines,A.stringTabChar),char:A.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},z=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.stringTabChar=d;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},W=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.errors.push({line:A.findLine(A.lines,i.tlsOpen),char:i.tlsOpen,msg:'Case-insensitive literal string("...") opened but not closed.'}),i.basicError=!0,i.tlsOpen=null;break;case n.MATCH:i.tlsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},L=function(E,S,d){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.clsOpen=d;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},B=function(E,S,d,A){switch(E.state){case n.ACTIVE:A.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.stringTabChar!==!1&&A.errors.push({line:A.findLine(A.lines,A.stringTabChar),char:A.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},P=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.errors.push({line:A.findLine(A.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive literal string('...') opened but not closed."}),i.clsOpen=null,i.basicError=!0;break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive string operator('...') found - strict ABNF specified."}),i.clsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},ee=function(E,S,d){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.prosValOpen=d;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},_=function(E,S,d,A){switch(E.state){case n.ACTIVE:A.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.stringTabChar!==!1&&A.errors.push({line:A.findLine(A.lines,A.stringTabChar),char:A.stringTabChar,msg:"Tab character (\\t, x09) not allowed in prose value string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},c=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.errors.push({line:A.findLine(A.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) opened but not closed."}),i.basicError=!0,i.prosValOpen=null;break;case n.MATCH:A.errors.push({line:A.findLine(A.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) found. The ABNF syntax is valid, but a parser cannot be generated from this grammar."}),i.prosValOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},p=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i={groupOpen:d,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},A.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},h=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.errors.push({line:A.findLine(A.lines,i.groupOpen),char:i.groupOpen,msg:'Group "(...)" opened but not closed.'}),i=A.altStack.pop(),i.groupError=!0;break;case n.MATCH:i=A.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},o=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i={groupOpen:null,groupError:!1,optionOpen:d,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},A.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},u=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.errors.push({line:A.findLine(A.lines,i.optionOpen),char:i.optionOpen,msg:'Option "[...]" opened but not closed.'}),i=A.altStack.pop(),i.optionError=!0;break;case n.MATCH:i=A.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},m=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.basicError===!1&&A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:"Unrecognized SABNF element."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},v=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(E.phraseLength===1&&A.strict){let te=S[d]===13?"CR":"LF";A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:`Line end '${te}' found - strict ABNF specified, only CRLF allowed.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},g=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.errors.push({line:A.findLine(A.lines,d,A.charsLength),char:d,msg:"Unrecognized grammar element or characters."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},l=function(E,S,d,A){switch(E.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.repCount+=1;break;case n.MATCH:A.repCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}};this.callbacks=[],this.callbacks.andop=y,this.callbacks.basicelementerr=m,this.callbacks.clsclose=P,this.callbacks.clsopen=L,this.callbacks.clsstring=B,this.callbacks.definedaserror=x,this.callbacks.file=s,this.callbacks.groupclose=h,this.callbacks.groupopen=p,this.callbacks.lineenderror=g,this.callbacks.lineend=v,this.callbacks.notop=w,this.callbacks.optionclose=u,this.callbacks.optionopen=o,this.callbacks.prosvalclose=c,this.callbacks.prosvalopen=ee,this.callbacks.prosvalstring=_,this.callbacks.repetition=l,this.callbacks.rule=a,this.callbacks.ruleerror=f,this.callbacks.rulenameerror=b,this.callbacks.stringtab=z,this.callbacks.tlsclose=W,this.callbacks.tlsopen=F,this.callbacks.tlsstring=Y,this.callbacks.udtop=D,this.callbacks.bkaop=k,this.callbacks.bknop=N,this.callbacks.bkrop=q,this.callbacks.abgop=C,this.callbacks.aenop=T}});var lb=de((S7,hb)=>{hb.exports=function(){let e=vi(),t=e.ids,n=function(){this.names=[],this.add=function(X){let se=-1;return this.get(X)===-1&&(se={name:X,lower:X.toLowerCase(),index:this.names.length},this.names.push(se)),se},this.get=function(X){let se=-1,U=X.toLowerCase();for(let re=0;re<this.names.length;re+=1)if(this.names[re].lower===U){se=this.names[re];break}return se}},i=function(ue,X,se){let U=0;for(let re=X;re<X+se;re+=1)U=10*U+ue[re]-48;return U},s=function(ue,X,se){let U=0;for(let re=X;re<X+se;re+=1)U=2*U+ue[re]-48;return U},a=function(ue,X,se){let U=0;for(let re=X;re<X+se;re+=1){let he=ue[re];if(he>=48&&he<=57)he-=48;else if(he>=65&&he<=70)he-=55;else if(he>=97&&he<=102)he-=87;else throw new Error("hexnum out of range");U=16*U+he}return U};function f(V,ue,X,se,U){let re=t.SEM_OK;if(V===t.SEM_PRE)U.ruleNames=new n,U.udtNames=new n,U.rules=[],U.udts=[],U.rulesLineMap=[],U.opcodes=[],U.altStack=[],U.topStack=null,U.topRule=null;else if(V===t.SEM_POST){let he;U.rules.forEach(xe=>{xe.isBkr=!1,xe.opcodes.forEach(ge=>{ge.type===t.RNM&&(he=U.ruleNames.get(ge.index.name),he===-1?(U.errors.push({line:U.findLine(U.lines,ge.index.phraseIndex,U.charsLength),char:ge.index.phraseIndex,msg:`Rule name '${ge.index.name}' used but not defined.`}),ge.index=-1):ge.index=he.index)})}),U.udts.forEach(xe=>{xe.isBkr=!1}),U.rules.forEach(xe=>{xe.opcodes.forEach(ge=>{ge.type===t.BKR&&(xe.hasBkr=!0,he=U.ruleNames.get(ge.index.name),he!==-1?(U.rules[he.index].isBkr=!0,ge.index=he.index):(he=U.udtNames.get(ge.index.name),he!==-1?(U.udts[he.index].isBkr=!0,ge.index=U.rules.length+he.index):(U.errors.push({line:U.findLine(U.lines,ge.index.phraseIndex,U.charsLength),char:ge.index.phraseIndex,msg:`Back reference name '${ge.index.name}' refers to undefined rule or unamed UDT.`}),ge.index=-1)))})})}return re}function b(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_PRE&&(U.altStack.length=0,U.topStack=null,U.rulesLineMap.push({line:U.findLine(U.lines,X,U.charsLength),char:X})),re}function x(V,ue,X,se,U){let re=t.SEM_OK;if(V===t.SEM_PRE)U.ruleName="",U.definedas="";else if(V===t.SEM_POST){let he;U.definedas==="="?(he=U.ruleNames.add(U.ruleName),he===-1?(U.definedas=null,U.errors.push({line:U.findLine(U.lines,X,U.charsLength),char:X,msg:`Rule name '${U.ruleName}' previously defined.`})):(U.topRule={name:he.name,lower:he.lower,opcodes:[],index:he.index},U.rules.push(U.topRule),U.opcodes=U.topRule.opcodes)):(he=U.ruleNames.get(U.ruleName),he===-1?(U.definedas=null,U.errors.push({line:U.findLine(U.lines,X,U.charsLength),char:X,msg:`Rule name '${U.ruleName}' for incremental alternate not previously defined.`})):(U.topRule=U.rules[he.index],U.opcodes=U.topRule.opcodes))}return re}function y(V,ue,X,se,U){let re=t.SEM_OK;if(V===t.SEM_PRE)for(;;){if(U.definedas===null){re=t.SEM_SKIP;break}if(U.topStack===null){if(U.definedas==="="){U.topStack={alt:{type:t.ALT,children:[]},cat:null},U.altStack.push(U.topStack),U.opcodes.push(U.topStack.alt);break}U.topStack={alt:U.opcodes[0],cat:null},U.altStack.push(U.topStack);break}U.topStack={alt:{type:t.ALT,children:[]},cat:null},U.altStack.push(U.topStack),U.opcodes.push(U.topStack.alt);break}else V===t.SEM_POST&&(U.altStack.pop(),U.altStack.length>0?U.topStack=U.altStack[U.altStack.length-1]:U.topStack=null);return re}function w(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_PRE?(U.topStack.alt.children.push(U.opcodes.length),U.topStack.cat={type:t.CAT,children:[]},U.opcodes.push(U.topStack.cat)):V===t.SEM_POST&&(U.topStack.cat=null),re}function k(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_PRE&&U.topStack.cat.children.push(U.opcodes.length),re}function N(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.REP,min:0,max:1,char:X}),re}function C(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_PRE&&(U.ruleName=e.utils.charsToString(ue,X,se)),re}function T(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.definedas="="),re}function q(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.definedas="=/"),re}function D(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_PRE?(U.min=0,U.max=1/0,U.topRep={type:t.REP,min:0,max:1/0},U.opcodes.push(U.topRep)):V===t.SEM_POST&&(U.min>U.max&&U.errors.push({line:U.findLine(U.lines,X,U.charsLength),char:X,msg:`repetition min cannot be greater than max: min: ${U.min}: max: ${U.max}`}),U.topRep.min=U.min,U.topRep.max=U.max),re}function F(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.min=i(ue,X,se)),re}function Y(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.max=i(ue,X,se)),re}function z(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.max=i(ue,X,se),U.min=U.max),re}function W(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.AND}),re}function L(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.NOT}),re}function B(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.RNM,index:{phraseIndex:X,name:e.utils.charsToString(ue,X,se)}}),re}function P(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.ABG}),re}function ee(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.AEN}),re}function _(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.BKA}),re}function c(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.BKN}),re}function p(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_PRE?(U.ci=!0,U.cs=!1,U.um=!0,U.pm=!1):V===t.SEM_POST&&U.opcodes.push({type:t.BKR,bkrCase:U.cs===!0?t.BKR_MODE_CS:t.BKR_MODE_CI,bkrMode:U.pm===!0?t.BKR_MODE_PM:t.BKR_MODE_UM,index:{phraseIndex:U.bkrname.phraseIndex,name:e.utils.charsToString(ue,U.bkrname.phraseIndex,U.bkrname.phraseLength)}}),re}function h(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.ci=!0),re}function o(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.cs=!0),re}function u(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.um=!0),re}function m(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.pm=!0),re}function v(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.bkrname={phraseIndex:X,phraseLength:se}),re}function g(V,ue,X,se,U){let re=t.SEM_OK;if(V===t.SEM_POST){let he=e.utils.charsToString(ue,X,se),xe=U.udtNames.add(he);if(xe===-1){if(xe=U.udtNames.get(he),xe===-1)throw new Error("semUdtEmpty: name look up error")}else U.udts.push({name:xe.name,lower:xe.lower,index:xe.index,empty:!0});U.opcodes.push({type:t.UDT,empty:!0,index:xe.index})}return re}function l(V,ue,X,se,U){let re=t.SEM_OK;if(V===t.SEM_POST){let he=e.utils.charsToString(ue,X,se),xe=U.udtNames.add(he);if(xe===-1){if(xe=U.udtNames.get(he),xe===-1)throw new Error("semUdtNonEmpty: name look up error")}else U.udts.push({name:xe.name,lower:xe.lower,index:xe.index,empty:!1});U.opcodes.push({type:t.UDT,empty:!1,index:xe.index,syntax:null,semantic:null})}return re}function E(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_PRE&&(U.tlscase=!0),re}function S(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&se>0&&(ue[X+1]===83||ue[X+1]===115)&&(U.tlscase=!1),re}function d(V,ue,X,se,U){let re=t.SEM_OK;if(V===t.SEM_POST)if(U.tlscase){let he=ue.slice(X,X+se);for(let xe=0;xe<he.length;xe+=1)he[xe]>=65&&he[xe]<=90&&(he[xe]+=32);U.opcodes.push({type:t.TLS,string:he})}else U.opcodes.push({type:t.TBS,string:ue.slice(X,X+se)});return re}function A(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(se<=2?U.opcodes.push({type:t.TLS,string:[]}):U.opcodes.push({type:t.TBS,string:ue.slice(X+1,X+se-1)})),re}function te(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_PRE?U.tbsstr=[]:V===t.SEM_POST&&U.opcodes.push({type:t.TBS,string:U.tbsstr}),re}function M(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_PRE?(U.min=0,U.max=0):V===t.SEM_POST&&(U.min>U.max&&U.errors.push({line:U.findLine(U.lines,X,U.charsLength),char:X,msg:`TRG, (%dmin-max), min cannot be greater than max: min: ${U.min}: max: ${U.max}`}),U.opcodes.push({type:t.TRG,min:U.min,max:U.max})),re}function H(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.min=i(ue,X,se)),re}function J(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.max=i(ue,X,se)),re}function O(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.min=s(ue,X,se)),re}function R(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.max=s(ue,X,se)),re}function K(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.min=a(ue,X,se)),re}function j(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.max=a(ue,X,se)),re}function Z(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.tbsstr.push(i(ue,X,se)),re}function ce(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.tbsstr.push(s(ue,X,se)),re}function ie(V,ue,X,se,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.tbsstr.push(a(ue,X,se)),re}this.callbacks=[],this.callbacks.abgop=P,this.callbacks.aenop=ee,this.callbacks.alternation=y,this.callbacks.andop=W,this.callbacks.bmax=R,this.callbacks.bmin=O,this.callbacks.bkaop=_,this.callbacks.bknop=c,this.callbacks.bkrop=p,this.callbacks["bkr-name"]=v,this.callbacks.bstring=ce,this.callbacks.clsop=A,this.callbacks.ci=h,this.callbacks.cs=o,this.callbacks.um=u,this.callbacks.pm=m,this.callbacks.concatenation=w,this.callbacks.defined=T,this.callbacks.dmax=J,this.callbacks.dmin=H,this.callbacks.dstring=Z,this.callbacks.file=f,this.callbacks.incalt=q,this.callbacks.notop=L,this.callbacks.optionopen=N,this.callbacks["rep-max"]=Y,this.callbacks["rep-min"]=F,this.callbacks["rep-min-max"]=z,this.callbacks.repetition=k,this.callbacks.repop=D,this.callbacks.rnmop=B,this.callbacks.rule=b,this.callbacks.rulelookup=x,this.callbacks.rulename=C,this.callbacks.tbsop=te,this.callbacks.tlscase=S,this.callbacks.tlsstring=d,this.callbacks.tlsop=E,this.callbacks.trgop=M,this.callbacks["udt-empty"]=g,this.callbacks["udt-non-empty"]=l,this.callbacks.xmax=j,this.callbacks.xmin=K,this.callbacks.xstring=ie}});var pb=de((T7,db)=>{db.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"File",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"BlankLine",lower:"blankline",index:1,isBkr:!1},this.rules[2]={name:"Rule",lower:"rule",index:2,isBkr:!1},this.rules[3]={name:"RuleLookup",lower:"rulelookup",index:3,isBkr:!1},this.rules[4]={name:"RuleNameTest",lower:"rulenametest",index:4,isBkr:!1},this.rules[5]={name:"RuleName",lower:"rulename",index:5,isBkr:!1},this.rules[6]={name:"RuleNameError",lower:"rulenameerror",index:6,isBkr:!1},this.rules[7]={name:"DefinedAsTest",lower:"definedastest",index:7,isBkr:!1},this.rules[8]={name:"DefinedAsError",lower:"definedaserror",index:8,isBkr:!1},this.rules[9]={name:"DefinedAs",lower:"definedas",index:9,isBkr:!1},this.rules[10]={name:"Defined",lower:"defined",index:10,isBkr:!1},this.rules[11]={name:"IncAlt",lower:"incalt",index:11,isBkr:!1},this.rules[12]={name:"RuleError",lower:"ruleerror",index:12,isBkr:!1},this.rules[13]={name:"LineEndError",lower:"lineenderror",index:13,isBkr:!1},this.rules[14]={name:"Alternation",lower:"alternation",index:14,isBkr:!1},this.rules[15]={name:"Concatenation",lower:"concatenation",index:15,isBkr:!1},this.rules[16]={name:"Repetition",lower:"repetition",index:16,isBkr:!1},this.rules[17]={name:"Modifier",lower:"modifier",index:17,isBkr:!1},this.rules[18]={name:"Predicate",lower:"predicate",index:18,isBkr:!1},this.rules[19]={name:"BasicElement",lower:"basicelement",index:19,isBkr:!1},this.rules[20]={name:"BasicElementErr",lower:"basicelementerr",index:20,isBkr:!1},this.rules[21]={name:"Group",lower:"group",index:21,isBkr:!1},this.rules[22]={name:"GroupError",lower:"grouperror",index:22,isBkr:!1},this.rules[23]={name:"GroupOpen",lower:"groupopen",index:23,isBkr:!1},this.rules[24]={name:"GroupClose",lower:"groupclose",index:24,isBkr:!1},this.rules[25]={name:"Option",lower:"option",index:25,isBkr:!1},this.rules[26]={name:"OptionError",lower:"optionerror",index:26,isBkr:!1},this.rules[27]={name:"OptionOpen",lower:"optionopen",index:27,isBkr:!1},this.rules[28]={name:"OptionClose",lower:"optionclose",index:28,isBkr:!1},this.rules[29]={name:"RnmOp",lower:"rnmop",index:29,isBkr:!1},this.rules[30]={name:"BkrOp",lower:"bkrop",index:30,isBkr:!1},this.rules[31]={name:"bkrModifier",lower:"bkrmodifier",index:31,isBkr:!1},this.rules[32]={name:"cs",lower:"cs",index:32,isBkr:!1},this.rules[33]={name:"ci",lower:"ci",index:33,isBkr:!1},this.rules[34]={name:"um",lower:"um",index:34,isBkr:!1},this.rules[35]={name:"pm",lower:"pm",index:35,isBkr:!1},this.rules[36]={name:"bkr-name",lower:"bkr-name",index:36,isBkr:!1},this.rules[37]={name:"rname",lower:"rname",index:37,isBkr:!1},this.rules[38]={name:"uname",lower:"uname",index:38,isBkr:!1},this.rules[39]={name:"ename",lower:"ename",index:39,isBkr:!1},this.rules[40]={name:"UdtOp",lower:"udtop",index:40,isBkr:!1},this.rules[41]={name:"udt-non-empty",lower:"udt-non-empty",index:41,isBkr:!1},this.rules[42]={name:"udt-empty",lower:"udt-empty",index:42,isBkr:!1},this.rules[43]={name:"RepOp",lower:"repop",index:43,isBkr:!1},this.rules[44]={name:"AltOp",lower:"altop",index:44,isBkr:!1},this.rules[45]={name:"CatOp",lower:"catop",index:45,isBkr:!1},this.rules[46]={name:"StarOp",lower:"starop",index:46,isBkr:!1},this.rules[47]={name:"AndOp",lower:"andop",index:47,isBkr:!1},this.rules[48]={name:"NotOp",lower:"notop",index:48,isBkr:!1},this.rules[49]={name:"BkaOp",lower:"bkaop",index:49,isBkr:!1},this.rules[50]={name:"BknOp",lower:"bknop",index:50,isBkr:!1},this.rules[51]={name:"AbgOp",lower:"abgop",index:51,isBkr:!1},this.rules[52]={name:"AenOp",lower:"aenop",index:52,isBkr:!1},this.rules[53]={name:"TrgOp",lower:"trgop",index:53,isBkr:!1},this.rules[54]={name:"TbsOp",lower:"tbsop",index:54,isBkr:!1},this.rules[55]={name:"TlsOp",lower:"tlsop",index:55,isBkr:!1},this.rules[56]={name:"TlsCase",lower:"tlscase",index:56,isBkr:!1},this.rules[57]={name:"TlsOpen",lower:"tlsopen",index:57,isBkr:!1},this.rules[58]={name:"TlsClose",lower:"tlsclose",index:58,isBkr:!1},this.rules[59]={name:"TlsString",lower:"tlsstring",index:59,isBkr:!1},this.rules[60]={name:"StringTab",lower:"stringtab",index:60,isBkr:!1},this.rules[61]={name:"ClsOp",lower:"clsop",index:61,isBkr:!1},this.rules[62]={name:"ClsOpen",lower:"clsopen",index:62,isBkr:!1},this.rules[63]={name:"ClsClose",lower:"clsclose",index:63,isBkr:!1},this.rules[64]={name:"ClsString",lower:"clsstring",index:64,isBkr:!1},this.rules[65]={name:"ProsVal",lower:"prosval",index:65,isBkr:!1},this.rules[66]={name:"ProsValOpen",lower:"prosvalopen",index:66,isBkr:!1},this.rules[67]={name:"ProsValString",lower:"prosvalstring",index:67,isBkr:!1},this.rules[68]={name:"ProsValClose",lower:"prosvalclose",index:68,isBkr:!1},this.rules[69]={name:"rep-min",lower:"rep-min",index:69,isBkr:!1},this.rules[70]={name:"rep-min-max",lower:"rep-min-max",index:70,isBkr:!1},this.rules[71]={name:"rep-max",lower:"rep-max",index:71,isBkr:!1},this.rules[72]={name:"rep-num",lower:"rep-num",index:72,isBkr:!1},this.rules[73]={name:"dString",lower:"dstring",index:73,isBkr:!1},this.rules[74]={name:"xString",lower:"xstring",index:74,isBkr:!1},this.rules[75]={name:"bString",lower:"bstring",index:75,isBkr:!1},this.rules[76]={name:"Dec",lower:"dec",index:76,isBkr:!1},this.rules[77]={name:"Hex",lower:"hex",index:77,isBkr:!1},this.rules[78]={name:"Bin",lower:"bin",index:78,isBkr:!1},this.rules[79]={name:"dmin",lower:"dmin",index:79,isBkr:!1},this.rules[80]={name:"dmax",lower:"dmax",index:80,isBkr:!1},this.rules[81]={name:"bmin",lower:"bmin",index:81,isBkr:!1},this.rules[82]={name:"bmax",lower:"bmax",index:82,isBkr:!1},this.rules[83]={name:"xmin",lower:"xmin",index:83,isBkr:!1},this.rules[84]={name:"xmax",lower:"xmax",index:84,isBkr:!1},this.rules[85]={name:"dnum",lower:"dnum",index:85,isBkr:!1},this.rules[86]={name:"bnum",lower:"bnum",index:86,isBkr:!1},this.rules[87]={name:"xnum",lower:"xnum",index:87,isBkr:!1},this.rules[88]={name:"alphanum",lower:"alphanum",index:88,isBkr:!1},this.rules[89]={name:"owsp",lower:"owsp",index:89,isBkr:!1},this.rules[90]={name:"wsp",lower:"wsp",index:90,isBkr:!1},this.rules[91]={name:"space",lower:"space",index:91,isBkr:!1},this.rules[92]={name:"comment",lower:"comment",index:92,isBkr:!1},this.rules[93]={name:"LineEnd",lower:"lineend",index:93,isBkr:!1},this.rules[94]={name:"LineContinue",lower:"linecontinue",index:94,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3,4]},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:4,index:2},this.rules[0].opcodes[4]={type:4,index:12},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,5,7]},this.rules[1].opcodes[1]={type:3,min:0,max:1/0},this.rules[1].opcodes[2]={type:1,children:[3,4]},this.rules[1].opcodes[3]={type:6,string:[32]},this.rules[1].opcodes[4]={type:6,string:[9]},this.rules[1].opcodes[5]={type:3,min:0,max:1},this.rules[1].opcodes[6]={type:4,index:92},this.rules[1].opcodes[7]={type:4,index:93},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[2].opcodes[1]={type:4,index:3},this.rules[2].opcodes[2]={type:4,index:89},this.rules[2].opcodes[3]={type:4,index:14},this.rules[2].opcodes[4]={type:1,children:[5,8]},this.rules[2].opcodes[5]={type:2,children:[6,7]},this.rules[2].opcodes[6]={type:4,index:89},this.rules[2].opcodes[7]={type:4,index:93},this.rules[2].opcodes[8]={type:2,children:[9,10]},this.rules[2].opcodes[9]={type:4,index:13},this.rules[2].opcodes[10]={type:4,index:93},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:2,children:[1,2,3]},this.rules[3].opcodes[1]={type:4,index:4},this.rules[3].opcodes[2]={type:4,index:89},this.rules[3].opcodes[3]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:5},this.rules[4].opcodes[2]={type:4,index:6},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:4,index:88},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:1,max:1/0},this.rules[6].opcodes[1]={type:1,children:[2,3]},this.rules[6].opcodes[2]={type:5,min:33,max:60},this.rules[6].opcodes[3]={type:5,min:62,max:126},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:1,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:9},this.rules[7].opcodes[2]={type:4,index:8},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:2},this.rules[8].opcodes[1]={type:5,min:33,max:126},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2]},this.rules[9].opcodes[1]={type:4,index:11},this.rules[9].opcodes[2]={type:4,index:10},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[61]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:6,string:[61,47]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:2,children:[1,6]},this.rules[12].opcodes[1]={type:3,min:1,max:1/0},this.rules[12].opcodes[2]={type:1,children:[3,4,5]},this.rules[12].opcodes[3]={type:5,min:32,max:126},this.rules[12].opcodes[4]={type:6,string:[9]},this.rules[12].opcodes[5]={type:4,index:94},this.rules[12].opcodes[6]={type:4,index:93},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:3,min:1,max:1/0},this.rules[13].opcodes[1]={type:1,children:[2,3,4]},this.rules[13].opcodes[2]={type:5,min:32,max:126},this.rules[13].opcodes[3]={type:6,string:[9]},this.rules[13].opcodes[4]={type:4,index:94},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2]},this.rules[14].opcodes[1]={type:4,index:15},this.rules[14].opcodes[2]={type:3,min:0,max:1/0},this.rules[14].opcodes[3]={type:2,children:[4,5,6]},this.rules[14].opcodes[4]={type:4,index:89},this.rules[14].opcodes[5]={type:4,index:44},this.rules[14].opcodes[6]={type:4,index:15},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:2,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:16},this.rules[15].opcodes[2]={type:3,min:0,max:1/0},this.rules[15].opcodes[3]={type:2,children:[4,5]},this.rules[15].opcodes[4]={type:4,index:45},this.rules[15].opcodes[5]={type:4,index:16},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:2,children:[1,3]},this.rules[16].opcodes[1]={type:3,min:0,max:1},this.rules[16].opcodes[2]={type:4,index:17},this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[16].opcodes[4]={type:4,index:21},this.rules[16].opcodes[5]={type:4,index:25},this.rules[16].opcodes[6]={type:4,index:19},this.rules[16].opcodes[7]={type:4,index:20},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:1,children:[1,5]},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:18},this.rules[17].opcodes[3]={type:3,min:0,max:1},this.rules[17].opcodes[4]={type:4,index:43},this.rules[17].opcodes[5]={type:4,index:43},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[18].opcodes[1]={type:4,index:49},this.rules[18].opcodes[2]={type:4,index:50},this.rules[18].opcodes[3]={type:4,index:47},this.rules[18].opcodes[4]={type:4,index:48},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]},this.rules[19].opcodes[1]={type:4,index:40},this.rules[19].opcodes[2]={type:4,index:29},this.rules[19].opcodes[3]={type:4,index:53},this.rules[19].opcodes[4]={type:4,index:54},this.rules[19].opcodes[5]={type:4,index:55},this.rules[19].opcodes[6]={type:4,index:61},this.rules[19].opcodes[7]={type:4,index:30},this.rules[19].opcodes[8]={type:4,index:51},this.rules[19].opcodes[9]={type:4,index:52},this.rules[19].opcodes[10]={type:4,index:65},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:1,max:1/0},this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[20].opcodes[2]={type:5,min:33,max:40},this.rules[20].opcodes[3]={type:5,min:42,max:46},this.rules[20].opcodes[4]={type:5,min:48,max:92},this.rules[20].opcodes[5]={type:5,min:94,max:126},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2,3]},this.rules[21].opcodes[1]={type:4,index:23},this.rules[21].opcodes[2]={type:4,index:14},this.rules[21].opcodes[3]={type:1,children:[4,5]},this.rules[21].opcodes[4]={type:4,index:24},this.rules[21].opcodes[5]={type:4,index:22},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:3,min:1,max:1/0},this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[22].opcodes[2]={type:5,min:33,max:40},this.rules[22].opcodes[3]={type:5,min:42,max:46},this.rules[22].opcodes[4]={type:5,min:48,max:92},this.rules[22].opcodes[5]={type:5,min:94,max:126},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,2]},this.rules[23].opcodes[1]={type:6,string:[40]},this.rules[23].opcodes[2]={type:4,index:89},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:4,index:89},this.rules[24].opcodes[2]={type:6,string:[41]},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3]},this.rules[25].opcodes[1]={type:4,index:27},this.rules[25].opcodes[2]={type:4,index:14},this.rules[25].opcodes[3]={type:1,children:[4,5]},this.rules[25].opcodes[4]={type:4,index:28},this.rules[25].opcodes[5]={type:4,index:26},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:3,min:1,max:1/0},this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[26].opcodes[2]={type:5,min:33,max:40},this.rules[26].opcodes[3]={type:5,min:42,max:46},this.rules[26].opcodes[4]={type:5,min:48,max:92},this.rules[26].opcodes[5]={type:5,min:94,max:126},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:6,string:[91]},this.rules[27].opcodes[2]={type:4,index:89},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2]},this.rules[28].opcodes[1]={type:4,index:89},this.rules[28].opcodes[2]={type:6,string:[93]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:4,index:88},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,4]},this.rules[30].opcodes[1]={type:6,string:[92]},this.rules[30].opcodes[2]={type:3,min:0,max:1},this.rules[30].opcodes[3]={type:4,index:31},this.rules[30].opcodes[4]={type:4,index:36},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]},this.rules[31].opcodes[1]={type:2,children:[2,3]},this.rules[31].opcodes[2]={type:4,index:32},this.rules[31].opcodes[3]={type:3,min:0,max:1},this.rules[31].opcodes[4]={type:1,children:[5,6]},this.rules[31].opcodes[5]={type:4,index:34},this.rules[31].opcodes[6]={type:4,index:35},this.rules[31].opcodes[7]={type:2,children:[8,9]},this.rules[31].opcodes[8]={type:4,index:33},this.rules[31].opcodes[9]={type:3,min:0,max:1},this.rules[31].opcodes[10]={type:1,children:[11,12]},this.rules[31].opcodes[11]={type:4,index:34},this.rules[31].opcodes[12]={type:4,index:35},this.rules[31].opcodes[13]={type:2,children:[14,15]},this.rules[31].opcodes[14]={type:4,index:34},this.rules[31].opcodes[15]={type:3,min:0,max:1},this.rules[31].opcodes[16]={type:1,children:[17,18]},this.rules[31].opcodes[17]={type:4,index:32},this.rules[31].opcodes[18]={type:4,index:33},this.rules[31].opcodes[19]={type:2,children:[20,21]},this.rules[31].opcodes[20]={type:4,index:35},this.rules[31].opcodes[21]={type:3,min:0,max:1},this.rules[31].opcodes[22]={type:1,children:[23,24]},this.rules[31].opcodes[23]={type:4,index:32},this.rules[31].opcodes[24]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:6,string:[37,115]},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:6,string:[37,105]},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:6,string:[37,117]},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:6,string:[37,112]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:1,children:[1,2,3]},this.rules[36].opcodes[1]={type:4,index:38},this.rules[36].opcodes[2]={type:4,index:39},this.rules[36].opcodes[3]={type:4,index:37},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:4,index:88},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2]},this.rules[38].opcodes[1]={type:6,string:[117,95]},this.rules[38].opcodes[2]={type:4,index:88},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2]},this.rules[39].opcodes[1]={type:6,string:[101,95]},this.rules[39].opcodes[2]={type:4,index:88},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:1,children:[1,2]},this.rules[40].opcodes[1]={type:4,index:42},this.rules[40].opcodes[2]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2]},this.rules[41].opcodes[1]={type:6,string:[117,95]},this.rules[41].opcodes[2]={type:4,index:88},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:2,children:[1,2]},this.rules[42].opcodes[1]={type:6,string:[101,95]},this.rules[42].opcodes[2]={type:4,index:88},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]},this.rules[43].opcodes[1]={type:2,children:[2,3,4]},this.rules[43].opcodes[2]={type:4,index:69},this.rules[43].opcodes[3]={type:4,index:46},this.rules[43].opcodes[4]={type:4,index:71},this.rules[43].opcodes[5]={type:2,children:[6,7]},this.rules[43].opcodes[6]={type:4,index:69},this.rules[43].opcodes[7]={type:4,index:46},this.rules[43].opcodes[8]={type:2,children:[9,10]},this.rules[43].opcodes[9]={type:4,index:46},this.rules[43].opcodes[10]={type:4,index:71},this.rules[43].opcodes[11]={type:4,index:46},this.rules[43].opcodes[12]={type:4,index:70},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:2,children:[1,2]},this.rules[44].opcodes[1]={type:6,string:[47]},this.rules[44].opcodes[2]={type:4,index:89},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:4,index:90},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:6,string:[42]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:6,string:[38]},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:6,string:[33]},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:6,string:[38,38]},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:6,string:[33,33]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:6,string:[37,94]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:6,string:[37,36]},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:2,children:[1,2]},this.rules[53].opcodes[1]={type:6,string:[37]},this.rules[53].opcodes[2]={type:1,children:[3,8,13]},this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]},this.rules[53].opcodes[4]={type:4,index:76},this.rules[53].opcodes[5]={type:4,index:79},this.rules[53].opcodes[6]={type:6,string:[45]},this.rules[53].opcodes[7]={type:4,index:80},this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[53].opcodes[9]={type:4,index:77},this.rules[53].opcodes[10]={type:4,index:83},this.rules[53].opcodes[11]={type:6,string:[45]},this.rules[53].opcodes[12]={type:4,index:84},this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]},this.rules[53].opcodes[14]={type:4,index:78},this.rules[53].opcodes[15]={type:4,index:81},this.rules[53].opcodes[16]={type:6,string:[45]},this.rules[53].opcodes[17]={type:4,index:82},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:2,children:[1,2]},this.rules[54].opcodes[1]={type:6,string:[37]},this.rules[54].opcodes[2]={type:1,children:[3,10,17]},this.rules[54].opcodes[3]={type:2,children:[4,5,6]},this.rules[54].opcodes[4]={type:4,index:76},this.rules[54].opcodes[5]={type:4,index:73},this.rules[54].opcodes[6]={type:3,min:0,max:1/0},this.rules[54].opcodes[7]={type:2,children:[8,9]},this.rules[54].opcodes[8]={type:6,string:[46]},this.rules[54].opcodes[9]={type:4,index:73},this.rules[54].opcodes[10]={type:2,children:[11,12,13]},this.rules[54].opcodes[11]={type:4,index:77},this.rules[54].opcodes[12]={type:4,index:74},this.rules[54].opcodes[13]={type:3,min:0,max:1/0},this.rules[54].opcodes[14]={type:2,children:[15,16]},this.rules[54].opcodes[15]={type:6,string:[46]},this.rules[54].opcodes[16]={type:4,index:74},this.rules[54].opcodes[17]={type:2,children:[18,19,20]},this.rules[54].opcodes[18]={type:4,index:78},this.rules[54].opcodes[19]={type:4,index:75},this.rules[54].opcodes[20]={type:3,min:0,max:1/0},this.rules[54].opcodes[21]={type:2,children:[22,23]},this.rules[54].opcodes[22]={type:6,string:[46]},this.rules[54].opcodes[23]={type:4,index:75},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[55].opcodes[1]={type:4,index:56},this.rules[55].opcodes[2]={type:4,index:57},this.rules[55].opcodes[3]={type:4,index:59},this.rules[55].opcodes[4]={type:4,index:58},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1},this.rules[56].opcodes[1]={type:1,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[37,105]},this.rules[56].opcodes[3]={type:7,string:[37,115]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:6,string:[34]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:6,string:[34]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:5,min:32,max:33},this.rules[59].opcodes[3]={type:5,min:35,max:126},this.rules[59].opcodes[4]={type:4,index:60},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:6,string:[9]},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:2,children:[1,2,3]},this.rules[61].opcodes[1]={type:4,index:62},this.rules[61].opcodes[2]={type:4,index:64},this.rules[61].opcodes[3]={type:4,index:63},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:6,string:[39]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:6,string:[39]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:0,max:1/0},this.rules[64].opcodes[1]={type:1,children:[2,3,4]},this.rules[64].opcodes[2]={type:5,min:32,max:38},this.rules[64].opcodes[3]={type:5,min:40,max:126},this.rules[64].opcodes[4]={type:4,index:60},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:4,index:67},this.rules[65].opcodes[3]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:6,string:[60]},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:1,children:[2,3,4]},this.rules[67].opcodes[2]={type:5,min:32,max:61},this.rules[67].opcodes[3]={type:5,min:63,max:126},this.rules[67].opcodes[4]={type:4,index:60},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:6,string:[62]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:72},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:72},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:4,index:72},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:1,max:1/0},this.rules[72].opcodes[1]={type:5,min:48,max:57},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:85},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:87},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:86},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:1,children:[1,2]},this.rules[76].opcodes[1]={type:6,string:[68]},this.rules[76].opcodes[2]={type:6,string:[100]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:6,string:[88]},this.rules[77].opcodes[2]={type:6,string:[120]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:1,children:[1,2]},this.rules[78].opcodes[1]={type:6,string:[66]},this.rules[78].opcodes[2]={type:6,string:[98]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:4,index:85},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:4,index:85},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:4,index:86},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:4,index:86},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:4,index:87},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:4,index:87},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:3,min:1,max:1/0},this.rules[85].opcodes[1]={type:5,min:48,max:57},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:3,min:1,max:1/0},this.rules[86].opcodes[1]={type:5,min:48,max:49},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:3,min:1,max:1/0},this.rules[87].opcodes[1]={type:1,children:[2,3,4]},this.rules[87].opcodes[2]={type:5,min:48,max:57},this.rules[87].opcodes[3]={type:5,min:65,max:70},this.rules[87].opcodes[4]={type:5,min:97,max:102},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:2,children:[1,4]},this.rules[88].opcodes[1]={type:1,children:[2,3]},this.rules[88].opcodes[2]={type:5,min:97,max:122},this.rules[88].opcodes[3]={type:5,min:65,max:90},this.rules[88].opcodes[4]={type:3,min:0,max:1/0},this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]},this.rules[88].opcodes[6]={type:5,min:97,max:122},this.rules[88].opcodes[7]={type:5,min:65,max:90},this.rules[88].opcodes[8]={type:5,min:48,max:57},this.rules[88].opcodes[9]={type:6,string:[45]},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:0,max:1/0},this.rules[89].opcodes[1]={type:4,index:91},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:3,min:1,max:1/0},this.rules[90].opcodes[1]={type:4,index:91},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[91].opcodes[1]={type:6,string:[32]},this.rules[91].opcodes[2]={type:6,string:[9]},this.rules[91].opcodes[3]={type:4,index:92},this.rules[91].opcodes[4]={type:4,index:94},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:2,children:[1,2]},this.rules[92].opcodes[1]={type:6,string:[59]},this.rules[92].opcodes[2]={type:3,min:0,max:1/0},this.rules[92].opcodes[3]={type:1,children:[4,5]},this.rules[92].opcodes[4]={type:5,min:32,max:126},this.rules[92].opcodes[5]={type:6,string:[9]},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:1,children:[1,2,3]},this.rules[93].opcodes[1]={type:6,string:[13,10]},this.rules[93].opcodes[2]={type:6,string:[10]},this.rules[93].opcodes[3]={type:6,string:[13]},this.rules[94].opcodes=[],this.rules[94].opcodes[0]={type:2,children:[1,5]},this.rules[94].opcodes[1]={type:1,children:[2,3,4]},this.rules[94].opcodes[2]={type:6,string:[13,10]},this.rules[94].opcodes[3]={type:6,string:[10]},this.rules[94].opcodes[4]={type:6,string:[13]},this.rules[94].opcodes[5]={type:1,children:[6,7]},this.rules[94].opcodes[6]={type:6,string:[32]},this.rules[94].opcodes[7]={type:6,string:[9]},this.toString=function(){let t="";return t+=`;
`,t+=`; ABNF for JavaScript APG 2.0 SABNF
`,t+=`; RFC 5234 with some restrictions and additions.
`,t+=`; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation
`,t+=`;  - accepts %s"string" as a case-sensitive string
`,t+=`;  - accepts %i"string" as a case-insensitive string
`,t+=`;  - accepts "string" as a case-insensitive string
`,t+=`;
`,t+=`; Some restrictions:
`,t+=`;   1. Rules must begin at first character of each line.
`,t+=`;      Indentations on first rule and rules thereafter are not allowed.
`,t+=`;   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.
`,t+=`;   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.
`,t+=`;      However, a working parser cannot be generated from them.
`,t+=`;
`,t+=`; Super set (SABNF) additions:
`,t+=`;   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.
`,t+=`;      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found
`,t+=`;      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found
`,t+=`;      e.g. &%d13 or &rule or !(A / B)
`,t+=`;   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.
`,t+=`;      'name' is alpha followed by alpha/num/hyphen just like a rule name.
`,t+=`;      u_name may be used as an element but no rule definition is given.
`,t+=`;      e.g. rule = A / u_myUdt
`,t+=`;           A = "a"
`,t+=`;      would be a valid grammar.
`,t+=`;   3. Case-sensitive, single-quoted strings are accepted.
`,t+=`;      e.g. 'abc' would be equivalent to %d97.98.99
`,t+=`;      (kept for backward compatibility, but superseded by %s"abc")  
`,t+=`; New 12/26/2015
`,t+=`;   4. Look-behind operators are accepted as element prefixes.
`,t+=`;      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found
`,t+=`;      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found
`,t+=`;      e.g. &&%d13 or &&rule or !!(A / B)
`,t+=`;   5. Back reference operators, i.e. \\rulename, are accepted.
`,t+=`;      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts
`,t+=`;      to match is a phrase previously matched by the rule 'rulename'.
`,t+=`;      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.
`,t+=`;      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.
`,t+=`;      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.
`,t+=`;      Back reference modifiers can be used to specify case and mode.
`,t+=`;      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA
`,t+=`;      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.
`,t+=`;      Modifiers %u and %p determine universal mode and parent frame mode, respectively.
`,t+=`;      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. 
`,t+=`;   7. String begin anchor, ABG(%^) matches the beginning of the input string location.
`,t+=`;      Returns EMPTY or NOMATCH. Never consumes any characters.
`,t+=`;   8. String end anchor, AEN(%$) matches the end of the input string location.
`,t+=`;      Returns EMPTY or NOMATCH. Never consumes any characters.
`,t+=`;
`,t+=`File            = *(BlankLine / Rule / RuleError)
`,t+=`BlankLine       = *(%d32/%d9) [comment] LineEnd
`,t+=`Rule            = RuleLookup owsp Alternation ((owsp LineEnd)
`,t+=`                / (LineEndError LineEnd))
`,t+=`RuleLookup      = RuleNameTest owsp DefinedAsTest
`,t+=`RuleNameTest    = RuleName/RuleNameError
`,t+=`RuleName        = alphanum
`,t+=`RuleNameError   = 1*(%d33-60/%d62-126)
`,t+=`DefinedAsTest   = DefinedAs / DefinedAsError
`,t+=`DefinedAsError  = 1*2%d33-126
`,t+=`DefinedAs       = IncAlt / Defined
`,t+=`Defined         = %d61
`,t+=`IncAlt          = %d61.47
`,t+=`RuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd
`,t+=`LineEndError    = 1*(%d32-126 / %d9  / LineContinue)
`,t+=`Alternation     = Concatenation *(owsp AltOp Concatenation)
`,t+=`Concatenation   = Repetition *(CatOp Repetition)
`,t+=`Repetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)
`,t+=`Modifier        = (Predicate [RepOp])
`,t+=`                / RepOp
`,t+=`Predicate       = BkaOp
`,t+=`                / BknOp
`,t+=`                / AndOp
`,t+=`                / NotOp
`,t+=`BasicElement    = UdtOp
`,t+=`                / RnmOp
`,t+=`                / TrgOp
`,t+=`                / TbsOp
`,t+=`                / TlsOp
`,t+=`                / ClsOp
`,t+=`                / BkrOp
`,t+=`                / AbgOp
`,t+=`                / AenOp
`,t+=`                / ProsVal
`,t+=`BasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)
`,t+=`Group           = GroupOpen  Alternation (GroupClose / GroupError)
`,t+=`GroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr
`,t+=`GroupOpen       = %d40 owsp
`,t+=`GroupClose      = owsp %d41
`,t+=`Option          = OptionOpen Alternation (OptionClose / OptionError)
`,t+=`OptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr
`,t+=`OptionOpen      = %d91 owsp
`,t+=`OptionClose     = owsp %d93
`,t+=`RnmOp           = alphanum
`,t+=`BkrOp           = %d92 [bkrModifier] bkr-name
`,t+=`bkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])
`,t+=`cs              = '%s'
`,t+=`ci              = '%i'
`,t+=`um              = '%u'
`,t+=`pm              = '%p'
`,t+=`bkr-name        = uname / ename / rname
`,t+=`rname           = alphanum
`,t+=`uname           = %d117.95 alphanum
`,t+=`ename           = %d101.95 alphanum
`,t+=`UdtOp           = udt-empty
`,t+=`                / udt-non-empty
`,t+=`udt-non-empty   = %d117.95 alphanum
`,t+=`udt-empty       = %d101.95 alphanum
`,t+=`RepOp           = (rep-min StarOp rep-max)
`,t+=`                / (rep-min StarOp)
`,t+=`                / (StarOp rep-max)
`,t+=`                / StarOp
`,t+=`                / rep-min-max
`,t+=`AltOp           = %d47 owsp
`,t+=`CatOp           = wsp
`,t+=`StarOp          = %d42
`,t+=`AndOp           = %d38
`,t+=`NotOp           = %d33
`,t+=`BkaOp           = %d38.38
`,t+=`BknOp           = %d33.33
`,t+=`AbgOp           = %d37.94
`,t+=`AenOp           = %d37.36
`,t+=`TrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))
`,t+=`TbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))
`,t+=`TlsOp           = TlsCase TlsOpen TlsString TlsClose
`,t+=`TlsCase         = ["%i" / "%s"]
`,t+=`TlsOpen         = %d34
`,t+=`TlsClose        = %d34
`,t+=`TlsString       = *(%d32-33/%d35-126/StringTab)
`,t+=`StringTab       = %d9
`,t+=`ClsOp           = ClsOpen ClsString ClsClose
`,t+=`ClsOpen         = %d39
`,t+=`ClsClose        = %d39
`,t+=`ClsString       = *(%d32-38/%d40-126/StringTab)
`,t+=`ProsVal         = ProsValOpen ProsValString ProsValClose
`,t+=`ProsValOpen     = %d60
`,t+=`ProsValString   = *(%d32-61/%d63-126/StringTab)
`,t+=`ProsValClose    = %d62
`,t+=`rep-min         = rep-num
`,t+=`rep-min-max     = rep-num
`,t+=`rep-max         = rep-num
`,t+=`rep-num         = 1*(%d48-57)
`,t+=`dString         = dnum
`,t+=`xString         = xnum
`,t+=`bString         = bnum
`,t+=`Dec             = (%d68/%d100)
`,t+=`Hex             = (%d88/%d120)
`,t+=`Bin             = (%d66/%d98)
`,t+=`dmin            = dnum
`,t+=`dmax            = dnum
`,t+=`bmin            = bnum
`,t+=`bmax            = bnum
`,t+=`xmin            = xnum
`,t+=`xmax            = xnum
`,t+=`dnum            = 1*(%d48-57)
`,t+=`bnum            = 1*%d48-49
`,t+=`xnum            = 1*(%d48-57 / %d65-70 / %d97-102)
`,t+=`;
`,t+=`; Basics
`,t+=`alphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)
`,t+=`owsp            = *space
`,t+=`wsp             = 1*space
`,t+=`space           = %d32
`,t+=`                / %d9
`,t+=`                / comment
`,t+=`                / LineContinue
`,t+=`comment         = %d59 *(%d32-126 / %d9)
`,t+=`LineEnd         = %d13.10
`,t+=`                / %d10
`,t+=`                / %d13
`,t+=`LineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)
`,t}}});var mb=de((C7,bb)=>{bb.exports=function(){let e="parser: ",t=vi(),n=t.ids,i=new(ub()),s=new(lb()),a=new(pb()),f=new t.parser;f.ast=new t.ast,f.callbacks=i.callbacks,f.ast.callbacks=s.callbacks;let b=function(k,N,C){if(N<0||N>=C)return-1;for(let T=0;T<k.length;T+=1)if(N>=k[T].beginChar&&N<k[T].beginChar+k[T].length)return T;return-1},x=function(k,N){let C=-1;if(N<k.length){for(let T=N;T<k.length;T+=1)if(k[T]!==null){C=k[T];break}}return C},y=function(k){k.forEach(N=>{let C=[],T=[],q=0;N.opcodes.forEach(D=>{D.type===n.ALT&&D.children.length===1||D.type===n.CAT&&D.children.length===1||D.type===n.REP&&D.min===1&&D.max===1?T.push(null):(T.push(q),C.push(D),q+=1)}),T.push(q),C.forEach(D=>{if(D.type===n.ALT||D.type===n.CAT)for(let F=0;F<D.children.length;F+=1)D.children[F]=x(T,D.children[F])}),N.opcodes=C})};this.syntax=function(k,N,C,T,q){if(q){if(q.traceObject!=="traceObject")throw new TypeError(`${e}trace argument is not a trace object`);f.trace=q}let D={};D.errors=C,D.strict=!!T,D.lines=N,D.findLine=b,D.charsLength=k.length,D.ruleCount=0,f.parse(a,"file",k,D).success||C.push({line:0,char:0,msg:"syntax analysis of input grammar failed"})},this.semantic=function(k,N,C){let T={};return T.errors=C,T.lines=N,T.findLine=b,T.charsLength=k.length,f.ast.translate(T),C.length?null:(y(T.rules),{rules:T.rules,udts:T.udts,lineMap:T.rulesLineMap})},this.generateSource=function(k,N,C,T,q){let D="",F,Y,z,W=0,L=1/0,B=0,P=[],ee=[],_=0,c=0,p=0,h=0,o=0,u=0,m=0,v=0,g=0,l=0,E=0,S=0,d=0,A=0,te=0;C.forEach(J=>{P.push(J.lower),W+=J.opcodes.length,J.opcodes.forEach(O=>{switch(O.type){case n.ALT:_+=1;break;case n.CAT:c+=1;break;case n.RNM:p+=1;break;case n.UDT:h+=1;break;case n.REP:o+=1;break;case n.AND:u+=1;break;case n.NOT:m+=1;break;case n.BKA:S+=1;break;case n.BKN:d+=1;break;case n.BKR:E+=1;break;case n.ABG:A+=1;break;case n.AEN:te+=1;break;case n.TLS:for(v+=1,F=0;F<O.string.length;F+=1)O.string[F]<L&&(L=O.string[F]),O.string[F]>B&&(B=O.string[F]);break;case n.TBS:for(g+=1,F=0;F<O.string.length;F+=1)O.string[F]<L&&(L=O.string[F]),O.string[F]>B&&(B=O.string[F]);break;case n.TRG:l+=1,O.min<L&&(L=O.min),O.max>B&&(B=O.max);break;default:throw new Error("generateSource: unrecognized opcode")}})}),P.sort(),T.length>0&&(T.forEach(J=>{ee.push(J.lower)}),ee.sort());let M="module.exports";q&&typeof q=="string"&&(M=`let ${q}`),D+=`// copyright: Copyright (c) 2021 Lowell D. Thomas, all rights reserved<br>
`,D+=`//   license: BSD-2-Clause (https://opensource.org/licenses/BSD-2-Clause)<br>
`,D+=`//
`,D+=`// Generated by apg-js, Version 4.0.0 [apg-js](https://github.com/ldthomas/apg-js)
`,D+=`${M} = function grammar(){
`,D+="  // ```\n",D+=`  // SUMMARY
`,D+=`  //      rules = ${C.length}
`,D+=`  //       udts = ${T.length}
`,D+=`  //    opcodes = ${W}
`,D+=`  //        ---   ABNF original opcodes
`,D+=`  //        ALT = ${_}
`,D+=`  //        CAT = ${c}
`,D+=`  //        REP = ${o}
`,D+=`  //        RNM = ${p}
`,D+=`  //        TLS = ${v}
`,D+=`  //        TBS = ${g}
`,D+=`  //        TRG = ${l}
`,D+=`  //        ---   SABNF superset opcodes
`,D+=`  //        UDT = ${h}
`,D+=`  //        AND = ${u}
`,D+=`  //        NOT = ${m}
`,D+=`  //        BKA = ${S}
`,D+=`  //        BKN = ${d}
`,D+=`  //        BKR = ${E}
`,D+=`  //        ABG = ${A}
`,D+=`  //        AEN = ${te}
`,D+="  // characters = [",v+g+l===0?D+=" none defined ]":D+=`${L} - ${B}]`,h>0&&(D+=" + user defined"),D+=`
`,D+="  // ```\n",D+=`  /* OBJECT IDENTIFIER (for internal parser use) */
`,D+=`  this.grammarObject = 'grammarObject';
`,D+=`
`,D+=`  /* RULES */
`,D+=`  this.rules = [];
`,C.forEach((J,O)=>{let R="  this.rules[";R+=O,R+="] = {name: '",R+=J.name,R+="', lower: '",R+=J.lower,R+="', index: ",R+=J.index,R+=", isBkr: ",R+=J.isBkr,R+=`};
`,D+=R}),D+=`
`,D+=`  /* UDTS */
`,D+=`  this.udts = [];
`,T.length>0&&T.forEach((J,O)=>{let R="  this.udts[";R+=O,R+="] = {name: '",R+=J.name,R+="', lower: '",R+=J.lower,R+="', index: ",R+=J.index,R+=", empty: ",R+=J.empty,R+=", isBkr: ",R+=J.isBkr,R+=`};
`,D+=R}),D+=`
`,D+=`  /* OPCODES */
`,C.forEach((J,O)=>{O>0&&(D+=`
`),D+=`  /* ${J.name} */
`,D+=`  this.rules[${O}].opcodes = [];
`,J.opcodes.forEach((R,K)=>{let j;switch(R.type){case n.ALT:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}, children: [${R.children.toString()}]};// ALT
`;break;case n.CAT:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}, children: [${R.children.toString()}]};// CAT
`;break;case n.RNM:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}, index: ${R.index}};// RNM(${C[R.index].name})
`;break;case n.BKR:R.index>=C.length?(Y=T[R.index-C.length].name,z=T[R.index-C.length].lower):(Y=C[R.index].name,z=C[R.index].lower),j="%i",R.bkrCase===n.BKR_MODE_CS&&(j="%s"),R.bkrMode===n.BKR_MODE_UM?j+="%u":j+="%p",Y=j+Y,D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}, index: ${R.index}, lower: '${z}', bkrCase: ${R.bkrCase}, bkrMode: ${R.bkrMode}};// BKR(\\${Y})
`;break;case n.UDT:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}, empty: ${R.empty}, index: ${R.index}};// UDT(${T[R.index].name})
`;break;case n.REP:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}, min: ${R.min}, max: ${R.max}};// REP
`;break;case n.AND:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}};// AND
`;break;case n.NOT:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}};// NOT
`;break;case n.ABG:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}};// ABG(%^)
`;break;case n.AEN:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}};// AEN(%$)
`;break;case n.BKA:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}};// BKA
`;break;case n.BKN:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}};// BKN
`;break;case n.TLS:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}, string: [${R.string.toString()}]};// TLS
`;break;case n.TBS:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}, string: [${R.string.toString()}]};// TBS
`;break;case n.TRG:D+=`  this.rules[${O}].opcodes[${K}] = {type: ${R.type}, min: ${R.min}, max: ${R.max}};// TRG
`;break;default:throw new Error("parser.js: ~143: unrecognized opcode")}})}),D+=`
`,D+="  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n",D+=`  this.toString = function toString(){
`,D+=`    let str = "";
`;let H;return N.forEach(J=>{let O=J.beginChar+J.length;H="",D+='    str += "';for(let R=J.beginChar;R<O;R+=1){switch(k[R]){case 9:H=" ";break;case 10:H="\\n";break;case 13:H="\\r";break;case 34:H='\\"';break;case 92:H="\\\\";break;default:H=String.fromCharCode(k[R]);break}D+=H}D+=`";
`}),D+=`    return str;
`,D+=`  }
`,D+=`}
`,D},this.generateObject=function(k,N,C){let T={},q=[],D=[],F=k.slice(0);return T.grammarObject="grammarObject",N.forEach(Y=>{q.push(Y.lower)}),q.sort(),C.length>0&&(C.forEach(Y=>{D.push(Y.lower)}),D.sort()),T.callbacks=[],q.forEach(Y=>{T.callbacks[Y]=!1}),C.length>0&&D.forEach(Y=>{T.callbacks[Y]=!1}),T.rules=N,T.udts=C,T.toString=function(){return F},T}}});var vb=de((k7,gb)=>{gb.exports=function(){let e=vr(),t="rule-attributes.js",n=null;function i(_){return _.left||_.nested||_.right||_.cyclic?!1:_.empty}function s(_){return!!(_.left||_.nested||_.right||_.cyclic)}function a(_,c){let p=0,h=0,o=0;for(p=0;p<c;p+=1)if(_[p].nested)return!0;for(p=0;p<c;p+=1)if(_[p].right&&!_[p].leaf){for(h=p+1;h<c;h+=1)if(!i(_[h]))return!0}for(p=c-1;p>=0;p-=1)if(_[p].left&&!_[p].leaf){for(h=p-1;h>=0;h-=1)if(!i(_[h]))return!0}for(p=0;p<c;p+=1)if(!_[p].empty&&!s(_[p])){for(h=p+1;h<c;h+=1)if(s(_[h])){for(o=h+1;o<c;o+=1)if(!_[o].empty&&!s(_[o]))return!0}}return!1}function f(_,c){for(let p=0;p<c;p+=1)if(!_[p].cyclic)return!1;return!0}function b(_,c){for(let p=0;p<c;p+=1){if(_[p].left)return!0;if(!_[p].empty)return!1}return!1}function x(_,c){for(let p=c-1;p>=0;p-=1){if(_[p].right)return!0;if(!_[p].empty)return!1}return!1}function y(_,c){for(let p=0;p<c;p+=1)if(!_[p].empty)return!1;return!0}function w(_,c){for(let p=0;p<c;p+=1)if(!_[p].finite)return!1;return!0}function k(_,c,p,h){let o=0,u=c[p],m=u.children.length,v=[];for(o=0;o<m;o+=1)v.push(_.attrGen());for(o=0;o<m;o+=1)T(_,c,u.children[o],v[o]);h.left=b(v,m),h.right=x(v,m),h.nested=a(v,m),h.empty=y(v,m),h.finite=w(v,m),h.cyclic=f(v,m)}function N(_,c,p,h){let o=0,u=c[p],m=u.children.length,v=[];for(o=0;o<m;o+=1)v.push(_.attrGen());for(o=0;o<m;o+=1)T(_,c,u.children[o],v[o]);for(h.left=!1,h.right=!1,h.nested=!1,h.empty=!1,h.finite=!1,h.cyclic=!1,o=0;o<m;o+=1)v[o].left&&(h.left=!0),v[o].nested&&(h.nested=!0),v[o].right&&(h.right=!0),v[o].empty&&(h.empty=!0),v[o].finite&&(h.finite=!0),v[o].cyclic&&(h.cyclic=!0)}function C(_,c,p,h){let o=c[p];o.index>=_.ruleCount?(h.empty=_.udts[o.index-_.ruleCount].empty,h.finite=!0):(q(_,o.index,h),h.left=!1,h.nested=!1,h.right=!1,h.cyclic=!1)}function T(_,c,p,h){_.attrInit(h);let o=c[p];switch(o.type){case e.ALT:N(_,c,p,h);break;case e.CAT:k(_,c,p,h);break;case e.REP:T(_,c,p+1,h),o.min===0&&(h.empty=!0,h.finite=!0);break;case e.RNM:q(_,c[p].index,h);break;case e.BKR:C(_,c,p,h);break;case e.AND:case e.NOT:case e.BKA:case e.BKN:T(_,c,p+1,h),h.empty=!0;break;case e.TLS:h.empty=!c[p].string.length,h.finite=!0,h.cyclic=!1;break;case e.TBS:case e.TRG:h.empty=!1,h.finite=!0,h.cyclic=!1;break;case e.UDT:h.empty=o.empty,h.finite=!0,h.cyclic=!1;break;case e.ABG:case e.AEN:h.empty=!0,h.finite=!0,h.cyclic=!1;break;default:throw new Error(`unknown opcode type: ${o}`)}}function q(_,c,p){let h=_.attrsWorking[c];h.isComplete?_.attrCopy(p,h):h.isOpen?c===_.startRule?c===_.startRule&&(p.left=!0,p.right=!0,p.cyclic=!0,p.leaf=!0):p.finite=!0:(h.isOpen=!0,T(_,h.rule.opcodes,0,p),h.left=p.left,h.right=p.right,h.nested=p.nested,h.empty=p.empty,h.finite=p.finite,h.cyclic=p.cyclic,h.leaf=!1,h.isOpen=!1,h.isComplete=!0)}let D=_=>{n=_;let c=0,p=0,h=n.attrGen();for(c=0;c<n.ruleCount;c+=1){for(p=0;p<n.ruleCount;p+=1)n.attrInit(n.attrsWorking[p]);n.startRule=c,q(n,c,h),n.attrCopy(n.attrs[c],n.attrsWorking[c])}n.attributesComplete=!0;let o=null;for(c=0;c<n.ruleCount;c+=1)if(o=n.attrs[c],o.left||!o.finite||o.cyclic){let u=n.attrGen(o.rule);n.attrCopy(u,o),n.attrsErrors.push(u),n.attrsErrorCount+=1}},F=_=>_?"t":"f",Y=_=>_?"e":"f",z=_=>_?"t":"e",W=(_,c,p,h)=>{let o=`${_}:${c}:`;return o+=`${Y(p.left)} `,o+=`${F(p.nested)} `,o+=`${F(p.right)} `,o+=`${Y(p.cyclic)} `,o+=`${z(p.finite)} `,o+=`${F(p.empty)}:`,o+=`${n.typeToString(h.recursiveType)}:`,o+=h.recursiveType===e.ATTR_MR?h.groupNumber:"-",o+=`:${p.rule.name}
`,o},L=()=>{let _=`LEGEND - t=true, f=false, e=error
`;return _+=`sequence:rule index:left nested right cyclic finite empty:type:group number:rule name
`,_},B=()=>{let _=null,c=null,p="";if(p+=`RULE ATTRIBUTES WITH ERRORS
`,p+=L(),n.attrsErrorCount)for(let h=0;h<n.attrsErrorCount;h+=1)_=n.attrsErrors[h],c=n.ruleDeps[_.rule.index],p+=W(h,_.rule.index,_,c);else p+=`<none>
`;return p},P=_=>{let c=0,p=0,h=null,o=null,u="",{ruleIndexes:m}=n;for(_===97?m=n.ruleAlphaIndexes:_===116&&(m=n.ruleTypeIndexes),c=0;c<n.ruleCount;c+=1)p=m[c],h=n.attrs[p],o=n.ruleDeps[p],u+=W(c,p,h,o);return u};return{ruleAttributes:D,showAttributes:(_="index")=>{if(!n.attributesComplete)throw new Error(`${t}:showAttributes: attributes not available`);let c="",p=`RULE ATTRIBUTES
`;return _.charCodeAt(0)===97?(c+=`alphabetical by rule name
`,c+=p,c+=L(),c+=P(97)):_.charCodeAt(0)===116?(c+=`ordered by rule type
`,c+=p,c+=L(),c+=P(116)):(c+=`ordered by rule index
`,c+=p,c+=L(),c+=P()),c},showAttributeErrors:B}}()});var xb=de((D7,yb)=>{yb.exports=(()=>{let r=vr(),e=null,t=(a,f,b,x)=>{let y=0,w=0,k=f[b];x[b]=!0;let N=k.rule.opcodes;for(y=0;y<N.length;y+=1){let C=N[y];if(C.type===r.RNM)for(k.refersTo[C.index]=!0,x[C.index]||t(a,f,C.index,x),w=0;w<a;w+=1)f[C.index].refersTo[w]&&(k.refersTo[w]=!0);else C.type===r.UDT?k.refersToUdt[C.index]=!0:C.type===r.BKR&&(C.index<a?(k.refersTo[C.index]=!0,x[C.index]||t(a,f,C.index,x)):k.refersToUdt[a-C.index]=!0)}},n=a=>{e=a;let f=0,b=0,x=0,y=null,w=null,k=!1;e.dependenciesComplete=!1;let N=e.falseArray(e.ruleCount);for(f=0;f<e.ruleCount;f+=1)e.falsifyArray(N),t(e.ruleCount,e.ruleDeps,f,N);for(f=0;f<e.ruleCount;f+=1)for(b=0;b<e.ruleCount;b+=1)f!==b&&e.ruleDeps[b].refersTo[f]&&(e.ruleDeps[f].referencedBy[b]=!0);for(f=0;f<e.ruleCount;f+=1)e.ruleDeps[f].recursiveType=r.ATTR_N,e.ruleDeps[f].refersTo[f]&&(e.ruleDeps[f].recursiveType=r.ATTR_R);for(x=-1,f=0;f<e.ruleCount;f+=1)if(y=e.ruleDeps[f],y.recursiveType===r.ATTR_R)for(k=!0,b=0;b<e.ruleCount;b+=1)f!==b&&(w=e.ruleDeps[b],w.recursiveType===r.ATTR_R&&y.refersTo[b]&&w.refersTo[f]&&(k&&(x+=1,y.recursiveType=r.ATTR_MR,y.groupNumber=x,k=!1),w.recursiveType=r.ATTR_MR,w.groupNumber=x));e.isMutuallyRecursive=x>-1,e.ruleAlphaIndexes.sort(e.compRulesAlpha),e.ruleTypeIndexes.sort(e.compRulesAlpha),e.ruleTypeIndexes.sort(e.compRulesType),e.isMutuallyRecursive&&e.ruleTypeIndexes.sort(e.compRulesGroup),e.udtCount&&e.udtAlphaIndexes.sort(e.compUdtsAlpha),e.dependenciesComplete=!0},i=(a=null)=>{let f=0,b=0,x=0,y=0,w=e.ruleCount-1,k=e.udtCount-1,N=100,C="",T="",q="=> ",D="<= ",F=!1,Y=null,{ruleIndexes:z}=e,{udtIndexes:W}=e;for(a===97?(z=e.ruleAlphaIndexes,W=e.udtAlphaIndexes):a===116&&(z=e.ruleTypeIndexes,W=e.udtAlphaIndexes),f=0;f<e.ruleCount;f+=1){for(Y=e.ruleDeps[z[f]],T=`${z[f]}:${e.typeToString(Y.recursiveType)}:`,e.isMutuallyRecursive&&(T+=Y.groupNumber>-1?Y.groupNumber:"-",T+=":"),T+=" ",C+=`${T+e.rules[z[f]].name}
`,F=!0,x=0,y=C.length,C+=T,b=0;b<e.ruleCount;b+=1)Y.refersTo[z[b]]&&(F?(C+=q,F=!1,C+=e.ruleDeps[z[b]].rule.name):C+=`, ${e.ruleDeps[z[b]].rule.name}`,x+=1),C.length-y>N&&b!==w&&(C+=`
${T}${q}`,y=C.length);if(e.udtCount)for(b=0;b<e.udtCount;b+=1)Y.refersToUdt[W[b]]&&(F?(C+=q,F=!1,C+=e.udts[W[b]].name):C+=`, ${e.udts[W[b]].name}`,x+=1),C.length-y>N&&b!==k&&(C+=`
${T}${q}`,y=C.length);for(x===0&&(C+=`=> <none>
`),F===!1&&(C+=`
`),F=!0,x=0,y=C.length,C+=T,b=0;b<e.ruleCount;b+=1)Y.referencedBy[z[b]]&&(F?(C+=D,F=!1,C+=e.ruleDeps[z[b]].rule.name):C+=`, ${e.ruleDeps[z[b]].rule.name}`,x+=1),C.length-y>N&&b!==w&&(C+=`
${T}${q}`,y=C.length);x===0&&(C+=`<= <none>
`),F===!1&&(C+=`
`),C+=`
`}return C};return{ruleDependencies:n,showRuleDependencies:(a="index")=>{let f=`RULE DEPENDENCIES(index:type:[group number:])
`;return f+=`=> refers to rule names
`,f+=`<= referenced by rule names
`,e.dependenciesComplete&&(a.charCodeAt(0)===97?(f+=`alphabetical by rule name
`,f+=i(97)):a.charCodeAt(0)===116?(f+=`ordered by rule type
`,f+=i(116)):(f+=`ordered by rule index
`,f+=i(null))),f}}})()});var Eb=de((N7,wb)=>{wb.exports=function(){let e=vr(),{ruleAttributes:t,showAttributes:n,showAttributeErrors:i}=vb(),{ruleDependencies:s,showRuleDependencies:a}=xb();class f{constructor(y,w){this.rules=y,this.udts=w,this.ruleCount=y.length,this.udtCount=w.length,this.startRule=0,this.dependenciesComplete=!1,this.attributesComplete=!1,this.isMutuallyRecursive=!1,this.ruleIndexes=this.indexArray(this.ruleCount),this.ruleAlphaIndexes=this.indexArray(this.ruleCount),this.ruleTypeIndexes=this.indexArray(this.ruleCount),this.udtIndexes=this.indexArray(this.udtCount),this.udtAlphaIndexes=this.indexArray(this.udtCount),this.attrsErrorCount=0,this.attrs=[],this.attrsErrors=[],this.attrsWorking=[],this.ruleDeps=[];for(let k=0;k<this.ruleCount;k+=1)this.attrs.push(this.attrGen(this.rules[k])),this.attrsWorking.push(this.attrGen(this.rules[k])),this.ruleDeps.push(this.rdGen(y[k],this.ruleCount,this.udtCount));this.compRulesAlpha=this.compRulesAlpha.bind(this),this.compUdtsAlpha=this.compUdtsAlpha.bind(this),this.compRulesType=this.compRulesType.bind(this),this.compRulesGroup=this.compRulesGroup.bind(this)}attrGen(y){return{left:!1,nested:!1,right:!1,empty:!1,finite:!1,cyclic:!1,leaf:!1,isOpen:!1,isComplete:!1,rule:y}}attrInit(y){y.left=!1,y.nested=!1,y.right=!1,y.empty=!1,y.finite=!1,y.cyclic=!1,y.leaf=!1,y.isOpen=!1,y.isComplete=!1}attrCopy(y,w){y.left=w.left,y.nested=w.nested,y.right=w.right,y.empty=w.empty,y.finite=w.finite,y.cyclic=w.cyclic,y.leaf=w.leaf,y.isOpen=w.isOpen,y.isComplete=w.isComplete,y.rule=w.rule}rdGen(y,w,k){return{rule:y,recursiveType:e.ATTR_N,groupNumber:-1,refersTo:this.falseArray(w),refersToUdt:this.falseArray(k),referencedBy:this.falseArray(w)}}typeToString(y){switch(y){case e.ATTR_N:return" N";case e.ATTR_R:return" R";case e.ATTR_MR:return"MR";default:return"UNKNOWN"}}falseArray(y){let w=[];if(y>0)for(let k=0;k<y;k+=1)w.push(!1);return w}falsifyArray(y){for(let w=0;w<y.length;w+=1)y[w]=!1}indexArray(y){let w=[];if(y>0)for(let k=0;k<y;k+=1)w.push(k);return w}compRulesAlpha(y,w){return this.rules[y].lower<this.rules[w].lower?-1:this.rules[y].lower>this.rules[w].lower?1:0}compUdtsAlpha(y,w){return this.udts[y].lower<this.udts[w].lower?-1:this.udts[y].lower>this.udts[w].lower?1:0}compRulesType(y,w){return this.ruleDeps[y].recursiveType<this.ruleDeps[w].recursiveType?-1:this.ruleDeps[y].recursiveType>this.ruleDeps[w].recursiveType?1:0}compRulesGroup(y,w){if(this.ruleDeps[y].recursiveType===e.ATTR_MR&&this.ruleDeps[w].recursiveType===e.ATTR_MR){if(this.ruleDeps[y].groupNumber<this.ruleDeps[w].groupNumber)return-1;if(this.ruleDeps[y].groupNumber>this.ruleDeps[w].groupNumber)return 1}return 0}}return{attributes:function(y=[],w=[],k=[],N=[]){let C=new f(y,w);return s(C),t(C),C.attrsErrorCount&&N.push({line:0,char:0,msg:`${C.attrsErrorCount} attribute errors`}),C.attrsErrorCount},showAttributes:n,showAttributeErrors:i,showRuleDependencies:a}}()});var Mb=de((I7,Ab)=>{Ab.exports=function(){let e="show-rules.js";return function(i=[],s=[],a="index"){let f="showRules",b=[],x=[],y=[],w=[],k=i,N=s,C=i.length,T=s.length,q="RULE/UDT NAMES",D;function F(z,W){return k[z].lower<k[W].lower?-1:k[z].lower>k[W].lower?1:0}function Y(z,W){return N[z].lower<N[W].lower?-1:N[z].lower>N[W].lower?1:0}if(!(Array.isArray(i)&&i.length))throw new Error(`${e}:${f}: rules arg must be array with length > 0`);if(!Array.isArray(s))throw new Error(`${e}:${f}: udts arg must be array`);for(D=0;D<C;D+=1)y.push(D);if(b=y.slice(0),b.sort(F),T){for(D=0;D<T;D+=1)w.push(D);x=w.slice(0),x.sort(Y)}if(a.charCodeAt(0)===97){for(q+=` - alphabetical by rule/UDT name
`,D=0;D<C;D+=1)q+=`${D}: ${b[D]}: ${k[b[D]].name}
`;if(T)for(D=0;D<T;D+=1)q+=`${D}: ${x[D]}: ${N[x[D]].name}
`}else{for(q+=` - ordered by rule/UDT index
`,D=0;D<C;D+=1)q+=`${D}: ${k[D].name}
`;if(T)for(D=0;D<T;D+=1)q+=`${D}: ${N[D].name}
`}return q}}()});var Sb=de((O7,_b)=>{_b.exports=function(e){let t="api.js: ",n=this,i=vi(),s=hu(),a=fb(),f=new(mb()),{attributes:b,showAttributes:x,showAttributeErrors:y,showRuleDependencies:w}=Eb(),k=Mb(),N=function(_,c,p){let m=`<span class="${i.style.CLASS_CTRLCHAR}">`,v="</span>",g=`<span class="${i.style.CLASS_NOMATCH}">`,l="</span>",E,S="",d=!0;for(;d&&!(!Array.isArray(_)||_.length===0);){if(typeof c!="number")throw new Error("abnfToHtml: beg must be type number");if(c>=_.length)break;typeof p!="number"||c+p>=_.length?E=_.length:E=c+p;let A=0;for(let te=c;te<E;te+=1){let M=_[te];if(M>=32&&M<=126)switch(A===1?(S+=v,A=0):A===2&&(S+=l,A=0),M){case 32:S+="&nbsp;";break;case 60:S+="&lt;";break;case 62:S+="&gt;";break;case 38:S+="&amp;";break;case 34:S+="&quot;";break;case 39:S+="&#039;";break;case 92:S+="&#092;";break;default:S+=String.fromCharCode(M);break}else M===9||M===10||M===13?(A===0?(S+=m,A=1):A===2&&(S+=l+m,A=1),M===9&&(S+="TAB"),M===10&&(S+="LF"),M===13&&(S+="CR")):(A===0?(S+=g,A=2):A===1&&(S+=v+g,A=2),S+=`\\x${i.utils.charToHex(M)}`)}A===2&&(S+=l),A===1&&(S+=v);break}return S},C=function(_,c,p){let h="";for(let o=c;o<c+p;o+=1){let u=_[o];if(u>=32&&u<=126)h+=String.fromCharCode(u);else switch(u){case 9:h+="\\t";break;case 10:h+="\\n";break;case 13:h+="\\r";break;default:h+="\\unknown";break}}return h},T=function(_){let c="Annotated Input Grammar";return _.forEach(p=>{c+=`
`,c+=`line no: ${p.lineNo}`,c+=` : char index: ${p.beginChar}`,c+=` : length: ${p.length}`,c+=` : abnf: ${C(n.chars,p.beginChar,p.length)}`}),c+=`
`,c},q=function(_){let c="";return c+=`<table class="${i.style.CLASS_GRAMMAR}">
`,c+=`<caption>Annotated Input Grammar</caption>
`,c+="<tr>",c+="<th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th>",c+=`</tr>
`,_.forEach(h=>{c+="<tr>",c+=`<td>${h.lineNo}`,c+=`</td><td>${h.beginChar}`,c+=`</td><td>${h.length}`,c+=`</td><td>${N(n.chars,h.beginChar,h.length)}`,c+="</td>",c+=`</tr>
`}),c+=`</table>
`,c},D=function(_,c,p,h){let[o]=i,u="",m=`<span class="${o.CLASS_NOMATCH}">&raquo;</span>`;return u+=`<p><table class="${o.CLASS_GRAMMAR}">
`,h&&typeof h=="string"&&(u+=`<caption>${h}</caption>
`),u+=`<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>
`,_.forEach(v=>{let g,l,E,S,d,A="",te="";c.length===0?(d=m,l=0):(g=c[v.line],E=g.beginChar,v.char>E&&(A=N(p,E,v.char-E)),E=v.char,S=g.beginChar+g.length,E<S&&(te=N(p,E,S-E)),d=A+m+te,l=v.char-g.beginChar,u+="<tr>",u+=`<td>${v.line}</td><td>${g.beginChar}</td><td>${l}</td><td>${d}</td>`,u+=`</tr>
`,u+="<tr>",u+=`<td colspan="3"></td><td>&uarr;:&nbsp;${i.utils.stringToAsciiHtml(v.msg)}</td>`,u+=`</tr>
`)}),u+=`</table></p>
`,u},F=function(_,c,p){let h,o,u,m;return h="",_.forEach(v=>{o=c[v.line],h+=`${o.lineNo}: `,h+=`${o.beginChar}: `,h+=`${v.char-o.beginChar}: `,u=o.beginChar,m=v.char-o.beginChar,h+=C(p,u,m),h+=" >> ",u=v.char,m=o.beginChar+o.length-v.char,h+=C(p,u,m),h+=`
`,h+=`${o.lineNo}: `,h+=`${o.beginChar}: `,h+=`${v.char-o.beginChar}: `,h+="error: ",h+=v.msg,h+=`
`}),h},Y=!1,z=!1,W=!1,L=!1,B=0,P;if(this.errors=[],global.Buffer.isBuffer(e))this.chars=s.decode("BINARY",e);else if(Array.isArray(e))this.chars=e.slice();else if(typeof e=="string")this.chars=s.decode("STRING",e);else throw new Error(`${t}input source is not a string, byte Buffer or character array`);this.sabnf=s.encode("STRING",this.chars),this.scan=function(_,c){this.lines=a(this.chars,this.errors,_,c),Y=!0},this.parse=function(_,c){if(!Y)throw new Error(`${t}grammar not scanned`);f.syntax(this.chars,this.lines,this.errors,_,c),z=!0},this.translate=function(){if(!z)throw new Error(`${t}grammar not scanned and parsed`);let _=f.semantic(this.chars,this.lines,this.errors);this.errors.length===0&&(this.rules=_.rules,this.udts=_.udts,P=_.lineMap,W=!0)},this.attributes=function(){if(!W)throw new Error(`${t}grammar not scanned, parsed and translated`);return B=b(this.rules,this.udts,P,this.errors),L=!0,B},this.generate=function(_){if(this.lines=a(this.chars,this.errors,_),this.errors.length||(f.syntax(this.chars,this.lines,this.errors,_),this.errors.length))return;let c=f.semantic(this.chars,this.lines,this.errors);this.errors.length||(this.rules=c.rules,this.udts=c.udts,P=c.lineMap,B=b(this.rules,this.udts,P,this.errors),L=!0)},this.displayRules=function(_="index"){if(!W)throw new Error(`${t}grammar not scanned, parsed and translated`);return k(this.rules,this.udts,_)},this.displayRuleDependencies=function(_="index"){if(!L)throw new Error(`${t}no attributes - must be preceeded by call to attributes()`);return w(_)},this.displayAttributes=function(_="index"){if(!L)throw new Error(`${t}no attributes - must be preceeded by call to attributes()`);return B&&y(_),x(_)},this.displayAttributeErrors=function(){if(!L)throw new Error(`${t}no attributes - must be preceeded by call to attributes()`);return y()},this.toSource=function(_){if(!L)throw new Error(`${t}can't generate parser source - must be preceeded by call to attributes()`);if(B)throw new Error(`${t}can't generate parser source - attributes have ${B} errors`);return f.generateSource(this.chars,this.lines,this.rules,this.udts,_)},this.toObject=function(){if(!L)throw new Error(`${t}can't generate parser source - must be preceeded by call to attributes()`);if(B)throw new Error(`${t}can't generate parser source - attributes have ${B} errors`);return f.generateObject(this.sabnf,this.rules,this.udts)},this.errorsToAscii=function(){return F(this.errors,this.lines,this.chars)},this.errorsToHtml=function(_){return D(this.errors,this.lines,this.chars,_)},this.linesToAscii=function(){return T(this.lines)},this.linesToHtml=function(){return q(this.lines)}}});var Su=de((Hb,_u)=>{(function(r,e){"use strict";function t(h,o){if(!h)throw new Error(o||"Assertion failed")}function n(h,o){h.super_=o;var u=function(){};u.prototype=o.prototype,h.prototype=new u,h.prototype.constructor=h}function i(h,o,u){if(i.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(h||0,o||10,u||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Hf().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,m){if(typeof o=="number")return this._initNumber(o,u,m);if(typeof o=="object")return this._initArray(o,u,m);u==="hex"&&(u=16),t(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var v=0;o[0]==="-"&&(v++,this.negative=1),v<o.length&&(u===16?this._parseHex(o,v,m):(this._parseBase(o,u,v),m==="le"&&this._initArray(this.toArray(),u,m)))},i.prototype._initNumber=function(o,u,m){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(t(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),u,m)},i.prototype._initArray=function(o,u,m){if(t(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var g,l,E=0;if(m==="be")for(v=o.length-1,g=0;v>=0;v-=3)l=o[v]|o[v-1]<<8|o[v-2]<<16,this.words[g]|=l<<E&67108863,this.words[g+1]=l>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);else if(m==="le")for(v=0,g=0;v<o.length;v+=3)l=o[v]|o[v+1]<<8|o[v+2]<<16,this.words[g]|=l<<E&67108863,this.words[g+1]=l>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);return this._strip()};function a(h,o){var u=h.charCodeAt(o);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;t(!1,"Invalid character in "+h)}function f(h,o,u){var m=a(h,u);return u-1>=o&&(m|=a(h,u-1)<<4),m}i.prototype._parseHex=function(o,u,m){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var g=0,l=0,E;if(m==="be")for(v=o.length-1;v>=u;v-=2)E=f(o,u,v)<<g,this.words[l]|=E&67108863,g>=18?(g-=18,l+=1,this.words[l]|=E>>>26):g+=8;else{var S=o.length-u;for(v=S%2===0?u+1:u;v<o.length;v+=2)E=f(o,u,v)<<g,this.words[l]|=E&67108863,g>=18?(g-=18,l+=1,this.words[l]|=E>>>26):g+=8}this._strip()};function b(h,o,u,m){for(var v=0,g=0,l=Math.min(h.length,u),E=o;E<l;E++){var S=h.charCodeAt(E)-48;v*=m,S>=49?g=S-49+10:S>=17?g=S-17+10:g=S,t(S>=0&&g<m,"Invalid character"),v+=g}return v}i.prototype._parseBase=function(o,u,m){this.words=[0],this.length=1;for(var v=0,g=1;g<=67108863;g*=u)v++;v--,g=g/u|0;for(var l=o.length-m,E=l%v,S=Math.min(l,l-E)+m,d=0,A=m;A<S;A+=v)d=b(o,A,A+v,u),this.imuln(g),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(E!==0){var te=1;for(d=b(o,A,o.length,u),A=0;A<E;A++)te*=u;this.imuln(te),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function x(h,o){h.words=o.words,h.length=o.length,h.negative=o.negative,h.red=o.red}if(i.prototype._move=function(o){x(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{i.prototype.inspect=y}else i.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var m;if(o===16||o==="hex"){m="";for(var v=0,g=0,l=0;l<this.length;l++){var E=this.words[l],S=((E<<v|g)&16777215).toString(16);g=E>>>24-v&16777215,v+=2,v>=26&&(v-=26,l--),g!==0||l!==this.length-1?m=w[6-S.length]+S+m:m=S+m}for(g!==0&&(m=g.toString(16)+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(o===(o|0)&&o>=2&&o<=36){var d=k[o],A=N[o];m="";var te=this.clone();for(te.negative=0;!te.isZero();){var M=te.modrn(A).toString(o);te=te.idivn(A),te.isZero()?m=M+m:m=w[d-M.length]+M+m}for(this.isZero()&&(m="0"+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(o,u){return this.toArrayLike(s,o,u)}),i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var C=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};i.prototype.toArrayLike=function(o,u,m){this._strip();var v=this.byteLength(),g=m||Math.max(1,v);t(v<=g,"byte array longer than desired length"),t(g>0,"Requested array length <= 0");var l=C(o,g),E=u==="le"?"LE":"BE";return this["_toArrayLike"+E](l,v),l},i.prototype._toArrayLikeLE=function(o,u){for(var m=0,v=0,g=0,l=0;g<this.length;g++){var E=this.words[g]<<l|v;o[m++]=E&255,m<o.length&&(o[m++]=E>>8&255),m<o.length&&(o[m++]=E>>16&255),l===6?(m<o.length&&(o[m++]=E>>24&255),v=0,l=0):(v=E>>>24,l+=2)}if(m<o.length)for(o[m++]=v;m<o.length;)o[m++]=0},i.prototype._toArrayLikeBE=function(o,u){for(var m=o.length-1,v=0,g=0,l=0;g<this.length;g++){var E=this.words[g]<<l|v;o[m--]=E&255,m>=0&&(o[m--]=E>>8&255),m>=0&&(o[m--]=E>>16&255),l===6?(m>=0&&(o[m--]=E>>24&255),v=0,l=0):(v=E>>>24,l+=2)}if(m>=0)for(o[m--]=v;m>=0;)o[m--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,m=0;return u>=4096&&(m+=13,u>>>=13),u>=64&&(m+=7,u>>>=7),u>=8&&(m+=4,u>>>=4),u>=2&&(m+=2,u>>>=2),m+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,m=0;return u&8191||(m+=13,u>>>=13),u&127||(m+=7,u>>>=7),u&15||(m+=4,u>>>=4),u&3||(m+=2,u>>>=2),u&1||m++,m},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function T(h){for(var o=new Array(h.bitLength()),u=0;u<o.length;u++){var m=u/26|0,v=u%26;o[u]=h.words[m]>>>v&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var m=this._zeroBits(this.words[u]);if(o+=m,m!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},i.prototype.ior=function(o){return t((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]&o.words[m];return this.length=u.length,this._strip()},i.prototype.iand=function(o){return t((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,m;this.length>o.length?(u=this,m=o):(u=o,m=this);for(var v=0;v<m.length;v++)this.words[v]=u.words[v]^m.words[v];if(this!==u)for(;v<u.length;v++)this.words[v]=u.words[v];return this.length=u.length,this._strip()},i.prototype.ixor=function(o){return t((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){t(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,m=o%26;this._expand(u),m>0&&u--;for(var v=0;v<u;v++)this.words[v]=~this.words[v]&67108863;return m>0&&(this.words[v]=~this.words[v]&67108863>>26-m),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){t(typeof o=="number"&&o>=0);var m=o/26|0,v=o%26;return this._expand(m+1),u?this.words[m]=this.words[m]|1<<v:this.words[m]=this.words[m]&~(1<<v),this._strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var m,v;this.length>o.length?(m=this,v=o):(m=o,v=this);for(var g=0,l=0;l<v.length;l++)u=(m.words[l]|0)+(v.words[l]|0)+g,this.words[l]=u&67108863,g=u>>>26;for(;g!==0&&l<m.length;l++)u=(m.words[l]|0)+g,this.words[l]=u&67108863,g=u>>>26;if(this.length=m.length,g!==0)this.words[this.length]=g,this.length++;else if(m!==this)for(;l<m.length;l++)this.words[l]=m.words[l];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var m=this.cmp(o);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,g;m>0?(v=this,g=o):(v=o,g=this);for(var l=0,E=0;E<g.length;E++)u=(v.words[E]|0)-(g.words[E]|0)+l,l=u>>26,this.words[E]=u&67108863;for(;l!==0&&E<v.length;E++)u=(v.words[E]|0)+l,l=u>>26,this.words[E]=u&67108863;if(l===0&&E<v.length&&v!==this)for(;E<v.length;E++)this.words[E]=v.words[E];return this.length=Math.max(this.length,E),v!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function q(h,o,u){u.negative=o.negative^h.negative;var m=h.length+o.length|0;u.length=m,m=m-1|0;var v=h.words[0]|0,g=o.words[0]|0,l=v*g,E=l&67108863,S=l/67108864|0;u.words[0]=E;for(var d=1;d<m;d++){for(var A=S>>>26,te=S&67108863,M=Math.min(d,o.length-1),H=Math.max(0,d-h.length+1);H<=M;H++){var J=d-H|0;v=h.words[J]|0,g=o.words[H]|0,l=v*g+te,A+=l/67108864|0,te=l&67108863}u.words[d]=te|0,S=A|0}return S!==0?u.words[d]=S|0:u.length--,u._strip()}var D=function(o,u,m){var v=o.words,g=u.words,l=m.words,E=0,S,d,A,te=v[0]|0,M=te&8191,H=te>>>13,J=v[1]|0,O=J&8191,R=J>>>13,K=v[2]|0,j=K&8191,Z=K>>>13,ce=v[3]|0,ie=ce&8191,V=ce>>>13,ue=v[4]|0,X=ue&8191,se=ue>>>13,U=v[5]|0,re=U&8191,he=U>>>13,xe=v[6]|0,ge=xe&8191,Ae=xe>>>13,It=v[7]|0,Q=It&8191,G=It>>>13,I=v[8]|0,$=I&8191,ne=I>>>13,oe=v[9]|0,ae=oe&8191,le=oe>>>13,je=g[0]|0,ye=je&8191,pe=je>>>13,Ve=g[1]|0,Ee=Ve&8191,Me=Ve>>>13,Er=g[2]|0,_e=Er&8191,Se=Er>>>13,Ar=g[3]|0,Te=Ar&8191,Ce=Ar>>>13,Mr=g[4]|0,ke=Mr&8191,De=Mr>>>13,_r=g[5]|0,Ne=_r&8191,Ie=_r>>>13,Sr=g[6]|0,Oe=Sr&8191,Re=Sr>>>13,Tr=g[7]|0,Be=Tr&8191,Pe=Tr>>>13,Cr=g[8]|0,Le=Cr&8191,Ue=Cr>>>13,ur=g[9]|0,Xe=ur&8191,Ze=ur>>>13;m.negative=o.negative^u.negative,m.length=19,S=Math.imul(M,ye),d=Math.imul(M,pe),d=d+Math.imul(H,ye)|0,A=Math.imul(H,pe);var Gt=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,S=Math.imul(O,ye),d=Math.imul(O,pe),d=d+Math.imul(R,ye)|0,A=Math.imul(R,pe),S=S+Math.imul(M,Ee)|0,d=d+Math.imul(M,Me)|0,d=d+Math.imul(H,Ee)|0,A=A+Math.imul(H,Me)|0;var Vt=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,S=Math.imul(j,ye),d=Math.imul(j,pe),d=d+Math.imul(Z,ye)|0,A=Math.imul(Z,pe),S=S+Math.imul(O,Ee)|0,d=d+Math.imul(O,Me)|0,d=d+Math.imul(R,Ee)|0,A=A+Math.imul(R,Me)|0,S=S+Math.imul(M,_e)|0,d=d+Math.imul(M,Se)|0,d=d+Math.imul(H,_e)|0,A=A+Math.imul(H,Se)|0;var Jt=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,S=Math.imul(ie,ye),d=Math.imul(ie,pe),d=d+Math.imul(V,ye)|0,A=Math.imul(V,pe),S=S+Math.imul(j,Ee)|0,d=d+Math.imul(j,Me)|0,d=d+Math.imul(Z,Ee)|0,A=A+Math.imul(Z,Me)|0,S=S+Math.imul(O,_e)|0,d=d+Math.imul(O,Se)|0,d=d+Math.imul(R,_e)|0,A=A+Math.imul(R,Se)|0,S=S+Math.imul(M,Te)|0,d=d+Math.imul(M,Ce)|0,d=d+Math.imul(H,Te)|0,A=A+Math.imul(H,Ce)|0;var Yt=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,S=Math.imul(X,ye),d=Math.imul(X,pe),d=d+Math.imul(se,ye)|0,A=Math.imul(se,pe),S=S+Math.imul(ie,Ee)|0,d=d+Math.imul(ie,Me)|0,d=d+Math.imul(V,Ee)|0,A=A+Math.imul(V,Me)|0,S=S+Math.imul(j,_e)|0,d=d+Math.imul(j,Se)|0,d=d+Math.imul(Z,_e)|0,A=A+Math.imul(Z,Se)|0,S=S+Math.imul(O,Te)|0,d=d+Math.imul(O,Ce)|0,d=d+Math.imul(R,Te)|0,A=A+Math.imul(R,Ce)|0,S=S+Math.imul(M,ke)|0,d=d+Math.imul(M,De)|0,d=d+Math.imul(H,ke)|0,A=A+Math.imul(H,De)|0;var Wt=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,S=Math.imul(re,ye),d=Math.imul(re,pe),d=d+Math.imul(he,ye)|0,A=Math.imul(he,pe),S=S+Math.imul(X,Ee)|0,d=d+Math.imul(X,Me)|0,d=d+Math.imul(se,Ee)|0,A=A+Math.imul(se,Me)|0,S=S+Math.imul(ie,_e)|0,d=d+Math.imul(ie,Se)|0,d=d+Math.imul(V,_e)|0,A=A+Math.imul(V,Se)|0,S=S+Math.imul(j,Te)|0,d=d+Math.imul(j,Ce)|0,d=d+Math.imul(Z,Te)|0,A=A+Math.imul(Z,Ce)|0,S=S+Math.imul(O,ke)|0,d=d+Math.imul(O,De)|0,d=d+Math.imul(R,ke)|0,A=A+Math.imul(R,De)|0,S=S+Math.imul(M,Ne)|0,d=d+Math.imul(M,Ie)|0,d=d+Math.imul(H,Ne)|0,A=A+Math.imul(H,Ie)|0;var Bn=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,S=Math.imul(ge,ye),d=Math.imul(ge,pe),d=d+Math.imul(Ae,ye)|0,A=Math.imul(Ae,pe),S=S+Math.imul(re,Ee)|0,d=d+Math.imul(re,Me)|0,d=d+Math.imul(he,Ee)|0,A=A+Math.imul(he,Me)|0,S=S+Math.imul(X,_e)|0,d=d+Math.imul(X,Se)|0,d=d+Math.imul(se,_e)|0,A=A+Math.imul(se,Se)|0,S=S+Math.imul(ie,Te)|0,d=d+Math.imul(ie,Ce)|0,d=d+Math.imul(V,Te)|0,A=A+Math.imul(V,Ce)|0,S=S+Math.imul(j,ke)|0,d=d+Math.imul(j,De)|0,d=d+Math.imul(Z,ke)|0,A=A+Math.imul(Z,De)|0,S=S+Math.imul(O,Ne)|0,d=d+Math.imul(O,Ie)|0,d=d+Math.imul(R,Ne)|0,A=A+Math.imul(R,Ie)|0,S=S+Math.imul(M,Oe)|0,d=d+Math.imul(M,Re)|0,d=d+Math.imul(H,Oe)|0,A=A+Math.imul(H,Re)|0;var Pn=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,S=Math.imul(Q,ye),d=Math.imul(Q,pe),d=d+Math.imul(G,ye)|0,A=Math.imul(G,pe),S=S+Math.imul(ge,Ee)|0,d=d+Math.imul(ge,Me)|0,d=d+Math.imul(Ae,Ee)|0,A=A+Math.imul(Ae,Me)|0,S=S+Math.imul(re,_e)|0,d=d+Math.imul(re,Se)|0,d=d+Math.imul(he,_e)|0,A=A+Math.imul(he,Se)|0,S=S+Math.imul(X,Te)|0,d=d+Math.imul(X,Ce)|0,d=d+Math.imul(se,Te)|0,A=A+Math.imul(se,Ce)|0,S=S+Math.imul(ie,ke)|0,d=d+Math.imul(ie,De)|0,d=d+Math.imul(V,ke)|0,A=A+Math.imul(V,De)|0,S=S+Math.imul(j,Ne)|0,d=d+Math.imul(j,Ie)|0,d=d+Math.imul(Z,Ne)|0,A=A+Math.imul(Z,Ie)|0,S=S+Math.imul(O,Oe)|0,d=d+Math.imul(O,Re)|0,d=d+Math.imul(R,Oe)|0,A=A+Math.imul(R,Re)|0,S=S+Math.imul(M,Be)|0,d=d+Math.imul(M,Pe)|0,d=d+Math.imul(H,Be)|0,A=A+Math.imul(H,Pe)|0;var Ln=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,S=Math.imul($,ye),d=Math.imul($,pe),d=d+Math.imul(ne,ye)|0,A=Math.imul(ne,pe),S=S+Math.imul(Q,Ee)|0,d=d+Math.imul(Q,Me)|0,d=d+Math.imul(G,Ee)|0,A=A+Math.imul(G,Me)|0,S=S+Math.imul(ge,_e)|0,d=d+Math.imul(ge,Se)|0,d=d+Math.imul(Ae,_e)|0,A=A+Math.imul(Ae,Se)|0,S=S+Math.imul(re,Te)|0,d=d+Math.imul(re,Ce)|0,d=d+Math.imul(he,Te)|0,A=A+Math.imul(he,Ce)|0,S=S+Math.imul(X,ke)|0,d=d+Math.imul(X,De)|0,d=d+Math.imul(se,ke)|0,A=A+Math.imul(se,De)|0,S=S+Math.imul(ie,Ne)|0,d=d+Math.imul(ie,Ie)|0,d=d+Math.imul(V,Ne)|0,A=A+Math.imul(V,Ie)|0,S=S+Math.imul(j,Oe)|0,d=d+Math.imul(j,Re)|0,d=d+Math.imul(Z,Oe)|0,A=A+Math.imul(Z,Re)|0,S=S+Math.imul(O,Be)|0,d=d+Math.imul(O,Pe)|0,d=d+Math.imul(R,Be)|0,A=A+Math.imul(R,Pe)|0,S=S+Math.imul(M,Le)|0,d=d+Math.imul(M,Ue)|0,d=d+Math.imul(H,Le)|0,A=A+Math.imul(H,Ue)|0;var Un=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,S=Math.imul(ae,ye),d=Math.imul(ae,pe),d=d+Math.imul(le,ye)|0,A=Math.imul(le,pe),S=S+Math.imul($,Ee)|0,d=d+Math.imul($,Me)|0,d=d+Math.imul(ne,Ee)|0,A=A+Math.imul(ne,Me)|0,S=S+Math.imul(Q,_e)|0,d=d+Math.imul(Q,Se)|0,d=d+Math.imul(G,_e)|0,A=A+Math.imul(G,Se)|0,S=S+Math.imul(ge,Te)|0,d=d+Math.imul(ge,Ce)|0,d=d+Math.imul(Ae,Te)|0,A=A+Math.imul(Ae,Ce)|0,S=S+Math.imul(re,ke)|0,d=d+Math.imul(re,De)|0,d=d+Math.imul(he,ke)|0,A=A+Math.imul(he,De)|0,S=S+Math.imul(X,Ne)|0,d=d+Math.imul(X,Ie)|0,d=d+Math.imul(se,Ne)|0,A=A+Math.imul(se,Ie)|0,S=S+Math.imul(ie,Oe)|0,d=d+Math.imul(ie,Re)|0,d=d+Math.imul(V,Oe)|0,A=A+Math.imul(V,Re)|0,S=S+Math.imul(j,Be)|0,d=d+Math.imul(j,Pe)|0,d=d+Math.imul(Z,Be)|0,A=A+Math.imul(Z,Pe)|0,S=S+Math.imul(O,Le)|0,d=d+Math.imul(O,Ue)|0,d=d+Math.imul(R,Le)|0,A=A+Math.imul(R,Ue)|0,S=S+Math.imul(M,Xe)|0,d=d+Math.imul(M,Ze)|0,d=d+Math.imul(H,Xe)|0,A=A+Math.imul(H,Ze)|0;var $n=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+($n>>>26)|0,$n&=67108863,S=Math.imul(ae,Ee),d=Math.imul(ae,Me),d=d+Math.imul(le,Ee)|0,A=Math.imul(le,Me),S=S+Math.imul($,_e)|0,d=d+Math.imul($,Se)|0,d=d+Math.imul(ne,_e)|0,A=A+Math.imul(ne,Se)|0,S=S+Math.imul(Q,Te)|0,d=d+Math.imul(Q,Ce)|0,d=d+Math.imul(G,Te)|0,A=A+Math.imul(G,Ce)|0,S=S+Math.imul(ge,ke)|0,d=d+Math.imul(ge,De)|0,d=d+Math.imul(Ae,ke)|0,A=A+Math.imul(Ae,De)|0,S=S+Math.imul(re,Ne)|0,d=d+Math.imul(re,Ie)|0,d=d+Math.imul(he,Ne)|0,A=A+Math.imul(he,Ie)|0,S=S+Math.imul(X,Oe)|0,d=d+Math.imul(X,Re)|0,d=d+Math.imul(se,Oe)|0,A=A+Math.imul(se,Re)|0,S=S+Math.imul(ie,Be)|0,d=d+Math.imul(ie,Pe)|0,d=d+Math.imul(V,Be)|0,A=A+Math.imul(V,Pe)|0,S=S+Math.imul(j,Le)|0,d=d+Math.imul(j,Ue)|0,d=d+Math.imul(Z,Le)|0,A=A+Math.imul(Z,Ue)|0,S=S+Math.imul(O,Xe)|0,d=d+Math.imul(O,Ze)|0,d=d+Math.imul(R,Xe)|0,A=A+Math.imul(R,Ze)|0;var Fn=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,S=Math.imul(ae,_e),d=Math.imul(ae,Se),d=d+Math.imul(le,_e)|0,A=Math.imul(le,Se),S=S+Math.imul($,Te)|0,d=d+Math.imul($,Ce)|0,d=d+Math.imul(ne,Te)|0,A=A+Math.imul(ne,Ce)|0,S=S+Math.imul(Q,ke)|0,d=d+Math.imul(Q,De)|0,d=d+Math.imul(G,ke)|0,A=A+Math.imul(G,De)|0,S=S+Math.imul(ge,Ne)|0,d=d+Math.imul(ge,Ie)|0,d=d+Math.imul(Ae,Ne)|0,A=A+Math.imul(Ae,Ie)|0,S=S+Math.imul(re,Oe)|0,d=d+Math.imul(re,Re)|0,d=d+Math.imul(he,Oe)|0,A=A+Math.imul(he,Re)|0,S=S+Math.imul(X,Be)|0,d=d+Math.imul(X,Pe)|0,d=d+Math.imul(se,Be)|0,A=A+Math.imul(se,Pe)|0,S=S+Math.imul(ie,Le)|0,d=d+Math.imul(ie,Ue)|0,d=d+Math.imul(V,Le)|0,A=A+Math.imul(V,Ue)|0,S=S+Math.imul(j,Xe)|0,d=d+Math.imul(j,Ze)|0,d=d+Math.imul(Z,Xe)|0,A=A+Math.imul(Z,Ze)|0;var qn=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(qn>>>26)|0,qn&=67108863,S=Math.imul(ae,Te),d=Math.imul(ae,Ce),d=d+Math.imul(le,Te)|0,A=Math.imul(le,Ce),S=S+Math.imul($,ke)|0,d=d+Math.imul($,De)|0,d=d+Math.imul(ne,ke)|0,A=A+Math.imul(ne,De)|0,S=S+Math.imul(Q,Ne)|0,d=d+Math.imul(Q,Ie)|0,d=d+Math.imul(G,Ne)|0,A=A+Math.imul(G,Ie)|0,S=S+Math.imul(ge,Oe)|0,d=d+Math.imul(ge,Re)|0,d=d+Math.imul(Ae,Oe)|0,A=A+Math.imul(Ae,Re)|0,S=S+Math.imul(re,Be)|0,d=d+Math.imul(re,Pe)|0,d=d+Math.imul(he,Be)|0,A=A+Math.imul(he,Pe)|0,S=S+Math.imul(X,Le)|0,d=d+Math.imul(X,Ue)|0,d=d+Math.imul(se,Le)|0,A=A+Math.imul(se,Ue)|0,S=S+Math.imul(ie,Xe)|0,d=d+Math.imul(ie,Ze)|0,d=d+Math.imul(V,Xe)|0,A=A+Math.imul(V,Ze)|0;var Hn=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,S=Math.imul(ae,ke),d=Math.imul(ae,De),d=d+Math.imul(le,ke)|0,A=Math.imul(le,De),S=S+Math.imul($,Ne)|0,d=d+Math.imul($,Ie)|0,d=d+Math.imul(ne,Ne)|0,A=A+Math.imul(ne,Ie)|0,S=S+Math.imul(Q,Oe)|0,d=d+Math.imul(Q,Re)|0,d=d+Math.imul(G,Oe)|0,A=A+Math.imul(G,Re)|0,S=S+Math.imul(ge,Be)|0,d=d+Math.imul(ge,Pe)|0,d=d+Math.imul(Ae,Be)|0,A=A+Math.imul(Ae,Pe)|0,S=S+Math.imul(re,Le)|0,d=d+Math.imul(re,Ue)|0,d=d+Math.imul(he,Le)|0,A=A+Math.imul(he,Ue)|0,S=S+Math.imul(X,Xe)|0,d=d+Math.imul(X,Ze)|0,d=d+Math.imul(se,Xe)|0,A=A+Math.imul(se,Ze)|0;var Kn=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,S=Math.imul(ae,Ne),d=Math.imul(ae,Ie),d=d+Math.imul(le,Ne)|0,A=Math.imul(le,Ie),S=S+Math.imul($,Oe)|0,d=d+Math.imul($,Re)|0,d=d+Math.imul(ne,Oe)|0,A=A+Math.imul(ne,Re)|0,S=S+Math.imul(Q,Be)|0,d=d+Math.imul(Q,Pe)|0,d=d+Math.imul(G,Be)|0,A=A+Math.imul(G,Pe)|0,S=S+Math.imul(ge,Le)|0,d=d+Math.imul(ge,Ue)|0,d=d+Math.imul(Ae,Le)|0,A=A+Math.imul(Ae,Ue)|0,S=S+Math.imul(re,Xe)|0,d=d+Math.imul(re,Ze)|0,d=d+Math.imul(he,Xe)|0,A=A+Math.imul(he,Ze)|0;var zn=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(zn>>>26)|0,zn&=67108863,S=Math.imul(ae,Oe),d=Math.imul(ae,Re),d=d+Math.imul(le,Oe)|0,A=Math.imul(le,Re),S=S+Math.imul($,Be)|0,d=d+Math.imul($,Pe)|0,d=d+Math.imul(ne,Be)|0,A=A+Math.imul(ne,Pe)|0,S=S+Math.imul(Q,Le)|0,d=d+Math.imul(Q,Ue)|0,d=d+Math.imul(G,Le)|0,A=A+Math.imul(G,Ue)|0,S=S+Math.imul(ge,Xe)|0,d=d+Math.imul(ge,Ze)|0,d=d+Math.imul(Ae,Xe)|0,A=A+Math.imul(Ae,Ze)|0;var jn=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,S=Math.imul(ae,Be),d=Math.imul(ae,Pe),d=d+Math.imul(le,Be)|0,A=Math.imul(le,Pe),S=S+Math.imul($,Le)|0,d=d+Math.imul($,Ue)|0,d=d+Math.imul(ne,Le)|0,A=A+Math.imul(ne,Ue)|0,S=S+Math.imul(Q,Xe)|0,d=d+Math.imul(Q,Ze)|0,d=d+Math.imul(G,Xe)|0,A=A+Math.imul(G,Ze)|0;var Ka=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(Ka>>>26)|0,Ka&=67108863,S=Math.imul(ae,Le),d=Math.imul(ae,Ue),d=d+Math.imul(le,Le)|0,A=Math.imul(le,Ue),S=S+Math.imul($,Xe)|0,d=d+Math.imul($,Ze)|0,d=d+Math.imul(ne,Xe)|0,A=A+Math.imul(ne,Ze)|0;var za=(E+S|0)+((d&8191)<<13)|0;E=(A+(d>>>13)|0)+(za>>>26)|0,za&=67108863,S=Math.imul(ae,Xe),d=Math.imul(ae,Ze),d=d+Math.imul(le,Xe)|0,A=Math.imul(le,Ze);var ja=(E+S|0)+((d&8191)<<13)|0;return E=(A+(d>>>13)|0)+(ja>>>26)|0,ja&=67108863,l[0]=Gt,l[1]=Vt,l[2]=Jt,l[3]=Yt,l[4]=Wt,l[5]=Bn,l[6]=Pn,l[7]=Ln,l[8]=Un,l[9]=$n,l[10]=Fn,l[11]=qn,l[12]=Hn,l[13]=Kn,l[14]=zn,l[15]=jn,l[16]=Ka,l[17]=za,l[18]=ja,E!==0&&(l[19]=E,m.length++),m};Math.imul||(D=q);function F(h,o,u){u.negative=o.negative^h.negative,u.length=h.length+o.length;for(var m=0,v=0,g=0;g<u.length-1;g++){var l=v;v=0;for(var E=m&67108863,S=Math.min(g,o.length-1),d=Math.max(0,g-h.length+1);d<=S;d++){var A=g-d,te=h.words[A]|0,M=o.words[d]|0,H=te*M,J=H&67108863;l=l+(H/67108864|0)|0,J=J+E|0,E=J&67108863,l=l+(J>>>26)|0,v+=l>>>26,l&=67108863}u.words[g]=E,m=l,l=v}return m!==0?u.words[g]=m:u.length--,u._strip()}function Y(h,o,u){return F(h,o,u)}i.prototype.mulTo=function(o,u){var m,v=this.length+o.length;return this.length===10&&o.length===10?m=D(this,o,u):v<63?m=q(this,o,u):v<1024?m=F(this,o,u):m=Y(this,o,u),m};function z(h,o){this.x=h,this.y=o}z.prototype.makeRBT=function(o){for(var u=new Array(o),m=i.prototype._countBits(o)-1,v=0;v<o;v++)u[v]=this.revBin(v,m,o);return u},z.prototype.revBin=function(o,u,m){if(o===0||o===m-1)return o;for(var v=0,g=0;g<u;g++)v|=(o&1)<<u-g-1,o>>=1;return v},z.prototype.permute=function(o,u,m,v,g,l){for(var E=0;E<l;E++)v[E]=u[o[E]],g[E]=m[o[E]]},z.prototype.transform=function(o,u,m,v,g,l){this.permute(l,o,u,m,v,g);for(var E=1;E<g;E<<=1)for(var S=E<<1,d=Math.cos(2*Math.PI/S),A=Math.sin(2*Math.PI/S),te=0;te<g;te+=S)for(var M=d,H=A,J=0;J<E;J++){var O=m[te+J],R=v[te+J],K=m[te+J+E],j=v[te+J+E],Z=M*K-H*j;j=M*j+H*K,K=Z,m[te+J]=O+K,v[te+J]=R+j,m[te+J+E]=O-K,v[te+J+E]=R-j,J!==S&&(Z=d*M-A*H,H=d*H+A*M,M=Z)}},z.prototype.guessLen13b=function(o,u){var m=Math.max(u,o)|1,v=m&1,g=0;for(m=m/2|0;m;m=m>>>1)g++;return 1<<g+1+v},z.prototype.conjugate=function(o,u,m){if(!(m<=1))for(var v=0;v<m/2;v++){var g=o[v];o[v]=o[m-v-1],o[m-v-1]=g,g=u[v],u[v]=-u[m-v-1],u[m-v-1]=-g}},z.prototype.normalize13b=function(o,u){for(var m=0,v=0;v<u/2;v++){var g=Math.round(o[2*v+1]/u)*8192+Math.round(o[2*v]/u)+m;o[v]=g&67108863,g<67108864?m=0:m=g/67108864|0}return o},z.prototype.convert13b=function(o,u,m,v){for(var g=0,l=0;l<u;l++)g=g+(o[l]|0),m[2*l]=g&8191,g=g>>>13,m[2*l+1]=g&8191,g=g>>>13;for(l=2*u;l<v;++l)m[l]=0;t(g===0),t((g&-8192)===0)},z.prototype.stub=function(o){for(var u=new Array(o),m=0;m<o;m++)u[m]=0;return u},z.prototype.mulp=function(o,u,m){var v=2*this.guessLen13b(o.length,u.length),g=this.makeRBT(v),l=this.stub(v),E=new Array(v),S=new Array(v),d=new Array(v),A=new Array(v),te=new Array(v),M=new Array(v),H=m.words;H.length=v,this.convert13b(o.words,o.length,E,v),this.convert13b(u.words,u.length,A,v),this.transform(E,l,S,d,v,g),this.transform(A,l,te,M,v,g);for(var J=0;J<v;J++){var O=S[J]*te[J]-d[J]*M[J];d[J]=S[J]*M[J]+d[J]*te[J],S[J]=O}return this.conjugate(S,d,v),this.transform(S,d,H,l,v,g),this.conjugate(H,l,v),this.normalize13b(H,v),m.negative=o.negative^u.negative,m.length=o.length+u.length,m._strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),Y(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var u=o<0;u&&(o=-o),t(typeof o=="number"),t(o<67108864);for(var m=0,v=0;v<this.length;v++){var g=(this.words[v]|0)*o,l=(g&67108863)+(m&67108863);m>>=26,m+=g/67108864|0,m+=l>>>26,this.words[v]=l&67108863}return m!==0&&(this.words[v]=m,this.length++),u?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=T(o);if(u.length===0)return new i(1);for(var m=this,v=0;v<u.length&&u[v]===0;v++,m=m.sqr());if(++v<u.length)for(var g=m.sqr();v<u.length;v++,g=g.sqr())u[v]!==0&&(m=m.mul(g));return m},i.prototype.iushln=function(o){t(typeof o=="number"&&o>=0);var u=o%26,m=(o-u)/26,v=67108863>>>26-u<<26-u,g;if(u!==0){var l=0;for(g=0;g<this.length;g++){var E=this.words[g]&v,S=(this.words[g]|0)-E<<u;this.words[g]=S|l,l=E>>>26-u}l&&(this.words[g]=l,this.length++)}if(m!==0){for(g=this.length-1;g>=0;g--)this.words[g+m]=this.words[g];for(g=0;g<m;g++)this.words[g]=0;this.length+=m}return this._strip()},i.prototype.ishln=function(o){return t(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,m){t(typeof o=="number"&&o>=0);var v;u?v=(u-u%26)/26:v=0;var g=o%26,l=Math.min((o-g)/26,this.length),E=67108863^67108863>>>g<<g,S=m;if(v-=l,v=Math.max(0,v),S){for(var d=0;d<l;d++)S.words[d]=this.words[d];S.length=l}if(l!==0)if(this.length>l)for(this.length-=l,d=0;d<this.length;d++)this.words[d]=this.words[d+l];else this.words[0]=0,this.length=1;var A=0;for(d=this.length-1;d>=0&&(A!==0||d>=v);d--){var te=this.words[d]|0;this.words[d]=A<<26-g|te>>>g,A=te&E}return S&&A!==0&&(S.words[S.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,u,m){return t(this.negative===0),this.iushrn(o,u,m)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){t(typeof o=="number"&&o>=0);var u=o%26,m=(o-u)/26,v=1<<u;if(this.length<=m)return!1;var g=this.words[m];return!!(g&v)},i.prototype.imaskn=function(o){t(typeof o=="number"&&o>=0);var u=o%26,m=(o-u)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(u!==0&&m++,this.length=Math.min(m,this.length),u!==0){var v=67108863^67108863>>>u<<u;this.words[this.length-1]&=v}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return t(typeof o=="number"),t(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(t(typeof o=="number"),t(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,m){var v=o.length+m,g;this._expand(v);var l,E=0;for(g=0;g<o.length;g++){l=(this.words[g+m]|0)+E;var S=(o.words[g]|0)*u;l-=S&67108863,E=(l>>26)-(S/67108864|0),this.words[g+m]=l&67108863}for(;g<this.length-m;g++)l=(this.words[g+m]|0)+E,E=l>>26,this.words[g+m]=l&67108863;if(E===0)return this._strip();for(t(E===-1),E=0,g=0;g<this.length;g++)l=-(this.words[g]|0)+E,E=l>>26,this.words[g]=l&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,u){var m=this.length-o.length,v=this.clone(),g=o,l=g.words[g.length-1]|0,E=this._countBits(l);m=26-E,m!==0&&(g=g.ushln(m),v.iushln(m),l=g.words[g.length-1]|0);var S=v.length-g.length,d;if(u!=="mod"){d=new i(null),d.length=S+1,d.words=new Array(d.length);for(var A=0;A<d.length;A++)d.words[A]=0}var te=v.clone()._ishlnsubmul(g,1,S);te.negative===0&&(v=te,d&&(d.words[S]=1));for(var M=S-1;M>=0;M--){var H=(v.words[g.length+M]|0)*67108864+(v.words[g.length+M-1]|0);for(H=Math.min(H/l|0,67108863),v._ishlnsubmul(g,H,M);v.negative!==0;)H--,v.negative=0,v._ishlnsubmul(g,1,M),v.isZero()||(v.negative^=1);d&&(d.words[M]=H)}return d&&d._strip(),v._strip(),u!=="div"&&m!==0&&v.iushrn(m),{div:d||null,mod:v}},i.prototype.divmod=function(o,u,m){if(t(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var v,g,l;return this.negative!==0&&o.negative===0?(l=this.neg().divmod(o,u),u!=="mod"&&(v=l.div.neg()),u!=="div"&&(g=l.mod.neg(),m&&g.negative!==0&&g.iadd(o)),{div:v,mod:g}):this.negative===0&&o.negative!==0?(l=this.divmod(o.neg(),u),u!=="mod"&&(v=l.div.neg()),{div:v,mod:l.mod}):this.negative&o.negative?(l=this.neg().divmod(o.neg(),u),u!=="div"&&(g=l.mod.neg(),m&&g.negative!==0&&g.isub(o)),{div:l.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var m=u.div.negative!==0?u.mod.isub(o):u.mod,v=o.ushrn(1),g=o.andln(1),l=m.cmp(v);return l<0||g===1&&l===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(o){var u=o<0;u&&(o=-o),t(o<=67108863);for(var m=(1<<26)%o,v=0,g=this.length-1;g>=0;g--)v=(m*v+(this.words[g]|0))%o;return u?-v:v},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var u=o<0;u&&(o=-o),t(o<=67108863);for(var m=0,v=this.length-1;v>=0;v--){var g=(this.words[v]|0)+m*67108864;this.words[v]=g/o|0,m=g%o}return this._strip(),u?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){t(o.negative===0),t(!o.isZero());var u=this,m=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var v=new i(1),g=new i(0),l=new i(0),E=new i(1),S=0;u.isEven()&&m.isEven();)u.iushrn(1),m.iushrn(1),++S;for(var d=m.clone(),A=u.clone();!u.isZero();){for(var te=0,M=1;!(u.words[0]&M)&&te<26;++te,M<<=1);if(te>0)for(u.iushrn(te);te-- >0;)(v.isOdd()||g.isOdd())&&(v.iadd(d),g.isub(A)),v.iushrn(1),g.iushrn(1);for(var H=0,J=1;!(m.words[0]&J)&&H<26;++H,J<<=1);if(H>0)for(m.iushrn(H);H-- >0;)(l.isOdd()||E.isOdd())&&(l.iadd(d),E.isub(A)),l.iushrn(1),E.iushrn(1);u.cmp(m)>=0?(u.isub(m),v.isub(l),g.isub(E)):(m.isub(u),l.isub(v),E.isub(g))}return{a:l,b:E,gcd:m.iushln(S)}},i.prototype._invmp=function(o){t(o.negative===0),t(!o.isZero());var u=this,m=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var v=new i(1),g=new i(0),l=m.clone();u.cmpn(1)>0&&m.cmpn(1)>0;){for(var E=0,S=1;!(u.words[0]&S)&&E<26;++E,S<<=1);if(E>0)for(u.iushrn(E);E-- >0;)v.isOdd()&&v.iadd(l),v.iushrn(1);for(var d=0,A=1;!(m.words[0]&A)&&d<26;++d,A<<=1);if(d>0)for(m.iushrn(d);d-- >0;)g.isOdd()&&g.iadd(l),g.iushrn(1);u.cmp(m)>=0?(u.isub(m),v.isub(g)):(m.isub(u),g.isub(v))}var te;return u.cmpn(1)===0?te=v:te=g,te.cmpn(0)<0&&te.iadd(o),te},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),m=o.clone();u.negative=0,m.negative=0;for(var v=0;u.isEven()&&m.isEven();v++)u.iushrn(1),m.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;m.isEven();)m.iushrn(1);var g=u.cmp(m);if(g<0){var l=u;u=m,m=l}else if(g===0||m.cmpn(1)===0)break;u.isub(m)}while(!0);return m.iushln(v)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){t(typeof o=="number");var u=o%26,m=(o-u)/26,v=1<<u;if(this.length<=m)return this._expand(m+1),this.words[m]|=v,this;for(var g=v,l=m;g!==0&&l<this.length;l++){var E=this.words[l]|0;E+=g,g=E>>>26,E&=67108863,this.words[l]=E}return g!==0&&(this.words[l]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var m;if(this.length>1)m=1;else{u&&(o=-o),t(o<=67108863,"Number is too big");var v=this.words[0]|0;m=v===o?0:v<o?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,m=this.length-1;m>=0;m--){var v=this.words[m]|0,g=o.words[m]|0;if(v!==g){v<g?u=-1:v>g&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new c(o)},i.prototype.toRed=function(o){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return t(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return t(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var W={k256:null,p224:null,p192:null,p25519:null};function L(h,o){this.name=h,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},L.prototype.ireduce=function(o){var u=o,m;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),m=u.bitLength();while(m>this.n);var v=m<this.n?-1:u.ucmp(this.p);return v===0?(u.words[0]=0,u.length=1):v>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},L.prototype.split=function(o,u){o.iushrn(this.n,0,u)},L.prototype.imulK=function(o){return o.imul(this.k)};function B(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(B,L),B.prototype.split=function(o,u){for(var m=4194303,v=Math.min(o.length,9),g=0;g<v;g++)u.words[g]=o.words[g];if(u.length=v,o.length<=9){o.words[0]=0,o.length=1;return}var l=o.words[9];for(u.words[u.length++]=l&m,g=10;g<o.length;g++){var E=o.words[g]|0;o.words[g-10]=(E&m)<<4|l>>>22,l=E}l>>>=22,o.words[g-10]=l,l===0&&o.length>10?o.length-=10:o.length-=9},B.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,m=0;m<o.length;m++){var v=o.words[m]|0;u+=v*977,o.words[m]=u&67108863,u=v*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function P(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(P,L);function ee(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ee,L);function _(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(_,L),_.prototype.imulK=function(o){for(var u=0,m=0;m<o.length;m++){var v=(o.words[m]|0)*19+u,g=v&67108863;v>>>=26,o.words[m]=g,u=v}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(W[o])return W[o];var u;if(o==="k256")u=new B;else if(o==="p224")u=new P;else if(o==="p192")u=new ee;else if(o==="p25519")u=new _;else throw new Error("Unknown prime "+o);return W[o]=u,u};function c(h){if(typeof h=="string"){var o=i._prime(h);this.m=o.p,this.prime=o}else t(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}c.prototype._verify1=function(o){t(o.negative===0,"red works only with positives"),t(o.red,"red works only with red numbers")},c.prototype._verify2=function(o,u){t((o.negative|u.negative)===0,"red works only with positives"),t(o.red&&o.red===u.red,"red works only with red numbers")},c.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(x(o,o.umod(this.m)._forceRed(this)),o)},c.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},c.prototype.add=function(o,u){this._verify2(o,u);var m=o.add(u);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},c.prototype.iadd=function(o,u){this._verify2(o,u);var m=o.iadd(u);return m.cmp(this.m)>=0&&m.isub(this.m),m},c.prototype.sub=function(o,u){this._verify2(o,u);var m=o.sub(u);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},c.prototype.isub=function(o,u){this._verify2(o,u);var m=o.isub(u);return m.cmpn(0)<0&&m.iadd(this.m),m},c.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},c.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},c.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},c.prototype.isqr=function(o){return this.imul(o,o.clone())},c.prototype.sqr=function(o){return this.mul(o,o)},c.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(t(u%2===1),u===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(o,m)}for(var v=this.m.subn(1),g=0;!v.isZero()&&v.andln(1)===0;)g++,v.iushrn(1);t(!v.isZero());var l=new i(1).toRed(this),E=l.redNeg(),S=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);this.pow(d,S).cmp(E)!==0;)d.redIAdd(E);for(var A=this.pow(d,v),te=this.pow(o,v.addn(1).iushrn(1)),M=this.pow(o,v),H=g;M.cmp(l)!==0;){for(var J=M,O=0;J.cmp(l)!==0;O++)J=J.redSqr();t(O<H);var R=this.pow(A,new i(1).iushln(H-O-1));te=te.redMul(R),A=R.redSqr(),M=M.redMul(A),H=O}return te},c.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},c.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var m=4,v=new Array(1<<m);v[0]=new i(1).toRed(this),v[1]=o;for(var g=2;g<v.length;g++)v[g]=this.mul(v[g-1],o);var l=v[0],E=0,S=0,d=u.bitLength()%26;for(d===0&&(d=26),g=u.length-1;g>=0;g--){for(var A=u.words[g],te=d-1;te>=0;te--){var M=A>>te&1;if(l!==v[0]&&(l=this.sqr(l)),M===0&&E===0){S=0;continue}E<<=1,E|=M,S++,!(S!==m&&(g!==0||te!==0))&&(l=this.mul(l,v[E]),S=0,E=0)}d=26}return l},c.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},c.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new p(o)};function p(h){c.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(p,c),p.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},p.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},p.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var m=o.imul(u),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(v).iushrn(this.shift),l=g;return g.cmp(this.m)>=0?l=g.isub(this.m):g.cmpn(0)<0&&(l=g.iadd(this.m)),l._forceRed(this)},p.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var m=o.mul(u),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(v).iushrn(this.shift),l=g;return g.cmp(this.m)>=0?l=g.isub(this.m):g.cmpn(0)<0&&(l=g.iadd(this.m)),l._forceRed(this)},p.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof _u>"u"||_u,Hb)});var s8={};Ye(s8,{Cacao:()=>Hr,DIDSession:()=>fn,EthereumWebAuth:()=>fo,SiweMessage:()=>qr,arrayify:()=>tt,createDIDKey:()=>Ha,getAccountId:()=>ju,hashMessage:()=>as,randomBytes:()=>C2.randomBytes});var oa=rt(mo(),1);function Wn(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function ls(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Wn(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function _i(r,e){e||(e=r.reduce((i,s)=>i+s.length,0));let t=ls(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return Wn(t)}To();function Yh(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var Jh=Yh("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),$f=Yh("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=ls(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),V3={utf8:Jh,"utf-8":Jh,hex:Ni.base16,latin1:$f,ascii:$f,binary:$f,...Ni},Co=V3;function ze(r,e="utf8"){let t=Co[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Wn(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Qe(r,e="utf8"){let t=Co[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}To();var Sc=rt(Xh(),1),a0=rt(qf(),1),Gi=rt(Md(),1),ea=rt(mo(),1),f0=rt(Sd(),1),Ac=rt(Dd(),1),Ls=rt(Rd(),1),Tc=rt(Jd(),1),Cc=rt(cn(),1);function nr(r){return Qe(r,"base64url")}function Tt(r){let e=r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return ze(e,"base64url")}function kc(r){return ze(r,"base58btc")}function wv(r){return Qe(r,"base58btc")}function wc(r){let e=r.startsWith("0x")?r.substring(2):r;return ze(e.toLowerCase(),"base16")}function Mc(r){return nr(ze(r))}function c0(r){return Qe(Tt(r))}function tn(r){return Qe(r,"base16")}function u0(r){return ze(r)}function h0({r,s:e,recoveryParam:t},n){let i=new Uint8Array(n?65:64);if(i.set(ze(r,"base16"),0),i.set(ze(e,"base16"),32),n){if(typeof t>"u")throw new Error("Signer did not return a recoveryParam");i[64]=t}return nr(i)}function Ev(r){let e=Tt(r);if(e.length<64||e.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${e.length}`);let t=tn(e.slice(0,32)),n=tn(e.slice(32,64)),i=e.length===65?e[64]:void 0;return{r:t,s:n,recoveryParam:i}}function l0(r,e){return _i([Tt(r),Tt(e)])}function ci(r){let e=typeof r=="string"?ze(r):r;return(0,Sc.hash)(e)}function Av(r){return new Uint8Array(a0.default.keccak_256.arrayBuffer(r))}function d0(r){let e=ze(r.slice(2),"base16");return`0x${Qe(Av(e).slice(-20),"base16")}`}function _c(r,e=new Uint8Array(4)){let t=ze(r.toString(),"base10");return e.set(t,4-t.length),e}var Ec=r=>_i([_c(r.length),r]);function p0(r,e,t,n,i){if(e!==256)throw new Error(`Unsupported key length: ${e}`);let s=_i([Ec(ze(t)),Ec(typeof n>"u"?new Uint8Array(0):n),Ec(typeof i>"u"?new Uint8Array(0):i),_c(e)]);return(0,Sc.hash)(_i([_c(1),r,s]))}var mw=new Gi.default.ec("secp256k1");function b0(r){let e=r;if(e.length!==64)throw new Error(`bad_key: Invalid private key format. Expecting 64 bytes, but got ${e.length}`);return function(t){try{let n=typeof t=="string"?u0(t):t,i=(0,ea.sign)(e,n);return Promise.resolve(nr(i))}catch(n){return Promise.reject(n)}}}var gw=new Gi.default.ec("p256");function Dc(r){return typeof r=="object"&&"r"in r&&"s"in r}function Mv(){return function(e,t){try{return Promise.resolve(t(e)).then(function(n){return Dc(n)?h0(n):n})}catch(n){return Promise.reject(n)}}}function Yd(r){return function(t,n){try{return Promise.resolve(n(t)).then(function(i){if(Dc(i))return h0(i,r);if(r&&typeof Ev(i).recoveryParam>"u")throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return i})}catch(i){return Promise.reject(i)}}}function Wd(){return function(e,t){try{return Promise.resolve(t(e)).then(function(n){if(Dc(n))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return n})}catch(n){return Promise.reject(n)}}}var _v={ES256:Mv(),ES256K:Yd(),"ES256K-R":Yd(!0),Ed25519:Wd(),EdDSA:Wd()};function Sv(r){let e=_v[r];if(!e)throw new Error(`not_supported: Unsupported algorithm ${r}`);return e}var Ds=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ns=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Is=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Os=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Rs=[0,1518500249,1859775393,2400959708,2840853838],Bs=[1352829926,1548603684,1836072691,2053994217,0];function ui(r,e){return r<<e|r>>>32-e}function Xd(r,e,t,n,i,s,a,f){return ui(r+(e^t^n)+s+a|0,f)+i|0}function Zd(r,e,t,n,i,s,a,f){return ui(r+(e&t|~e&n)+s+a|0,f)+i|0}function Qd(r,e,t,n,i,s,a,f){return ui(r+((e|~t)^n)+s+a|0,f)+i|0}function e0(r,e,t,n,i,s,a,f){return ui(r+(e&n|t&~n)+s+a|0,f)+i|0}function t0(r,e,t,n,i,s,a,f){return ui(r+(e^(t|~n))+s+a|0,f)+i|0}var Qo=class{constructor(e=64){this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this._blockOffset=0,this._block=void 0,this._blockSize=void 0,this._length=[0,0,0,0],this._finalized=void 0,this.update=t=>{if(this._finalized)throw new Error("Digest already called");let n=this._block,i=0;for(;this._blockOffset+t.length-i>=this._blockSize;){for(let s=this._blockOffset;s<this._blockSize;)n[s++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(let s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this},this.digest=()=>{if(this._finalized)throw new Error("Digest already called");this._finalized=!0;let t=this._digest();this._block.fill(0),this._blockOffset=0;for(let n=0;n<4;++n)this._length[n]=0;return t},this._update=()=>{let t=new Array(16),n=new DataView(this._block.buffer);for(let T=0;T<16;++T)t[T]=t[T]=n.getInt32(T*4,!0);let i=this._a|0,s=this._b|0,a=this._c|0,f=this._d|0,b=this._e|0,x=this._a|0,y=this._b|0,w=this._c|0,k=this._d|0,N=this._e|0;for(let T=0;T<80;T+=1){let q,D;T<16?(q=Xd(i,s,a,f,b,t[Ds[T]],Rs[0],Is[T]),D=t0(x,y,w,k,N,t[Ns[T]],Bs[0],Os[T])):T<32?(q=Zd(i,s,a,f,b,t[Ds[T]],Rs[1],Is[T]),D=e0(x,y,w,k,N,t[Ns[T]],Bs[1],Os[T])):T<48?(q=Qd(i,s,a,f,b,t[Ds[T]],Rs[2],Is[T]),D=Qd(x,y,w,k,N,t[Ns[T]],Bs[2],Os[T])):T<64?(q=e0(i,s,a,f,b,t[Ds[T]],Rs[3],Is[T]),D=Zd(x,y,w,k,N,t[Ns[T]],Bs[3],Os[T])):(q=t0(i,s,a,f,b,t[Ds[T]],Rs[4],Is[T]),D=Xd(x,y,w,k,N,t[Ns[T]],Bs[4],Os[T])),i=b,b=f,f=ui(a,10),a=s,s=q,x=N,N=k,k=ui(w,10),w=y,y=D}let C=this._b+a+k|0;this._b=this._c+f+N|0,this._c=this._d+b+x|0,this._d=this._e+i+y|0,this._e=this._a+s+w|0,this._a=C},this._digest=()=>{this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56);let t=new DataView(this._block.buffer);t.setUint32(56,this._length[0],!0),t.setUint32(60,this._length[1],!0),this._block=new Uint8Array(t.buffer),this._update();let n=new DataView(new Uint8Array(20).buffer);return n.setInt32(0,this._a,!0),n.setInt32(4,this._b,!0),n.setInt32(8,this._c,!0),n.setInt32(12,this._d,!0),n.setInt32(16,this._e,!0),new Uint8Array(n.buffer)},this._block=new Uint8Array(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}},Tv=(r,e)=>{let t=Qe(kc(e).slice(0,1),"hex"),n=ze(r,"hex"),i=new Qo().update(ci(n)).digest(),s=t+Qe(i,"hex"),a=ci(ze(s,"hex")),f=ci(a),b=Qe(f,"hex").substring(0,8),x=s+b;return wv(ze(x,"hex"))},Cv=Gi.default.ec,kv=(r,e)=>{let n=new Cv("secp256k1").keyFromPublic(r,"hex").getPublic().encode("hex",!0),i=ze(n,"hex"),s=new Qo().update(ci(i)).digest(),a=Ac.bech32.toWords(s);return Ac.bech32.encode(e,a).replace(e,"")},Dv=(r,e)=>{if(e){let t=e.split(":");switch(t[0]){case"bip122":t[t.length-1]=Tv(r,t[t.length-1]);break;case"cosmos":t[t.length-1]=kv(r,t[1]);break;case"eip155":t[t.length-1]=d0(r);break;default:return!1}return t.join(":").toLowerCase()===e.toLowerCase()}return!1},Nc=new Gi.default.ec("secp256k1"),m0=new Gi.default.ec("p256");function Ps(r,e=!1){let t=Tt(r);if(t.length!==(e?65:64))throw new Error("wrong signature length");let n=tn(t.slice(0,32)),i=tn(t.slice(32,64)),s={r:n,s:i};return e&&(s.recoveryParam=t[64]),s}function ta(r){if(r.publicKeyBase58)return kc(r.publicKeyBase58);if(r.publicKeyBase64)return Tt(r.publicKeyBase64);if(r.publicKeyHex)return wc(r.publicKeyHex);if(r.publicKeyJwk&&r.publicKeyJwk.crv==="secp256k1"&&r.publicKeyJwk.x&&r.publicKeyJwk.y)return wc(Nc.keyFromPublic({x:tn(Tt(r.publicKeyJwk.x)),y:tn(Tt(r.publicKeyJwk.y))}).getPublic("hex"));if(r.publicKeyJwk&&r.publicKeyJwk.crv==="P-256"&&r.publicKeyJwk.x&&r.publicKeyJwk.y)return wc(m0.keyFromPublic({x:tn(Tt(r.publicKeyJwk.x)),y:tn(Tt(r.publicKeyJwk.y))}).getPublic("hex"));if(r.publicKeyJwk&&r.publicKeyJwk.kty==="OKP"&&r.publicKeyJwk.crv==="Ed25519"&&r.publicKeyJwk.x)return Tt(r.publicKeyJwk.x);if(r.publicKeyMultibase){let{base16:e,base58btc:t,base64:n,base64url:i}=Ni;return e.decoder.or(t.decoder.or(n.decoder.or(i.decoder))).decode(r.publicKeyMultibase)}return new Uint8Array}function Nv(r,e,t){let n=ci(r),i=Ps(e),a=t.filter(({ethereumAddress:f,blockchainAccountId:b})=>typeof f>"u"&&typeof b>"u").find(f=>{try{let b=ta(f);return m0.keyFromPublic(b).verify(n,i)}catch{return!1}});if(!a)throw new Error("invalid_signature: Signature invalid for JWT");return a}function Iv(r,e,t){let n=ci(r),i=Ps(e),s=t.filter(({ethereumAddress:b,blockchainAccountId:x})=>typeof b>"u"&&typeof x>"u"),a=t.filter(({ethereumAddress:b,blockchainAccountId:x})=>typeof b<"u"||typeof x<"u"),f=s.find(b=>{try{let x=ta(b);return Nc.keyFromPublic(x).verify(n,i)}catch{return!1}});if(!f&&a.length>0&&(f=g0(r,e,a)),!f)throw new Error("invalid_signature: Signature invalid for JWT");return f}function g0(r,e,t){let n;if(e.length>86)n=[Ps(e,!0)];else{let a=Ps(e,!1);n=[{...a,recoveryParam:0},{...a,recoveryParam:1}]}let i=a=>{let f=ci(r),b=Nc.recoverPubKey(f,a,a.recoveryParam),x=b.encode("hex"),y=b.encode("hex",!0),w=d0(x).toLowerCase();return t.find(N=>{var C,T,q;let D=tn(ta(N));return D===x||D===y||((C=N.ethereumAddress)==null?void 0:C.toLowerCase())===w||((T=N.blockchainAccountId)==null||(q=T.split("@eip155"))==null?void 0:q[0].toLowerCase())===w||Dv(x,N.blockchainAccountId)})},s=n.map(i).filter(a=>typeof a<"u");if(s.length===0)throw new Error("invalid_signature: Signature invalid for JWT");return s[0]}function r0(r,e,t){let n=u0(r),i=Tt(e),s=t.find(a=>(0,ea.verify)(ta(a),n,i));if(!s)throw new Error("invalid_signature: Signature invalid for JWT");return s}var Ov={ES256:Nv,ES256K:Iv,"ES256K-R":g0,Ed25519:r0,EdDSA:r0};function v0(r){let e=Ov[r];if(!e)throw new Error(`not_supported: Unsupported algorithm ${r}`);return e}v0.toSignatureObject=Ps;var y0=function(r,e,t={},n={}){try{t.alg||(t.alg=Rv);let i=typeof r=="string"?r:n0(r,n.canonicalize),s=[n0(t,n.canonicalize),i].join("."),a=Sv(t.alg);return Promise.resolve(a(s,e)).then(function(f){return[s,f].join(".")})}catch(i){return Promise.reject(i)}};var Rv="ES256K";function n0(r,e=!1){return Mc(e?(0,f0.default)(r):JSON.stringify(r))}function Bv(r){let e=r.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(e)return{header:JSON.parse(c0(e[1])),payload:e[2],signature:e[3],data:`${e[1]}.${e[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}function Pv({header:r,data:e,signature:t},n){return Array.isArray(n)||(n=[n]),v0(r.alg)(e,t,n)}function x0(r,e){let t=Bv(r);return Pv(t,e)}var i0=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function lt(r,e,t){if(!r.s){if(t instanceof hi)if(t.s)e&1&&(e=t.s),t=t.v;else{t.o=lt.bind(null,r,e);return}if(t&&t.then){t.then(lt.bind(null,r,e),lt.bind(null,r,2));return}r.s=e,r.v=t;let n=r.o;n&&n(r)}}var hi=function(){function r(){}return r.prototype.then=function(e,t){let n=new r,i=this.s;if(i){let s=i&1?e:t;if(s){try{lt(n,1,s(this.v))}catch(a){lt(n,2,a)}return n}else return this}return this.o=function(s){try{let a=s.v;s.s&1?lt(n,1,e?e(a):a):t?lt(n,1,t(a)):lt(n,2,a)}catch(a){lt(n,2,a)}},n},r}();function An(r){return r instanceof hi&&r.s&1}function Lv(r,e,t){var n=-1,i,s;function a(f){try{for(;++n<r.length&&(!t||!t());)if(f=e(n),f&&f.then)if(An(f))f=f.v;else{f.then(a,s||(s=lt.bind(null,i=new hi,2)));return}i?lt(i,1,f):i=f}catch(b){lt(i||(i=new hi),2,b)}}return a(),i}function Uv(r,e,t){if(typeof r[i0]=="function"){let y=function(w){try{for(;!(i=n.next()).done&&(!t||!t());)if(w=e(i.value),w&&w.then)if(An(w))w=w.v;else{w.then(y,a||(a=lt.bind(null,s=new hi,2)));return}s?lt(s,1,w):s=w}catch(k){lt(s||(s=new hi),2,k)}};var n=r[i0](),i,s,a;if(y(),n.return){var f=function(w){try{i.done||n.return()}catch{}return w};if(s&&s.then)return s.then(f,function(w){throw f(w)});f()}return s}if(!("length"in r))throw new TypeError("Object is not iterable");for(var b=[],x=0;x<r.length;x++)b.push(r[x]);return Lv(b,function(y){return e(b[y])},t)}function $v(r,e,t){for(var n;;){var i=r();if(An(i)&&(i=i.v),!i)return s;if(i.then){n=0;break}var s=t();if(s&&s.then)if(An(s))s=s.s;else{n=1;break}if(e){var a=e();if(a&&a.then&&!An(a)){n=2;break}}}var f=new hi,b=lt.bind(null,f,2);return(n===0?i.then(y):n===1?s.then(x):a.then(w)).then(void 0,b),f;function x(k){s=k;do{if(e&&(a=e(),a&&a.then&&!An(a))){a.then(w).then(void 0,b);return}if(i=r(),!i||An(i)&&!i.v){lt(f,1,s);return}if(i.then){i.then(y).then(void 0,b);return}s=t(),An(s)&&(s=s.v)}while(!s||!s.then);s.then(x).then(void 0,b)}function y(k){k?(s=t(),s&&s.then?s.then(x).then(void 0,b):x(s)):lt(f,1,s)}function w(){(i=r())?i.then?i.then(y).then(void 0,b):y(i):lt(f,1,s)}}function Fv(r){if(!(r.protected&&r.iv&&r.ciphertext&&r.tag))throw new Error("bad_jwe: missing properties");r.recipients&&r.recipients.map(e=>{if(!(e.header&&e.encrypted_key))throw new Error("bad_jwe: malformed recipients")})}function s0({ciphertext:r,tag:e,iv:t,protectedHeader:n,recipient:i},s){let a={protected:n,iv:nr(t),ciphertext:nr(r),tag:nr(e)};return s&&(a.aad=nr(s)),i&&(a.recipients=[i]),a}var w0=function(r,e){try{let n=function(x){if(f===null)throw new Error("failure: Failed to decrypt");return f},t;Fv(r);let i=JSON.parse(c0(r.protected));if(i.enc!==e.enc)throw new Error(`not_supported: Decrypter does not supported: '${i.enc}'`);let s=l0(r.ciphertext,r.tag),a=ze(r.aad?`${r.protected}.${r.aad}`:r.protected),f=null,b=function(){return i.alg==="dir"&&e.alg==="dir"?Promise.resolve(e.decrypt(s,Tt(r.iv),a)).then(function(x){f=x}):function(){if(!r.recipients||r.recipients.length===0)throw new Error("bad_jwe: missing recipients");{let x=0;return $v(function(){return!f&&x<r.recipients.length},function(){return x++},function(){let y=r.recipients[x];Object.assign(y.header,i);let w=function(){if(y.header.alg===e.alg)return Promise.resolve(e.decrypt(s,Tt(r.iv),a,y)).then(function(k){f=k})}();if(w&&w.then)return w.then(function(){})})}}()}();return Promise.resolve(b&&b.then?b.then(n):n(b))}catch(t){return Promise.reject(t)}},E0=function(r,e,t={},n){try{if(e[0].alg==="dir"){if(e.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(e[0].encrypt(r,t,n)).then(function(i){return s0(i,n)})}else{let i=e[0].enc;if(!e.reduce((b,x)=>b&&x.enc===i,!0))throw new Error("invalid_argument: Incompatible encrypters passed");let s,a,f=Uv(e,function(b){let x=function(){return s?Promise.resolve(b.encryptCek==null?void 0:b.encryptCek(s)).then(function(y){if(y){var w,k;(w=a)==null||(k=w.recipients)==null||k.push(y)}}):Promise.resolve(b.encrypt(r,t,n)).then(function(y){s=y.cek,a=s0(y,n)})}();if(x&&x.then)return x.then(function(){})});return Promise.resolve(f&&f.then?f.then(function(){return a}):a)}}catch(i){return Promise.reject(i)}};var A0=function(r,e){try{let t=function(i,s=[]){try{return Promise.resolve(e.resolve(i)).then(function({didResolutionMetadata:a,didDocument:f}){function b(){var w,k;let N=(w=f.keyAgreement)==null||(k=w.map(T=>typeof T=="string"?[...f.publicKey||[],...f.verificationMethod||[]].find(q=>q.id===T):T))==null?void 0:k.filter(T=>typeof T<"u"),C=N?.filter(T=>T.type==="X25519KeyAgreementKey2019"&&Boolean(T.publicKeyBase58))||[];if(!C.length&&!x.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${i}`);return C.map(T=>Hv(kc(T.publicKeyBase58),T.id)).concat(...x)}if(s.push(i),a!=null&&a.error||f==null)throw new Error(`resolver_error: Could not resolve ${i}: ${a.error}, ${a.message}`);let x=[];if(!f.controller&&!f.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${i}`);let y=function(){if(f.controller){let w=Array.isArray(f.controller)?f.controller:[f.controller];w=w.filter(N=>!s.includes(N));let k=w.map(N=>t(N,s).catch(()=>[]));return Promise.resolve(Promise.all(k)).then(function(N){x=[].concat(...N)})}}();return y&&y.then?y.then(b):b(y)})}catch(a){return Promise.reject(a)}},n=r.map(i=>t(i));return Promise.resolve(Promise.all(n)).then(function(i){return[].concat(...i)})}catch(t){return Promise.reject(t)}};function M0(r){let e=new Tc.XChaCha20Poly1305(r);return(t,n)=>{let i=(0,Cc.randomBytes)(e.nonceLength),s=e.seal(i,t,n);return{ciphertext:s.subarray(0,s.length-e.tagLength),tag:s.subarray(s.length-e.tagLength),iv:i}}}function qv(r){let e=function(s,a={},f){try{let b=Mc(JSON.stringify(Object.assign({alg:i},a,{enc:n}))),x=ze(f?`${b}.${nr(f)}`:b);return Promise.resolve({...t(s,x),protectedHeader:b})}catch(b){return Promise.reject(b)}},t=M0(r),n="XC20P",i="dir";return{alg:i,enc:n,encrypt:e}}function o0(r){let e=function(n,i,s){try{return Promise.resolve(t.open(i,n,s))}catch(a){return Promise.reject(a)}},t=new Tc.XChaCha20Poly1305(r);return{alg:"dir",enc:"XC20P",decrypt:e}}function Hv(r,e){let t=function(f,b={},x){try{Object.assign(b,{alg:void 0});let y=(0,Cc.randomBytes)(32);return Promise.resolve(qv(y).encrypt(f,b,x)).then(function(w){return Promise.resolve(n(y)).then(function(k){return{...w,recipient:k,cek:y}})})}catch(y){return Promise.reject(y)}},n=function(f){try{let b=(0,Ls.generateKeyPair)(),x=(0,Ls.sharedKey)(b.secretKey,r),y=p0(x,s,i),w=M0(y)(f),k={encrypted_key:nr(w.ciphertext),header:{alg:i,iv:nr(w.iv),tag:nr(w.tag),epk:{kty:"OKP",crv:a,x:nr(b.publicKey)}}};return e&&(k.header.kid=e),Promise.resolve(k)}catch(b){return Promise.reject(b)}},i="ECDH-ES+XC20PKW",a="X25519";return{alg:i,enc:"XC20P",encrypt:t,encryptCek:n}}function Kv(r){if(!(r&&r.epk&&r.iv&&r.tag))throw new Error("bad_jwe: malformed header")}function _0(r){let e=function(s,a,f,b){try{let w=function(){let T=p0(N,n,t),q=l0(b.encrypted_key,b.header.tag);return Promise.resolve(o0(T).decrypt(q,Tt(b.header.iv))).then(function(D){return D===null?null:o0(D).decrypt(s,a,f)})};var x,y;if(Kv((x=b)==null?void 0:x.header),b=b,((y=b.header.epk)==null?void 0:y.crv)!==i||typeof b.header.epk.x>"u")return Promise.resolve(null);let k=Tt(b.header.epk.x),N,C=function(){if(r instanceof Uint8Array)N=(0,Ls.sharedKey)(r,k);else return Promise.resolve(r(k)).then(function(T){N=T})}();return Promise.resolve(C&&C.then?C.then(w):w(C))}catch(w){return Promise.reject(w)}},t="ECDH-ES+XC20PKW",i="X25519";return{alg:t,enc:"XC20P",decrypt:e}}var U0=rt(T0(),1);var C0=Symbol("abortable"),ra=Symbol("aborted");function k0(r,e){if(e.aborted)return Promise.reject(ra);let t,n=new Promise((i,s)=>{t=s});return e.addEventListener("abort",()=>{t(ra)}),Promise.race([r,n])}var D0=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");var na="utils_abort_request";var Ot;(function(r){r[r.PARSE_ERROR=-32700]="PARSE_ERROR",r[r.INVALID_REQUEST=-32600]="INVALID_REQUEST",r[r.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",r[r.INVALID_PARAMS=-32602]="INVALID_PARAMS",r[r.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"})(Ot||(Ot={}));var N0={[Ot.PARSE_ERROR]:"Parse error",[Ot.INVALID_REQUEST]:"Invalid request",[Ot.METHOD_NOT_FOUND]:"Method not found",[Ot.INVALID_PARAMS]:"Invalid params",[Ot.INTERNAL_ERROR]:"Internal error"};function zv(r){return-32e3>=r&&r>=-32099}function ia(r){return N0[r.toString()]??(zv(r)?"Server error":"Application error")}var $t=class extends Error{static fromObject(e){return new $t(e.code,e.message,e.data)}toObject(){return{code:this.code,data:this.data,message:this.message}}constructor(e,t,n){super(),Object.setPrototypeOf(this,$t.prototype),this.code=e,this.data=n,this.message=t??ia(e)}};function Us(r){let e=N0[r];return function(n){return new $t(r,e,n)}}var jv=Us(Ot.PARSE_ERROR),Sw=Us(Ot.INVALID_REQUEST),Tw=Us(Ot.METHOD_NOT_FOUND),Cw=Us(Ot.INVALID_PARAMS),kw=Us(Ot.INTERNAL_ERROR);function Gv(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vv(r,e){return e.get?e.get.call(r):e.value}function Jv(r,e,t){if(e.set)e.set.call(r,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function I0(r,e,t){if(!e.has(r))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(r)}function Ic(r,e){var t=I0(r,e,"get");return Vv(r,t)}function Yv(r,e,t){Gv(r,e),e.set(r,t)}function Wv(r,e,t){var n=I0(r,e,"set");return Jv(r,n,t),t}var $s=new WeakMap,Fs=class{get connection(){return Ic(this,$s)}createID(){return D0()}request(e,t=void 0,n={}){let{signal:i}=n;if(i?.aborted)return Promise.reject(ra);let s=this.createID(),a=Ic(this,$s).send({jsonrpc:"2.0",id:s,method:e,params:t}).then(f=>{if(f==null)throw new Error("Missing response");if(f.error!=null)throw $t.fromObject(f.error);return f.result});return i==null?a:(i.addEventListener("abort",()=>{this.notify(na,{id:s})}),k0(a,i))}async notify(e,t=void 0){await Ic(this,$s).send({jsonrpc:"2.0",method:e,params:t})}constructor(e){Yv(this,$s,{writable:!0,value:void 0}),Wv(this,$s,e)}};function O0(r,e){return{jsonrpc:"2.0",id:r,error:{code:e,message:ia(e)}}}function Xv(r,e,t){console.warn("Unhandled handler error",e,t)}function Zv(r,e){console.warn("Unhandled invalid message",e)}function Qv(r,e){console.warn("Unhandled notification",e)}function R0(r,e={}){let t=e.onHandlerError??Xv,n=e.onInvalidMessage??Zv,i=e.onNotification??Qv,s={};function a(f,b){if(b.method===na){let x=b.params?.id;x!=null&&s[x]?.abort()}else i(f,b)}return async function(b,x){let y=x.id;if(x.jsonrpc!=="2.0"||x.method==null)return y==null?(n(b,x),null):O0(y,Ot.INVALID_REQUEST);let w=r[x.method];if(w==null)return y==null?(a(b,x),null):O0(y,Ot.METHOD_NOT_FOUND);try{let k;if(y!=null&&w[C0]){let C=new AbortController;s[y]=C,k=w(b,x.params,{signal:C.signal})}else k=w(b,x.params,{});let N=k==null?k:typeof k.then=="function"?await k:k;return y==null||s[y]?.signal.aborted?null:{jsonrpc:"2.0",id:y,result:N}}catch(k){if(y==null||s[y]?.signal.aborted)return t(b,x,k),null;let N;if(k instanceof $t)N=k.toObject();else{t(b,x,k);let C=k.code??-32e3;N={code:C,message:k.message||ia(C)}}return{jsonrpc:"2.0",id:y,error:N}}finally{y!=null&&delete s[y]}}}var e5="base64pad";function B0(r){return JSON.parse((0,U0.default)(r))}function t5(r){let e=new Uint8Array(r.length+2);return e[0]=237,e[1]=1,e.set(r,2),`did:key:z${Qe(e,"base58btc")}`}function P0(r){let[e,t,n]=r.split(".");return{payload:t,signatures:[{protected:e,signature:n}]}}var L0=async(r,e,t,n={})=>{let i=`${e}#${e.split(":")[2]}`,s=b0(t),a=B0(Object.assign(n,{kid:i,alg:"EdDSA"}));return y0(typeof r=="string"?r:B0(r),s,a)},r5={did_authenticate:async({did:r,secretKey:e},t)=>{let n=await L0({did:r,aud:t.aud,nonce:t.nonce,paths:t.paths,exp:Math.floor(Date.now()/1e3)+600},r,e);return P0(n)},did_createJWS:async({did:r,secretKey:e},t)=>{if(t.did.split("#")[0]!==r)throw new $t(4100,`Unknown DID: ${r}`);let i=await L0(t.payload,r,e,t.protected);return{jws:P0(i)}},did_decryptJWE:async({secretKey:r},e)=>{let t=_0((0,oa.convertSecretKeyToX25519)(r));try{let n=await w0(e.jwe,t);return{cleartext:Qe(n,e5)}}catch(n){throw new $t(-32e3,n.message)}}},sa=class{constructor(e){let{secretKey:t,publicKey:n}=(0,oa.generateKeyPairFromSeed)(e),i=t5(n),s=R0(r5);this._handle=async a=>await s({did:i,secretKey:t},a)}get isDidProvider(){return!0}async send(e){return await this._handle(e)}};var Gc=rt(J0(),1);go();var Bc={};Ye(Bc,{keyToDidDoc:()=>m5});function m5(r,e){let t=`did:key:${e}`,n=`${t}#${e}`;return{id:t,verificationMethod:[{id:n,type:"Secp256k1VerificationKey2018",controller:t,publicKeyBase58:Qe(r,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}var Pc={};Ye(Pc,{keyToDidDoc:()=>v5});var Y0=rt(mo(),1);function g5(r){let e=new Uint8Array(r.length+2);return e[0]=236,e[1]=1,e.set(r,2),`z${Qe(e,"base58btc")}`}function v5(r,e){let t=`did:key:${e}`,n=`${t}#${e}`,i=(0,Y0.convertPublicKeyToX25519)(r),s=`${t}#${g5(i)}`;return{id:t,verificationMethod:[{id:n,type:"Ed25519VerificationKey2018",controller:t,publicKeyBase58:Qe(r,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n],keyAgreement:[{id:s,type:"X25519KeyAgreementKey2019",controller:t,publicKeyBase58:Qe(i,"base58btc")}]}}var Kc={};Ye(Kc,{keyToDidDoc:()=>K5,pubKeyBytesToXY:()=>vp});var aa={};Ye(aa,{ECPointDecompress:()=>F5});var bp=rt(qs(),1);function R5(r){return r>=0?r:-r}function B5(r,e){if(typeof r=="number"&&(r=BigInt(r)),typeof e=="number"&&(e=BigInt(e)),r<=0n||e<=0n)throw new RangeError("a and b MUST be > 0");let t=0n,n=1n,i=1n,s=0n;for(;r!==0n;){let a=e/r,f=e%r,b=t-i*a,x=n-s*a;e=r,r=f,t=i,n=s,i=b,s=x}return{g:e,x:t,y:n}}function $c(r,e){if(typeof r=="number"&&(r=BigInt(r)),typeof e=="number"&&(e=BigInt(e)),e<=0n)throw new RangeError("n must be > 0");let t=r%e;return t<0n?t+e:t}function P5(r,e){let t=B5($c(r,e),e);if(t.g!==1n)throw new RangeError(`${r.toString()} does not have inverse modulo ${e.toString()}`);return $c(t.x,e)}function li(r,e,t){if(typeof r=="number"&&(r=BigInt(r)),typeof e=="number"&&(e=BigInt(e)),typeof t=="number"&&(t=BigInt(t)),t<=0n)throw new RangeError("n must be > 0");if(t===1n)return 0n;if(r=$c(r,t),e<0n)return P5(li(r,R5(e),t),t);let n=1n;for(;e>0;)e%2n===1n&&(n=n*r%t),e=e/2n,r=r**2n%t;return n}var ut={};Ye(ut,{pubKeyBytesToHex:()=>L5,publicKeyHexToUint8ArrayPointPair:()=>dp,publicKeyIntToUint8ArrayPointPair:()=>pp,publicKeyIntToXY:()=>$5,publicKeyToXY:()=>U5,testHexString:()=>qc,testUint8Array:()=>Mn});var di=rt(qs(),1);vo();function L5(r){if(!Mn(r))throw new TypeError("input must be a Uint8Array");return di.toString(r,"base16")}function U5(r){if(!qc(r))throw new TypeError("input must be string with characters 0-9,A-F,a-f");let e=dp(r),t=Xn.encode(e.xOctet).slice(1),n=Xn.encode(e.yOctet).slice(1);return{xm:t,ym:n}}function dp(r){if(!qc(r))throw new TypeError("input must be string with characters 0-9,A-F,a-f");let e=r.slice(0,r.length/2),t=r.slice(r.length/2,r.length),n=di.fromString(e,"base16"),i=di.fromString(t,"base16");return{xOctet:n,yOctet:i}}function qc(r){let e=/^[A-Fa-f0-9]+$/i;return!!(e.exec(r)!==null&&e.test(r)&&typeof r=="string")}function Mn(r){return r==null?!1:r.constructor===Uint8Array}function $5(r){if(r==null)throw new TypeError("input cannot be null or undefined.");if(typeof r!="object")throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(r,"x")||!Object.prototype.hasOwnProperty.call(r,"y"))throw new Error("Input must have properties x and y");if(typeof r.x!="bigint"&&typeof r.y!="bigint")throw new Error("Input coordinates must be BigInt");let e=pp(r),t=Xn.encode(e.xOctet).slice(1),n=Xn.encode(e.yOctet).slice(1);return{xm:t,ym:n}}function pp(r){if(r==null)throw new TypeError("input cannot be null or undefined.");if(typeof r!="object")throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(r,"x")||!Object.prototype.hasOwnProperty.call(r,"y"))throw new Error("Input must have properties x and y");if(typeof r.x!="bigint"&&typeof r.y!="bigint")throw new Error("Input coordinates must be BigInt");let e=r.x.toString(),t=r.y.toString(),n=di.fromString(e,"base10"),i=di.fromString(t,"base10");return{xOctet:n,yOctet:i}}function F5(r){if(!Mn(r))throw new TypeError("input must be a Uint8Array");let e=BigInt(2),t=e**256n-e**224n+e**192n+e**96n-1n,n=41058363725152142129326129780047268409114441015993725554835256314039467401291n,i=(t+1n)/4n,s=BigInt(r[0]-2),a=r.subarray(1),f=BigInt(bp.toString(a,"base10")),b=f**3n-f*3n+n,x=li(b,i,t);return x%2n!==s&&(x=t-x),{x:f,y:x}}var fa={};Ye(fa,{ECPointDecompress:()=>q5});var mp=rt(qs(),1);function q5(r){if(!Mn(r))throw new TypeError("input must be a Uint8Array");let e=BigInt(2),t=e**384n-e**128n-e**96n+e**32n-1n,n=27580193559959705877849011840389048093056905856361568521428707301988689241309860865136260764883745107765439761230575n,i=(t+1n)/4n,s=BigInt(r[0]-2),a=r.subarray(1),f=BigInt(mp.toString(a,"base10")),b=f**3n-f*3n+n,x=li(b,i,t);return x%2n!==s&&(x=t-x),{x:f,y:x}}var ca={};Ye(ca,{ECPointDecompress:()=>H5});var gp=rt(qs(),1);function H5(r){if(!Mn(r))throw new TypeError("input must be a Uint8Array");let t=BigInt(2)**521n-1n,n=1093849038073734274511112390766805569936207598951683748994586394495953116150735016013708737573759623248592132296706313309438452531591012912142327488478985984n,i=(t+1n)/4n,s=BigInt(r[0]-2),a=r.subarray(1),f=BigInt(gp.toString(a,"base10")),b=f**3n-f*3n+n,x=li(b,i,t);return x%2n!==s&&(x=t-x),{x:f,y:x}}function K5(r,e){let t=`did:key:${e}`,n=`${t}#${e}`,i=vp(r);return{id:t,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:t,publicKeyJwk:{kty:"EC",crv:"P-256",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function vp(r){if(!ut.testUint8Array(r))throw new TypeError("input must be a Uint8Array");let e=ut.pubKeyBytesToHex(r),t=e.length/2;if(t==64)return ut.publicKeyToXY(e);if(t==65&&e.slice(0,2)=="04"){let n=e.slice(2);return ut.publicKeyToXY(n)}if(t==33&&(e.slice(0,2)=="03"||e.slice(0,2)=="02")){let n=ze(e,"base16"),i=aa.ECPointDecompress(n);return ut.publicKeyIntToXY(i)}throw new Error("Unexpected pubKeyBytes")}var zc={};Ye(zc,{keyToDidDoc:()=>z5,pubKeyBytesToXY:()=>yp});function z5(r,e){let t=`did:key:${e}`,n=`${t}#${e}`,i=yp(r);return{id:t,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:t,publicKeyJwk:{kty:"EC",crv:"P-384",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function yp(r){if(!ut.testUint8Array(r))throw new TypeError("input must be a Uint8Array");let e=ut.pubKeyBytesToHex(r),t=e.length/2;if(t==96)return ut.publicKeyToXY(e);if(t==97&&e.slice(0,2)=="04"){let n=e.slice(2);return ut.publicKeyToXY(n)}if(t==49&&(e.slice(0,2)=="03"||e.slice(0,2)=="02")){let n=ze(e,"base16"),i=fa.ECPointDecompress(n);return ut.publicKeyIntToXY(i)}throw new Error("Unexpected pubKeyBytes")}var jc={};Ye(jc,{keyToDidDoc:()=>j5,pubKeyBytesToXY:()=>xp});function j5(r,e){let t=`did:key:${e}`,n=`${t}#${e}`,i=xp(r);return{id:t,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:t,publicKeyJwk:{kty:"EC",crv:"P-521",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function xp(r){if(!ut.testUint8Array(r))throw new TypeError("input must be a Uint8Array");let e=ut.pubKeyBytesToHex(r);if(132<=e.length&&e.length<=134&&(e.slice(0,2)=="03"||e.slice(0,2)=="02")){let t=ze(e,"base16"),n=ca.ECPointDecompress(t);return ut.publicKeyIntToXY(n)}throw new Error("Unexpected pubKeyBytes")}var G5="application/did+ld+json",wp="application/did+json",V5={231:Bc,237:Pc,4608:Kc,4609:zc,4610:jc};function J5(){return{key:async(r,e,t,n)=>{let i=n.accept||wp,s={didResolutionMetadata:{contentType:i},didDocument:null,didDocumentMetadata:{}};try{let a=Qt.decode(e.id),f=Gc.default.decode(a),b=a.slice(Gc.default.decode.bytes),x=await V5[f].keyToDidDoc(b,e.id);i===G5?(x["@context"]="https://w3id.org/did/v1",s.didDocument=x):i===wp?s.didDocument=x:(delete s.didResolutionMetadata.contentType,s.didResolutionMetadata.error="representationNotSupported")}catch(a){s.didResolutionMetadata.error="invalidDid",s.didResolutionMetadata.message=a.toString()}return s}}}var Ep={getResolver:J5};var Ku=rt(cn(),1);function Y5(r,e){try{var t=r()}catch(n){return e(n)}return t&&t.then?t.then(void 0,e):t}function W5(){let r=new Map;return function(e,t){try{let i=function(a){if(n)return a;let f=r.get(e.didUrl);return f!==void 0?f:Promise.resolve(t()).then(function(b){var x;return((x=b.didResolutionMetadata)==null?void 0:x.error)!=="notFound"&&r.set(e.didUrl,b),b})},n,s=function(){if(e.params&&e.params["no-cache"]==="true")return Promise.resolve(t()).then(function(a){return n=1,a})}();return Promise.resolve(s&&s.then?s.then(i):i(s))}catch(n){return Promise.reject(n)}}}function X5(r,e){return e()}var Z5="(?:%[0-9a-fA-F]{2})",Ap=`(?:[a-zA-Z0-9._-]|${Z5})`,Q5="([a-z0-9]+)",e4=`((?:${Ap}*:)*(${Ap}+))`,Mp="[a-zA-Z0-9_.:%-]",t4=`;${Mp}+=${Mp}*`,r4=`((${t4})*)`,n4="(/[^#?]*)?",i4="([?][^#]*)?",s4="(#.*)?",o4=new RegExp(`^did:${Q5}:${e4}${r4}${n4}${i4}${s4}$`);function a4(r){if(r===""||!r)return null;let e=r.match(o4);if(e){let t={did:`did:${e[1]}:${e[2]}`,method:e[1],id:e[2],didUrl:r};if(e[4]){let n=e[4].slice(1).split(";");t.params={};for(let i of n){let s=i.split("=");t.params[s[0]]=s[1]}}return e[6]&&(t.path=e[6]),e[7]&&(t.query=e[7].slice(1)),e[8]&&(t.fragment=e[8].slice(1)),t}return null}var ua={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};function f4(r){return function(e,t,n){try{return Promise.resolve(Y5(function(){return Promise.resolve(r(e,t,n)).then(function(i){return{...ua,didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:i}})},function(i){return{...ua,didResolutionMetadata:{error:"notFound",message:i.toString()}}}))}catch(i){return Promise.reject(i)}}}var ha=class{constructor(e={},t={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=t.cache===!0?W5():t.cache||X5,t.legacyResolvers&&Object.keys(t.legacyResolvers).map(n=>{this.registry[n]||(this.registry[n]=f4(t.legacyResolvers[n]))})}resolve(e,t={}){try{let n=this,i=a4(e);if(i===null)return Promise.resolve({...ua,didResolutionMetadata:{error:"invalidDid"}});let s=n.registry[i.method];return s?Promise.resolve(n.cache(i,()=>s(i.did,i,n,t))):Promise.resolve({...ua,didResolutionMetadata:{error:"unsupportedDidMethod"}})}catch(n){return Promise.reject(n)}}};Uf();var la=({enumerable:r=!0,configurable:e=!1}={})=>({enumerable:r,configurable:e,writable:!1}),Vc=function*(r,e){if(r!=null&&!(r instanceof Uint8Array))for(let[t,n]of Object.entries(r)){let i=[...e,t];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let[s,a]of n.entries()){let f=[...i,s],b=Ke.asCID(a);b?yield[f.join("/"),b]:typeof a=="object"&&(yield*Vc(a,f))}else{let s=Ke.asCID(n);s?yield[i.join("/"),s]:yield*Vc(n,i)}}},Jc=function*(r,e){if(r!=null)for(let[t,n]of Object.entries(r)){let i=[...e,t];if(yield i.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!Ke.asCID(n))if(Array.isArray(n))for(let[s,a]of n.entries()){let f=[...i,s];yield f.join("/"),typeof a=="object"&&!Ke.asCID(a)&&(yield*Jc(a,f))}else yield*Jc(n,i)}},c4=(r,e)=>{let t=r;for(let[n,i]of e.entries()){if(t=t[i],t==null)throw new Error(`Object has no property at ${e.slice(0,n+1).map(a=>`[${JSON.stringify(a)}]`).join("")}`);let s=Ke.asCID(t);if(s)return{value:s,remaining:e.slice(n+1).join("/")}}return{value:t}},da=class{constructor({cid:e,bytes:t,value:n}){if(!e||!t||typeof n>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:la(),bytes:la(),value:la(),asBlock:la()})}links(){return Vc(this.value,[])}tree(){return Jc(this.value,[])}get(e="/"){return c4(this.value,e.split("/").filter(Boolean))}},Hs=async({value:r,codec:e,hasher:t})=>{if(typeof r>"u")throw new Error('Missing required argument "value"');if(!e||!t)throw new Error("Missing required argument: codec or hasher");let n=e.encode(r),i=await t.digest(n),s=Ke.create(1,e.code,i);return new da({value:r,bytes:n,cid:s})},_p=async({bytes:r,codec:e,hasher:t})=>{if(!r)throw new Error('Missing required argument "bytes"');if(!e||!t)throw new Error("Missing required argument: codec or hasher");let n=e.decode(r),i=await t.digest(r),s=Ke.create(1,e.code,i);return new da({value:n,bytes:r,cid:s})};gs();Ao();Bf();vo();var bi={};Ye(bi,{code:()=>su,decode:()=>ou,encode:()=>G4,name:()=>j4});var u4=["string","number","bigint","symbol"],h4=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Tp(r){if(r===null)return"null";if(r===void 0)return"undefined";if(r===!0||r===!1)return"boolean";let e=typeof r;if(u4.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(r))return"Array";if(l4(r))return"Buffer";let t=d4(r);return t||"Object"}function l4(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}function d4(r){let e=Object.prototype.toString.call(r).slice(8,-1);if(h4.includes(e))return e}var fe=class{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};fe.uint=new fe(0,"uint",!0);fe.negint=new fe(1,"negint",!0);fe.bytes=new fe(2,"bytes",!0);fe.string=new fe(3,"string",!0);fe.array=new fe(4,"array",!1);fe.map=new fe(5,"map",!1);fe.tag=new fe(6,"tag",!1);fe.float=new fe(7,"float",!0);fe.false=new fe(7,"false",!0);fe.true=new fe(7,"true",!0);fe.null=new fe(7,"null",!0);fe.undefined=new fe(7,"undefined",!0);fe.break=new fe(7,"break",!0);var ve=class{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var Vi=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",p4=new TextDecoder,b4=new TextEncoder;function pa(r){return Vi&&globalThis.Buffer.isBuffer(r)}function Yc(r){return r instanceof Uint8Array?pa(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}var Np=Vi?(r,e,t)=>t-e>64?globalThis.Buffer.from(r.subarray(e,t)).toString("utf8"):kp(r,e,t):(r,e,t)=>t-e>64?p4.decode(r.subarray(e,t)):kp(r,e,t),Ip=Vi?r=>r.length>64?globalThis.Buffer.from(r):Cp(r):r=>r.length>64?b4.encode(r):Cp(r),Ur=r=>Uint8Array.from(r),Ji=Vi?(r,e,t)=>pa(r)?new Uint8Array(r.subarray(e,t)):r.slice(e,t):(r,e,t)=>r.slice(e,t),Op=Vi?(r,e)=>(r=r.map(t=>t instanceof Uint8Array?t:globalThis.Buffer.from(t)),Yc(globalThis.Buffer.concat(r,e))):(r,e)=>{let t=new Uint8Array(e),n=0;for(let i of r)n+i.length>t.length&&(i=i.subarray(0,t.length-n)),t.set(i,n),n+=i.length;return t},Rp=Vi?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function Bp(r,e){if(pa(r)&&pa(e))return r.compare(e);for(let t=0;t<r.length;t++)if(r[t]!==e[t])return r[t]<e[t]?-1:1;return 0}function Cp(r,e=1/0){let t,n=r.length,i=null,s=[];for(let a=0;a<n;++a){if(t=r.charCodeAt(a),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function kp(r,e,t){let n=[];for(;e<t;){let i=r[e],s=null,a=i>239?4:i>223?3:i>191?2:1;if(e+a<=t){let f,b,x,y;switch(a){case 1:i<128&&(s=i);break;case 2:f=r[e+1],(f&192)===128&&(y=(i&31)<<6|f&63,y>127&&(s=y));break;case 3:f=r[e+1],b=r[e+2],(f&192)===128&&(b&192)===128&&(y=(i&15)<<12|(f&63)<<6|b&63,y>2047&&(y<55296||y>57343)&&(s=y));break;case 4:f=r[e+1],b=r[e+2],x=r[e+3],(f&192)===128&&(b&192)===128&&(x&192)===128&&(y=(i&15)<<18|(f&63)<<12|(b&63)<<6|x&63,y>65535&&y<1114112&&(s=y))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),e+=a}return m4(n)}var Dp=4096;function m4(r){let e=r.length;if(e<=Dp)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Dp));return t}var g4=256,Ks=class{constructor(e=g4){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let i=t.length-(this.maxCursor-this.cursor)-1;t.set(e,i)}else{if(t){let i=t.length-(this.maxCursor-this.cursor)-1;i<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Rp(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Ji(n,0,this.cursor)}else t=Op(this.chunks,this.cursor);return e&&this.reset(),t}};var $e="CBOR decode error:",Wc="CBOR encode error:",zs=[];zs[23]=1;zs[24]=2;zs[25]=3;zs[26]=5;zs[27]=9;function rn(r,e,t){if(r.length-e<t)throw new Error(`${$e} not enough data for type`)}var mt=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Ft(r,e,t){rn(r,e,1);let n=r[e];if(t.strict===!0&&n<mt[0])throw new Error(`${$e} integer encoded in more bytes than necessary (strict decode)`);return n}function qt(r,e,t){rn(r,e,2);let n=r[e]<<8|r[e+1];if(t.strict===!0&&n<mt[1])throw new Error(`${$e} integer encoded in more bytes than necessary (strict decode)`);return n}function Ht(r,e,t){rn(r,e,4);let n=r[e]*16777216+(r[e+1]<<16)+(r[e+2]<<8)+r[e+3];if(t.strict===!0&&n<mt[2])throw new Error(`${$e} integer encoded in more bytes than necessary (strict decode)`);return n}function Kt(r,e,t){rn(r,e,8);let n=r[e]*16777216+(r[e+1]<<16)+(r[e+2]<<8)+r[e+3],i=r[e+4]*16777216+(r[e+5]<<16)+(r[e+6]<<8)+r[e+7],s=(BigInt(n)<<BigInt(32))+BigInt(i);if(t.strict===!0&&s<mt[3])throw new Error(`${$e} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(t.allowBigInt===!0)return s;throw new Error(`${$e} integers outside of the safe integer range are not supported`)}function Pp(r,e,t,n){return new ve(fe.uint,Ft(r,e+1,n),2)}function Lp(r,e,t,n){return new ve(fe.uint,qt(r,e+1,n),3)}function Up(r,e,t,n){return new ve(fe.uint,Ht(r,e+1,n),5)}function $p(r,e,t,n){return new ve(fe.uint,Kt(r,e+1,n),9)}function ir(r,e){return wt(r,0,e.value)}function wt(r,e,t){if(t<mt[0]){let n=Number(t);r.push([e|n])}else if(t<mt[1]){let n=Number(t);r.push([e|24,n])}else if(t<mt[2]){let n=Number(t);r.push([e|25,n>>>8,n&255])}else if(t<mt[3]){let n=Number(t);r.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(t);if(n<mt[4]){let i=[e|27,0,0,0,0,0,0,0],s=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=s&255,s=s>>8,i[7]=s&255,s=s>>8,i[6]=s&255,s=s>>8,i[5]=s&255,i[4]=a&255,a=a>>8,i[3]=a&255,a=a>>8,i[2]=a&255,a=a>>8,i[1]=a&255,r.push(i)}else throw new Error(`${$e} encountered BigInt larger than allowable range`)}}ir.encodedSize=function(e){return wt.encodedSize(e.value)};wt.encodedSize=function(e){return e<mt[0]?1:e<mt[1]?2:e<mt[2]?3:e<mt[3]?5:9};ir.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};function Fp(r,e,t,n){return new ve(fe.negint,-1-Ft(r,e+1,n),2)}function qp(r,e,t,n){return new ve(fe.negint,-1-qt(r,e+1,n),3)}function Hp(r,e,t,n){return new ve(fe.negint,-1-Ht(r,e+1,n),5)}var Xc=BigInt(-1),Kp=BigInt(1);function zp(r,e,t,n){let i=Kt(r,e+1,n);if(typeof i!="bigint"){let s=-1-i;if(s>=Number.MIN_SAFE_INTEGER)return new ve(fe.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${$e} integers outside of the safe integer range are not supported`);return new ve(fe.negint,Xc-BigInt(i),9)}function ba(r,e){let t=e.value,n=typeof t=="bigint"?t*Xc-Kp:t*-1-1;wt(r,e.type.majorEncoded,n)}ba.encodedSize=function(e){let t=e.value,n=typeof t=="bigint"?t*Xc-Kp:t*-1-1;return n<mt[0]?1:n<mt[1]?2:n<mt[2]?3:n<mt[3]?5:9};ba.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};function js(r,e,t,n){rn(r,e,t+n);let i=Ji(r,e+t,e+t+n);return new ve(fe.bytes,i,t+n)}function jp(r,e,t,n){return js(r,e,1,t)}function Gp(r,e,t,n){return js(r,e,2,Ft(r,e+1,n))}function Vp(r,e,t,n){return js(r,e,3,qt(r,e+1,n))}function Jp(r,e,t,n){return js(r,e,5,Ht(r,e+1,n))}function Yp(r,e,t,n){let i=Kt(r,e+1,n);if(typeof i=="bigint")throw new Error(`${$e} 64-bit integer bytes lengths not supported`);return js(r,e,9,i)}function ma(r){return r.encodedBytes===void 0&&(r.encodedBytes=r.type===fe.string?Ip(r.value):r.value),r.encodedBytes}function Yi(r,e){let t=ma(e);wt(r,e.type.majorEncoded,t.length),r.push(t)}Yi.encodedSize=function(e){let t=ma(e);return wt.encodedSize(t.length)+t.length};Yi.compareTokens=function(e,t){return y4(ma(e),ma(t))};function y4(r,e){return r.length<e.length?-1:r.length>e.length?1:Bp(r,e)}function Gs(r,e,t,n,i){let s=t+n;rn(r,e,s);let a=new ve(fe.string,Np(r,e+t,e+s),s);return i.retainStringBytes===!0&&(a.byteValue=Ji(r,e+t,e+s)),a}function Wp(r,e,t,n){return Gs(r,e,1,t,n)}function Xp(r,e,t,n){return Gs(r,e,2,Ft(r,e+1,n),n)}function Zp(r,e,t,n){return Gs(r,e,3,qt(r,e+1,n),n)}function Qp(r,e,t,n){return Gs(r,e,5,Ht(r,e+1,n),n)}function e1(r,e,t,n){let i=Kt(r,e+1,n);if(typeof i=="bigint")throw new Error(`${$e} 64-bit integer string lengths not supported`);return Gs(r,e,9,i,n)}var t1=Yi;function Wi(r,e,t,n){return new ve(fe.array,n,t)}function r1(r,e,t,n){return Wi(r,e,1,t)}function n1(r,e,t,n){return Wi(r,e,2,Ft(r,e+1,n))}function i1(r,e,t,n){return Wi(r,e,3,qt(r,e+1,n))}function s1(r,e,t,n){return Wi(r,e,5,Ht(r,e+1,n))}function o1(r,e,t,n){let i=Kt(r,e+1,n);if(typeof i=="bigint")throw new Error(`${$e} 64-bit integer array lengths not supported`);return Wi(r,e,9,i)}function a1(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${$e} indefinite length items not allowed`);return Wi(r,e,1,1/0)}function ga(r,e){wt(r,fe.array.majorEncoded,e.value)}ga.compareTokens=ir.compareTokens;ga.encodedSize=function(e){return wt.encodedSize(e.value)};function Xi(r,e,t,n){return new ve(fe.map,n,t)}function f1(r,e,t,n){return Xi(r,e,1,t)}function c1(r,e,t,n){return Xi(r,e,2,Ft(r,e+1,n))}function u1(r,e,t,n){return Xi(r,e,3,qt(r,e+1,n))}function h1(r,e,t,n){return Xi(r,e,5,Ht(r,e+1,n))}function l1(r,e,t,n){let i=Kt(r,e+1,n);if(typeof i=="bigint")throw new Error(`${$e} 64-bit integer map lengths not supported`);return Xi(r,e,9,i)}function d1(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${$e} indefinite length items not allowed`);return Xi(r,e,1,1/0)}function va(r,e){wt(r,fe.map.majorEncoded,e.value)}va.compareTokens=ir.compareTokens;va.encodedSize=function(e){return wt.encodedSize(e.value)};function p1(r,e,t,n){return new ve(fe.tag,t,1)}function b1(r,e,t,n){return new ve(fe.tag,Ft(r,e+1,n),2)}function m1(r,e,t,n){return new ve(fe.tag,qt(r,e+1,n),3)}function g1(r,e,t,n){return new ve(fe.tag,Ht(r,e+1,n),5)}function v1(r,e,t,n){return new ve(fe.tag,Kt(r,e+1,n),9)}function ya(r,e){wt(r,fe.tag.majorEncoded,e.value)}ya.compareTokens=ir.compareTokens;ya.encodedSize=function(e){return wt.encodedSize(e.value)};var _4=20,S4=21,T4=22,C4=23;function y1(r,e,t,n){if(n.allowUndefined===!1)throw new Error(`${$e} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new ve(fe.null,null,1):new ve(fe.undefined,void 0,1)}function x1(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${$e} indefinite length items not allowed`);return new ve(fe.break,void 0,1)}function Zc(r,e,t){if(t){if(t.allowNaN===!1&&Number.isNaN(r))throw new Error(`${$e} NaN values are not supported`);if(t.allowInfinity===!1&&(r===1/0||r===-1/0))throw new Error(`${$e} Infinity values are not supported`)}return new ve(fe.float,r,e)}function w1(r,e,t,n){return Zc(Qc(r,e+1),3,n)}function E1(r,e,t,n){return Zc(eu(r,e+1),5,n)}function A1(r,e,t,n){return Zc(T1(r,e+1),9,n)}function xa(r,e,t){let n=e.value;if(n===!1)r.push([fe.float.majorEncoded|_4]);else if(n===!0)r.push([fe.float.majorEncoded|S4]);else if(n===null)r.push([fe.float.majorEncoded|T4]);else if(n===void 0)r.push([fe.float.majorEncoded|C4]);else{let i,s=!1;(!t||t.float64!==!0)&&(_1(n),i=Qc(mr,1),n===i||Number.isNaN(n)?(mr[0]=249,r.push(mr.slice(0,3)),s=!0):(S1(n),i=eu(mr,1),n===i&&(mr[0]=250,r.push(mr.slice(0,5)),s=!0))),s||(k4(n),i=T1(mr,1),mr[0]=251,r.push(mr.slice(0,9)))}}xa.encodedSize=function(e,t){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!t||t.float64!==!0){_1(n);let i=Qc(mr,1);if(n===i||Number.isNaN(n))return 3;if(S1(n),i=eu(mr,1),n===i)return 5}return 9};var M1=new ArrayBuffer(9),sr=new DataView(M1,1),mr=new Uint8Array(M1,0);function _1(r){if(r===1/0)sr.setUint16(0,31744,!1);else if(r===-1/0)sr.setUint16(0,64512,!1);else if(Number.isNaN(r))sr.setUint16(0,32256,!1);else{sr.setFloat32(0,r);let e=sr.getUint32(0),t=(e&2139095040)>>23,n=e&8388607;if(t===255)sr.setUint16(0,31744,!1);else if(t===0)sr.setUint16(0,(r&2147483648)>>16|n>>13,!1);else{let i=t-127;i<-24?sr.setUint16(0,0):i<-14?sr.setUint16(0,(e&2147483648)>>16|1<<24+i,!1):sr.setUint16(0,(e&2147483648)>>16|i+15<<10|n>>13,!1)}}}function Qc(r,e){if(r.length-e<2)throw new Error(`${$e} not enough data for float16`);let t=(r[e]<<8)+r[e+1];if(t===31744)return 1/0;if(t===64512)return-1/0;if(t===32256)return NaN;let n=t>>10&31,i=t&1023,s;return n===0?s=i*2**-24:n!==31?s=(i+1024)*2**(n-25):s=i===0?1/0:NaN,t&32768?-s:s}function S1(r){sr.setFloat32(0,r,!1)}function eu(r,e){if(r.length-e<4)throw new Error(`${$e} not enough data for float32`);let t=(r.byteOffset||0)+e;return new DataView(r.buffer,t,4).getFloat32(0,!1)}function k4(r){sr.setFloat64(0,r,!1)}function T1(r,e){if(r.length-e<8)throw new Error(`${$e} not enough data for float64`);let t=(r.byteOffset||0)+e;return new DataView(r.buffer,t,8).getFloat64(0,!1)}xa.compareTokens=ir.compareTokens;function Ge(r,e,t){throw new Error(`${$e} encountered invalid minor (${t}) for major ${r[e]>>>5}`)}function wa(r){return()=>{throw new Error(`${$e} ${r}`)}}var be=[];for(let r=0;r<=23;r++)be[r]=Ge;be[24]=Pp;be[25]=Lp;be[26]=Up;be[27]=$p;be[28]=Ge;be[29]=Ge;be[30]=Ge;be[31]=Ge;for(let r=32;r<=55;r++)be[r]=Ge;be[56]=Fp;be[57]=qp;be[58]=Hp;be[59]=zp;be[60]=Ge;be[61]=Ge;be[62]=Ge;be[63]=Ge;for(let r=64;r<=87;r++)be[r]=jp;be[88]=Gp;be[89]=Vp;be[90]=Jp;be[91]=Yp;be[92]=Ge;be[93]=Ge;be[94]=Ge;be[95]=wa("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)be[r]=Wp;be[120]=Xp;be[121]=Zp;be[122]=Qp;be[123]=e1;be[124]=Ge;be[125]=Ge;be[126]=Ge;be[127]=wa("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)be[r]=r1;be[152]=n1;be[153]=i1;be[154]=s1;be[155]=o1;be[156]=Ge;be[157]=Ge;be[158]=Ge;be[159]=a1;for(let r=160;r<=183;r++)be[r]=f1;be[184]=c1;be[185]=u1;be[186]=h1;be[187]=l1;be[188]=Ge;be[189]=Ge;be[190]=Ge;be[191]=d1;for(let r=192;r<=215;r++)be[r]=p1;be[216]=b1;be[217]=m1;be[218]=g1;be[219]=v1;be[220]=Ge;be[221]=Ge;be[222]=Ge;be[223]=Ge;for(let r=224;r<=243;r++)be[r]=wa("simple values are not supported");be[244]=Ge;be[245]=Ge;be[246]=Ge;be[247]=y1;be[248]=wa("simple values are not supported");be[249]=w1;be[250]=E1;be[251]=A1;be[252]=Ge;be[253]=Ge;be[254]=Ge;be[255]=x1;var gr=[];for(let r=0;r<24;r++)gr[r]=new ve(fe.uint,r,1);for(let r=-1;r>=-24;r--)gr[31-r]=new ve(fe.negint,r,1);gr[64]=new ve(fe.bytes,new Uint8Array(0),1);gr[96]=new ve(fe.string,"",1);gr[128]=new ve(fe.array,0,1);gr[160]=new ve(fe.map,0,1);gr[244]=new ve(fe.false,!1,1);gr[245]=new ve(fe.true,!0,1);gr[246]=new ve(fe.null,null,1);function C1(r){switch(r.type){case fe.false:return Ur([244]);case fe.true:return Ur([245]);case fe.null:return Ur([246]);case fe.bytes:return r.value.length?void 0:Ur([64]);case fe.string:return r.value===""?Ur([96]):void 0;case fe.array:return r.value===0?Ur([128]):void 0;case fe.map:return r.value===0?Ur([160]):void 0;case fe.uint:return r.value<24?Ur([Number(r.value)]):void 0;case fe.negint:if(r.value>=-24)return Ur([31-Number(r.value)])}}var N4={float64:!1,mapSorter:R4,quickEncodeToken:C1};function I4(){let r=[];return r[fe.uint.major]=ir,r[fe.negint.major]=ba,r[fe.bytes.major]=Yi,r[fe.string.major]=t1,r[fe.array.major]=ga,r[fe.map.major]=va,r[fe.tag.major]=ya,r[fe.float.major]=xa,r}var k1=I4(),tu=new Ks,Zi=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${Wc} object contains circular references`);return new Zi(t,e)}},_n={null:new ve(fe.null,null),undefined:new ve(fe.undefined,void 0),true:new ve(fe.true,!0),false:new ve(fe.false,!1),emptyArray:new ve(fe.array,0),emptyMap:new ve(fe.map,0)},Sn={number(r,e,t,n){return!Number.isInteger(r)||!Number.isSafeInteger(r)?new ve(fe.float,r):r>=0?new ve(fe.uint,r):new ve(fe.negint,r)},bigint(r,e,t,n){return r>=BigInt(0)?new ve(fe.uint,r):new ve(fe.negint,r)},Uint8Array(r,e,t,n){return new ve(fe.bytes,r)},string(r,e,t,n){return new ve(fe.string,r)},boolean(r,e,t,n){return r?_n.true:_n.false},null(r,e,t,n){return _n.null},undefined(r,e,t,n){return _n.undefined},ArrayBuffer(r,e,t,n){return new ve(fe.bytes,new Uint8Array(r))},DataView(r,e,t,n){return new ve(fe.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength))},Array(r,e,t,n){if(!r.length)return t.addBreakTokens===!0?[_n.emptyArray,new ve(fe.break)]:_n.emptyArray;n=Zi.createCheck(n,r);let i=[],s=0;for(let a of r)i[s++]=Ea(a,t,n);return t.addBreakTokens?[new ve(fe.array,r.length),i,new ve(fe.break)]:[new ve(fe.array,r.length),i]},Object(r,e,t,n){let i=e!=="Object",s=i?r.keys():Object.keys(r),a=i?r.size:s.length;if(!a)return t.addBreakTokens===!0?[_n.emptyMap,new ve(fe.break)]:_n.emptyMap;n=Zi.createCheck(n,r);let f=[],b=0;for(let x of s)f[b++]=[Ea(x,t,n),Ea(i?r.get(x):r[x],t,n)];return O4(f,t),t.addBreakTokens?[new ve(fe.map,a),f,new ve(fe.break)]:[new ve(fe.map,a),f]}};Sn.Map=Sn.Object;Sn.Buffer=Sn.Uint8Array;for(let r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Sn[`${r}Array`]=Sn.DataView;function Ea(r,e={},t){let n=Tp(r),i=e&&e.typeEncoders&&e.typeEncoders[n]||Sn[n];if(typeof i=="function"){let a=i(r,n,e,t);if(a!=null)return a}let s=Sn[n];if(!s)throw new Error(`${Wc} unsupported type: ${n}`);return s(r,n,e,t)}function O4(r,e){e.mapSorter&&r.sort(e.mapSorter)}function R4(r,e){let t=Array.isArray(r[0])?r[0][0]:r[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(t.type!==n.type)return t.type.compare(n.type);let i=t.type.major,s=k1[i].compareTokens(t,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function D1(r,e,t,n){if(Array.isArray(e))for(let i of e)D1(r,i,t,n);else t[e.type.major](r,e,n)}function B4(r,e,t){let n=Ea(r,t);if(!Array.isArray(n)&&t.quickEncodeToken){let i=t.quickEncodeToken(n);if(i)return i;let s=e[n.type.major];if(s.encodedSize){let a=s.encodedSize(n,t),f=new Ks(a);if(s(f,n,t),f.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Yc(f.chunks[0])}}return tu.reset(),D1(tu,n,e,t),tu.toBytes(!0)}function ru(r,e){return e=Object.assign({},N4,e),B4(r,k1,e)}var P4={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},nu=class{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=gr[e];if(t===void 0){let n=be[e];if(!n)throw new Error(`${$e} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let i=e&31;t=n(this.data,this.pos,i,this.options)}return this.pos+=t.encodedLength,t}},Vs=Symbol.for("DONE"),Aa=Symbol.for("BREAK");function L4(r,e,t){let n=[];for(let i=0;i<r.value;i++){let s=Js(e,t);if(s===Aa){if(r.value===1/0)break;throw new Error(`${$e} got unexpected break to lengthed array`)}if(s===Vs)throw new Error(`${$e} found array but not enough entries (got ${i}, expected ${r.value})`);n[i]=s}return n}function U4(r,e,t){let n=t.useMaps===!0,i=n?void 0:{},s=n?new Map:void 0;for(let a=0;a<r.value;a++){let f=Js(e,t);if(f===Aa){if(r.value===1/0)break;throw new Error(`${$e} got unexpected break to lengthed map`)}if(f===Vs)throw new Error(`${$e} found map but not enough entries (got ${a} [no key], expected ${r.value})`);if(n!==!0&&typeof f!="string")throw new Error(`${$e} non-string keys not supported (got ${typeof f})`);let b=Js(e,t);if(b===Vs)throw new Error(`${$e} found map but not enough entries (got ${a} [no value], expected ${r.value})`);n?s.set(f,b):i[f]=b}return n?s:i}function Js(r,e){if(r.done())return Vs;let t=r.next();if(t.type===fe.break)return Aa;if(t.type.terminal)return t.value;if(t.type===fe.array)return L4(t,r,e);if(t.type===fe.map)return U4(t,r,e);if(t.type===fe.tag){if(e.tags&&typeof e.tags[t.value]=="function"){let n=Js(r,e);return e.tags[t.value](n)}throw new Error(`${$e} tag not supported (${t.value})`)}throw new Error("unsupported")}function iu(r,e){if(!(r instanceof Uint8Array))throw new Error(`${$e} data to decode must be a Uint8Array`);e=Object.assign({},P4,e);let t=e.tokenizer||new nu(r,e),n=Js(t,e);if(n===Vs)throw new Error(`${$e} did not find any content to decode`);if(n===Aa)throw new Error(`${$e} got unexpected break`);if(!t.done())throw new Error(`${$e} too many terminals, data makes no sense`);return n}gs();var N1=42;function F4(r){if(r.asCID!==r)return null;let e=Ke.asCID(r);if(!e)return null;let t=new Uint8Array(e.bytes.byteLength+1);return t.set(e.bytes,1),[new ve(fe.tag,N1),new ve(fe.bytes,t)]}function q4(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function H4(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var K4={float64:!0,typeEncoders:{Object:F4,undefined:q4,number:H4}};function z4(r){if(r[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ke.decode(r.subarray(1))}var I1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};I1.tags[N1]=z4;var j4="dag-cbor",su=113,G4=r=>ru(r,K4),ou=r=>iu(r,I1);var V4=24;async function O1(r){let e=await Hs({value:r,codec:bi,hasher:Di});return{cid:e.cid,linkedBlock:e.bytes}}function J4(r,e=V4){let t=(e-r.length%e)%e,n=new Uint8Array(r.length+t);return n.set(r,0),n}async function Y4(r){return(await Hs({value:r,codec:bi,hasher:Mo})).cid}function W4(r){if(r=Ke.asCID(r),r.code!==su)throw new Error("CID codec must be dag-cbor");if(r.multihash.code!==Mo.code)throw new Error("CID must use identity multihash");return ou(r.multihash.digest)}async function R1(r,e){return J4((await Y4(r)).bytes,e)}function B1(r){return W4(Ke.decodeFirst(r)[0])}gs();var Tb=rt(Sb(),1),kt=rt(vi(),1),by=`
sign-in-with-ethereum =
    domain %s" wants you to sign in with your Ethereum account:" LF
    address LF
    LF
    [ statement LF ]
    LF
    %s"URI: " URI LF
    %s"Version: " version LF
    %s"Chain ID: " chain-id LF
    %s"Nonce: " nonce LF
    %s"Issued At: " issued-at
    [ LF %s"Expiration Time: " expiration-time ]
    [ LF %s"Not Before: " not-before ]
    [ LF %s"Request ID: " request-id ]
    [ LF %s"Resources:"
    resources ]

domain = dnsauthority

address = "0x" 40*40HEXDIG
    ; Must also conform to captilization
    ; checksum encoding specified in EIP-55
    ; where applicable (EOAs).

statement = *( reserved / unreserved / " " )
    ; The purpose is to exclude LF (line breaks).

version = "1"

nonce = 8*( ALPHA / DIGIT )

issued-at = date-time
expiration-time = date-time
not-before = date-time

request-id = *pchar

chain-id = 1*DIGIT
    ; See EIP-155 for valid CHAIN_IDs.

resources = *( LF resource )

resource = "- " URI

; ------------------------------------------------------------------------------
; RFC 3986

URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]

hier-part     = "//" authority path-abempty
              / path-absolute
              / path-rootless
              / path-empty

scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )

authority     = [ userinfo "@" ] host [ ":" port ]
userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
host          = IP-literal / IPv4address / reg-name
port          = *DIGIT

IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"

IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )

IPv6address   =                            6( h16 ":" ) ls32
              /                       "::" 5( h16 ":" ) ls32
              / [               h16 ] "::" 4( h16 ":" ) ls32
              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
              / [ *4( h16 ":" ) h16 ] "::"              ls32
              / [ *5( h16 ":" ) h16 ] "::"              h16
              / [ *6( h16 ":" ) h16 ] "::"

h16           = 1*4HEXDIG
ls32          = ( h16 ":" h16 ) / IPv4address
IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
dec-octet     = DIGIT                 ; 0-9
                 / %x31-39 DIGIT         ; 10-99
                 / "1" 2DIGIT            ; 100-199
                 / "2" %x30-34 DIGIT     ; 200-249
                 / "25" %x30-35          ; 250-255

reg-name      = *( unreserved / pct-encoded / sub-delims )

path-abempty  = *( "/" segment )
path-absolute = "/" [ segment-nz *( "/" segment ) ]
path-rootless = segment-nz *( "/" segment )
path-empty    = 0pchar

segment       = *pchar
segment-nz    = 1*pchar

pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"

query         = *( pchar / "/" / "?" )

fragment      = *( pchar / "/" / "?" )

pct-encoded   = "%" HEXDIG HEXDIG

unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
reserved      = gen-delims / sub-delims
gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
              / "*" / "+" / "," / ";" / "="

; ------------------------------------------------------------------------------
; RFC 4501

dnsauthority    = host [ ":" port ]
                             ; See RFC 3986 for the
                             ; definition of "host" and "port".

; ------------------------------------------------------------------------------
; RFC 3339

date-fullyear   = 4DIGIT
date-month      = 2DIGIT  ; 01-12
date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
                          ; month/year
time-hour       = 2DIGIT  ; 00-23
time-minute     = 2DIGIT  ; 00-59
time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
                          ; rules
time-secfrac    = "." 1*DIGIT
time-numoffset  = ("+" / "-") time-hour ":" time-minute
time-offset     = "Z" / time-numoffset

partial-time    = time-hour ":" time-minute ":" time-second
                  [time-secfrac]
full-date       = date-fullyear "-" date-month "-" date-mday
full-time       = partial-time time-offset

date-time       = full-date "T" full-time

; ------------------------------------------------------------------------------
; RFC 5234

ALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z
LF             =  %x0A
                  ; linefeed
DIGIT          =  %x30-39
                  ; 0-9
HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,ka=class{constructor(e){let t=new Tb.default(by);if(t.generate(),t.errors.length)throw console.error(t.errorsToAscii()),console.error(t.linesToAscii()),console.log(t.displayAttributeErrors()),new Error("ABNF grammar has errors");let n=t.toObject(),i=new kt.default.parser;i.ast=new kt.default.ast;let s=kt.default.ids,a=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.domain=kt.default.utils.charsToString(W,L,B)),ee};i.ast.callbacks.domain=a;let f=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.address=kt.default.utils.charsToString(W,L,B)),ee};i.ast.callbacks.address=f;let b=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.statement=kt.default.utils.charsToString(W,L,B)),ee};i.ast.callbacks.statement=b;let x=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.uri||(P.uri=kt.default.utils.charsToString(W,L,B))),ee};i.ast.callbacks.uri=x;let y=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.version=kt.default.utils.charsToString(W,L,B)),ee};i.ast.callbacks.version=y;let w=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.chainId=kt.default.utils.charsToString(W,L,B)),ee};i.ast.callbacks["chain-id"]=w;let k=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.nonce=kt.default.utils.charsToString(W,L,B)),ee};i.ast.callbacks.nonce=k;let N=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.issuedAt=kt.default.utils.charsToString(W,L,B)),ee};i.ast.callbacks["issued-at"]=N;let C=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.expirationTime=kt.default.utils.charsToString(W,L,B)),ee};i.ast.callbacks["expiration-time"]=C;let T=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.notBefore=kt.default.utils.charsToString(W,L,B)),ee};i.ast.callbacks["not-before"]=T;let q=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.requestId=kt.default.utils.charsToString(W,L,B)),ee};i.ast.callbacks["request-id"]=q;let D=function(z,W,L,B,P){let ee=s.SEM_OK;return z===s.SEM_PRE&&(P.resources=kt.default.utils.charsToString(W,L,B).slice(3).split(`
- `)),ee};i.ast.callbacks.resources=D;let F=i.parse(n,"sign-in-with-ethereum",e);if(!F.success)throw new Error(`Invalid message: ${JSON.stringify(F)}`);let Y={};i.ast.translate(Y);for(let[z,W]of Object.entries(Y))this[z]=W}};function bu(){return bu=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},bu.apply(this,arguments)}var mu={name:"chainId",regex:"[-:a-zA-Z0-9]{5,41}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"}}}},my={name:"accountId",regex:"[-:a-zA-Z0-9]{7,106}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"},2:{name:"address",regex:"[a-zA-Z0-9]{1,64}"}}}},gu={name:"assetName",regex:"[-:a-zA-Z0-9]{5,73}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,64}"}}}},gy={name:"assetType",regex:"[-:a-zA-Z0-9]{11,115}",parameters:{delimiter:"/",values:{0:mu,1:gu}}},vy={name:"assetId",regex:"[-:a-zA-Z0-9]{13,148}",parameters:{delimiter:"/",values:{0:mu,1:gu,2:{name:"tokenId",regex:"[-a-zA-Z0-9]{1,32}"}}}},Qs={2:mu,10:my,19:{assetName:gu,assetType:gy,assetId:vy}};function Cb(r,e){return r.split(e.parameters.delimiter)}function eo(r,e){var t=Cb(r,e),n={};return t.forEach(function(i,s){n[e.parameters.values[s].name]=i}),n}function ns(r,e){return Object.values(e.parameters.values).map(function(t){var n=r[t.name];return typeof n=="string"?n:ns(n,t)}).join(e.parameters.delimiter)}function to(r,e){if(!new RegExp(e.regex).test(r))return!1;var t=Cb(r,e);if(t.length!==Object.keys(e.parameters.values).length)return!1;var n=t.map(function(i,s){return new RegExp(e.parameters.values[s].regex).test(i)}).filter(function(i){return!!i});return n.length===t.length}var Dn=function(){function r(t){typeof t=="string"&&(t=r.parse(t)),this.namespace=t.namespace,this.reference=t.reference}r.parse=function(n){if(!to(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new r(eo(n,this.spec)).toJSON()},r.format=function(n){return ns(n,this.spec)};var e=r.prototype;return e.toString=function(){return r.format(this.toJSON())},e.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},r}();Dn.spec=Qs[2];var yi=function(){function r(t){typeof t=="string"&&(t=r.parse(t)),this.chainId=new Dn(t.chainId),this.address=t.address}r.parse=function(n){if(!to(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);var i=eo(n,this.spec),s=i.namespace,a=i.reference,f=i.address,b=new Dn({namespace:s,reference:a});return new r({chainId:b,address:f}).toJSON()},r.format=function(n){var i=new Dn(n.chainId),s=bu({},i.toJSON(),{address:n.address});return ns(s,this.spec)};var e=r.prototype;return e.toString=function(){return r.format(this.toJSON())},e.toJSON=function(){return{chainId:this.chainId.toJSON(),address:this.address}},r}();yi.spec=Qs[10];var vu=function(){function r(t){typeof t=="string"&&(t=r.parse(t)),this.namespace=t.namespace,this.reference=t.reference}r.parse=function(n){if(!to(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new r(eo(n,this.spec)).toJSON()},r.format=function(n){return ns(n,this.spec)};var e=r.prototype;return e.toString=function(){return r.format(this.toJSON())},e.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},r}();vu.spec=Qs[19].assetName;var yy=function(){function r(t){typeof t=="string"&&(t=r.parse(t)),this.chainId=new Dn(t.chainId),this.assetName=new vu(t.assetName)}r.parse=function(n){if(!to(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new r(eo(n,this.spec)).toJSON()},r.format=function(n){return ns(n,this.spec)};var e=r.prototype;return e.toString=function(){return r.format(this.toJSON())},e.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName}},r}();yy.spec=Qs[19].assetType;var xy=function(){function r(t){typeof t=="string"&&(t=r.parse(t)),this.chainId=new Dn(t.chainId),this.assetName=new vu(t.assetName),this.tokenId=t.tokenId}r.parse=function(n){if(!to(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new r(eo(n,this.spec)).toJSON()},r.format=function(n){return ns(n,this.spec)};var e=r.prototype;return e.toString=function(){return r.format(this.toJSON())},e.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName.toJSON(),tokenId:this.tokenId}},r}();xy.spec=Qs[19].assetId;var kb;(function(r){r.INVALID_SIGNATURE="Invalid signature.",r.EXPIRED_MESSAGE="Expired message.",r.MALFORMED_SESSION="Malformed session."})(kb||(kb={}));var ro;(function(r){r.PERSONAL_SIGNATURE="Personal signature"})(ro||(ro={}));var Da=class{static fromCacao(e){let t=yi.parse(e.p.iss.replace("did:pkh:","")),n=new this({domain:e.p.domain,address:t.address,uri:e.p.aud,version:e.p.version,chainId:new Dn(t.chainId).reference});return e.p.statement&&(n.statement=e.p.statement),e.p.nonce&&(n.nonce=e.p.nonce),e.p.iat&&(n.issuedAt=e.p.iat),e.p.exp&&(n.expirationTime=e.p.exp),e.p.nbf&&(n.notBefore=e.p.nbf),e.p.requestId&&(n.requestId=e.p.requestId),e.p.resources&&(n.resources=e.p.resources),e.s&&(e.s.s&&(n.signature=e.s.s),e.s.t==="eip191"&&(n.type=ro.PERSONAL_SIGNATURE)),n}toMessage(e){return wy(this,e)}constructor(e){if(this.statement=void 0,this.nonce=void 0,this.issuedAt=void 0,this.expirationTime=void 0,this.notBefore=void 0,this.requestId=void 0,this.resources=void 0,this.signature=void 0,typeof e=="string"){let t=new ka(e);this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else Object.assign(this,e)}};function Db(r,e){let t=`${r.domain} wants you to sign in with your ${e} account:`,n=`URI: ${r.uri}`,i=[t,r.address].join(`
`),s=`Version: ${r.version}`;r.nonce||(r.nonce=(Math.random()+1).toString(36).substring(4));let a=`Nonce: ${r.nonce}`,f=[n,s,a];if(r.issuedAt&&Date.parse(r.issuedAt),r.issuedAt=r.issuedAt?r.issuedAt:new Date().toISOString(),f.push(`Issued At: ${r.issuedAt}`),r.expirationTime){let x=`Expiration Time: ${r.expirationTime}`;f.push(x)}r.notBefore&&f.push(`Not Before: ${r.notBefore}`),r.requestId&&f.push(`Request ID: ${r.requestId}`),r.chainId&&f.push(`Chain ID: ${r.chainId}`),r.resources&&f.push(["Resources:",...r.resources.map(x=>`- ${x}`)].join(`
`));let b=f.join(`
`);return r.statement&&(i=[i,r.statement].join(`

`)),[i,b].join(`

`)}function wy(r,e){let t=`${r.domain} wants you to sign in with your ${e} account:`,n=`URI: ${r.uri}`,i=[t,r.address].join(`
`),s=`Version: ${r.version}`;r.nonce||(r.nonce=(Math.random()+1).toString(36).substring(4));let a=`Nonce: ${r.nonce}`,f=`Chain ID: ${r.chainId}`,b=[n,s,f,a];if(r.issuedAt&&Date.parse(r.issuedAt),r.issuedAt=r.issuedAt?r.issuedAt:new Date().toISOString(),b.push(`Issued At: ${r.issuedAt}`),r.expirationTime){let y=`Expiration Time: ${r.expirationTime}`;b.push(y)}r.notBefore&&b.push(`Not Before: ${r.notBefore}`),r.requestId&&b.push(`Request ID: ${r.requestId}`),r.resources&&r.resources.length>=1&&b.push(["Resources:",...r.resources.map(y=>`- ${y}`)].join(`
`));let x=b.join(`
`);return r.statement&&(i=[i,r.statement].join(`

`)),[i,x].join(`

`)}var qr=class extends Da{toMessage(){return super.toMessage("Ethereum")}signMessage(){let e;switch(this.type){case ro.PERSONAL_SIGNATURE:{e=this.toMessage();break}default:{e=this.toMessage();break}}return e}};Ao();var Ey=5*60,H7=new Date("2022-09-20").valueOf(),Hr;(function(r){function e(s){let a={h:{t:"eip4361"},p:{domain:s.domain,iat:s.issuedAt,iss:`did:pkh:eip155:${s.chainId}:${s.address}`,aud:s.uri,version:s.version,nonce:s.nonce}};return s.signature&&(a.s={t:"eip191",s:s.signature}),s.notBefore&&(a.p.nbf=s.notBefore),s.expirationTime&&(a.p.exp=s.expirationTime),s.statement&&(a.p.statement=s.statement),s.requestId&&(a.p.requestId=s.requestId),s.resources&&(a.p.resources=s.resources),a}r.fromSiweMessage=e;function t(s){let a={h:{t:"caip122"},p:{domain:s.domain,iat:s.issuedAt,iss:`did:pkh:solana:${s.chainId}:${s.address}`,aud:s.uri,version:s.version,nonce:s.nonce}};return s.signature&&(a.s={t:"solana:ed25519",s:s.signature}),s.notBefore&&(a.p.nbf=s.notBefore),s.expirationTime&&(a.p.exp=s.expirationTime),s.statement&&(a.p.statement=s.statement),s.requestId&&(a.p.requestId=s.requestId),s.resources&&(a.p.resources=s.resources),a}r.fromSiwsMessage=t;async function n(s){return(await _p({bytes:s,codec:bi,hasher:Di})).value}r.fromBlockBytes=n;async function i(s,a={}){yu(s);let f=a.verifiers[s.s.t];if(!f)throw new Error("Unsupported CACAO signature type, register the needed verifier");return f(s,a)}r.verify=i})(Hr||(Hr={}));var no;(function(r){function e(t){return Hs({value:t,codec:bi,hasher:Di})}r.fromCacao=e})(no||(no={}));function yu(r){if(r.s===null||r.s===void 0)throw new Error("CACAO does not have a signature")}function Nb(r,e){let t=e.atTime?e.atTime.getTime():Date.now(),n=(e.clockSkewSecs??Ey)*1e3;if(Date.parse(r.p.iat)>t+n||Date.parse(r.p.nbf)>t+n)throw new Error("CACAO is not valid yet");let i=e.revocationPhaseOutSecs?e.revocationPhaseOutSecs*1e3:0;if(!e.disableExpirationCheck&&Date.parse(r.p.exp)+i+n<t)throw new Error("CACAO has expired")}var Ib="logger/5.7.0";var Ob=!1,Rb=!1,Na={debug:1,default:2,info:2,warning:3,error:4,off:5},Bb=Na.default,xu=null;function Ay(){try{let r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}var Pb=Ay(),wu;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(wu||(wu={}));var yr;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(yr||(yr={}));var Lb="0123456789abcdef",qe=class{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let n=e.toLowerCase();Na[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Bb>Na[n])&&console.log.apply(console,t)}debug(...e){this._log(qe.levels.DEBUG,e)}info(...e){this._log(qe.levels.INFO,e)}warn(...e){this._log(qe.levels.WARNING,e)}makeError(e,t,n){if(Rb)return this.makeError("censored error",t,{});t||(t=qe.errors.UNKNOWN_ERROR),n||(n={});let i=[];Object.keys(n).forEach(b=>{let x=n[b];try{if(x instanceof Uint8Array){let y="";for(let w=0;w<x.length;w++)y+=Lb[x[w]>>4],y+=Lb[x[w]&15];i.push(b+"=Uint8Array(0x"+y+")")}else i.push(b+"="+JSON.stringify(x))}catch{i.push(b+"="+JSON.stringify(n[b].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);let s=e,a="";switch(t){case yr.NUMERIC_FAULT:{a="NUMERIC_FAULT";let b=e;switch(b){case"overflow":case"underflow":case"division-by-zero":a+="-"+b;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case yr.CALL_EXCEPTION:case yr.INSUFFICIENT_FUNDS:case yr.MISSING_NEW:case yr.NONCE_EXPIRED:case yr.REPLACEMENT_UNDERPRICED:case yr.TRANSACTION_REPLACED:case yr.UNPREDICTABLE_GAS_LIMIT:a=t;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(e+=" ("+i.join(", ")+")");let f=new Error(e);return f.reason=s,f.code=t,Object.keys(n).forEach(function(b){f[b]=n[b]}),f}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,qe.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),Pb&&this.throwError("platform missing String.prototype.normalize",qe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Pb})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,qe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,qe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,qe.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,qe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",qe.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",qe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",qe.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return xu||(xu=new qe(Ib)),xu}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",qe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ob){if(!e)return;this.globalLogger().throwError("error censorship permanent",qe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Rb=!!e,Ob=!!t}static setLogLevel(e){let t=Na[e.toLowerCase()];if(t==null){qe.globalLogger().warn("invalid log level - "+e);return}Bb=t}static from(e){return new qe(e)}};qe.errors=yr;qe.levels=wu;var Ub="bytes/5.7.0";var ht=new qe(Ub);function Fb(r){return!!r.toHexString}function is(r){return r.slice||(r.slice=function(){let e=Array.prototype.slice.call(arguments);return is(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function qb(r){return xr(r)&&!(r.length%2)||Au(r)}function $b(r){return typeof r=="number"&&r==r&&r%1===0}function Au(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!$b(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){let t=r[e];if(!$b(t)||t<0||t>=256)return!1}return!0}function tt(r,e){if(e||(e={}),typeof r=="number"){ht.checkSafeUint53(r,"invalid arrayify value");let t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),is(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Fb(r)&&(r=r.toHexString()),xr(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":ht.throwArgumentError("hex data is odd-length","value",r));let n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return is(new Uint8Array(n))}return Au(r)?is(new Uint8Array(r)):ht.throwArgumentError("invalid arrayify value","value",r)}function Mu(r){let e=r.map(i=>tt(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),is(n)}function My(r,e){r=tt(r),r.length>e&&ht.throwArgumentError("value out of range","value",arguments[0]);let t=new Uint8Array(e);return t.set(r,e-r.length),is(t)}function xr(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}var Eu="0123456789abcdef";function Dt(r,e){if(e||(e={}),typeof r=="number"){ht.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Eu[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Fb(r))return r.toHexString();if(xr(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":ht.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(Au(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=Eu[(i&240)>>4]+Eu[i&15]}return t}return ht.throwArgumentError("invalid hexlify value","value",r)}function Ia(r){if(typeof r!="string")r=Dt(r);else if(!xr(r)||r.length%2)return null;return(r.length-2)/2}function Oa(r,e,t){return typeof r!="string"?r=Dt(r):(!xr(r)||r.length%2)&&ht.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function Nn(r,e){for(typeof r!="string"?r=Dt(r):xr(r)||ht.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&ht.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function Ra(r){let e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(qb(r)){let t=tt(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Dt(t.slice(0,32)),e.s=Dt(t.slice(32,64))):t.length===65?(e.r=Dt(t.slice(0,32)),e.s=Dt(t.slice(32,64)),e.v=t[64]):ht.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:ht.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Dt(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){let i=My(tt(e._vs),32);e._vs=Dt(i);let s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&ht.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;let a=Dt(i);e.s==null?e.s=a:e.s!==a&&ht.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?ht.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{let i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&ht.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!xr(e.r)?ht.throwArgumentError("signature missing or invalid r","signature",r):e.r=Nn(e.r,32),e.s==null||!xr(e.s)?ht.throwArgumentError("signature missing or invalid s","signature",r):e.s=Nn(e.s,32);let t=tt(e.s);t[0]>=128&&ht.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);let n=Dt(t);e._vs&&(xr(e._vs)||ht.throwArgumentError("signature invalid _vs","signature",r),e._vs=Nn(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&ht.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var zb=rt(Su());var Kb="bignumber/5.7.0";var _y=zb.default.BN,eE=new qe(Kb);function Tu(r){return new _y(r,36).toString(16)}var jb=rt(qf());function ss(r){return"0x"+jb.default.keccak_256(tt(r))}var Gb="address/5.7.0";var io=new qe(Gb);function Vb(r){xr(r,20)||io.throwArgumentError("invalid address","address",r),r=r.toLowerCase();let e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);let n=tt(ss(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}var Cy=9007199254740991;function ky(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}var Cu={};for(let r=0;r<10;r++)Cu[String(r)]=String(r);for(let r=0;r<26;r++)Cu[String.fromCharCode(65+r)]=String(10+r);var Jb=Math.floor(ky(Cy));function Dy(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Cu[n]).join("");for(;e.length>=Jb;){let n=e.substring(0,Jb);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Yb(r){let e=null;if(typeof r!="string"&&io.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Vb(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&io.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==Dy(r)&&io.throwArgumentError("bad icap checksum","address",r),e=Tu(r.substring(4));e.length<40;)e="0"+e;e=Vb("0x"+e)}else io.throwArgumentError("invalid address","address",r);return e}var Wb="properties/5.7.0";var gE=new qe(Wb);function os(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}var Xb="strings/5.7.0";var Zb=new qe(Xb),so;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(so||(so={}));var xi;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(xi||(xi={}));function Ny(r,e,t,n,i){return Zb.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Qb(r,e,t,n,i){if(r===xi.BAD_PREFIX||r===xi.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)s++;return s}return r===xi.OVERRUN?t.length-e-1:0}function Iy(r,e,t,n,i){return r===xi.OVERLONG?(n.push(i),0):(n.push(65533),Qb(r,e,t,n,i))}var Oy=Object.freeze({error:Ny,ignore:Qb,replace:Iy});function oo(r,e=so.current){e!=so.current&&(Zb.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;let s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");let a=65536+((i&1023)<<10)+(s&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return tt(t)}var e2=`Ethereum Signed Message:
`;function as(r){return typeof r=="string"&&(r=oo(r)),ss(Mu([oo(e2),oo(String(r.length)),r]))}var Fe=rt(Su()),Kr=rt(As());function fs(r,e,t){return t={path:e,exports:{},require:function(n,i){return Ry(n,i??t.path)}},r(t,t.exports),t.exports}function Ry(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Iu=r2;function r2(r,e){if(!r)throw new Error(e||"Assertion failed")}r2.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var wr=fs(function(r,e){"use strict";var t=e;function n(a,f){if(Array.isArray(a))return a.slice();if(!a)return[];var b=[];if(typeof a!="string"){for(var x=0;x<a.length;x++)b[x]=a[x]|0;return b}if(f==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var x=0;x<a.length;x+=2)b.push(parseInt(a[x]+a[x+1],16))}else for(var x=0;x<a.length;x++){var y=a.charCodeAt(x),w=y>>8,k=y&255;w?b.push(w,k):b.push(k)}return b}t.toArray=n;function i(a){return a.length===1?"0"+a:a}t.zero2=i;function s(a){for(var f="",b=0;b<a.length;b++)f+=i(a[b].toString(16));return f}t.toHex=s,t.encode=function(f,b){return b==="hex"?s(f):f}}),jt=fs(function(r,e){"use strict";var t=e;t.assert=Iu,t.toArray=wr.toArray,t.zero2=wr.zero2,t.toHex=wr.toHex,t.encode=wr.encode;function n(b,x,y){var w=new Array(Math.max(b.bitLength(),y)+1);w.fill(0);for(var k=1<<x+1,N=b.clone(),C=0;C<w.length;C++){var T,q=N.andln(k-1);N.isOdd()?(q>(k>>1)-1?T=(k>>1)-q:T=q,N.isubn(T)):T=0,w[C]=T,N.iushrn(1)}return w}t.getNAF=n;function i(b,x){var y=[[],[]];b=b.clone(),x=x.clone();for(var w=0,k=0,N;b.cmpn(-w)>0||x.cmpn(-k)>0;){var C=b.andln(3)+w&3,T=x.andln(3)+k&3;C===3&&(C=-1),T===3&&(T=-1);var q;C&1?(N=b.andln(7)+w&7,(N===3||N===5)&&T===2?q=-C:q=C):q=0,y[0].push(q);var D;T&1?(N=x.andln(7)+k&7,(N===3||N===5)&&C===2?D=-T:D=T):D=0,y[1].push(D),2*w===q+1&&(w=1-w),2*k===D+1&&(k=1-k),b.iushrn(1),x.iushrn(1)}return y}t.getJSF=i;function s(b,x,y){var w="_"+x;b.prototype[x]=function(){return this[w]!==void 0?this[w]:this[w]=y.call(this)}}t.cachedProperty=s;function a(b){return typeof b=="string"?t.toArray(b,"hex"):b}t.parseBytes=a;function f(b){return new Fe.default(b,"hex","le")}t.intFromLE=f}),La=jt.getNAF,By=jt.getJSF,Ua=jt.assert;function On(r,e){this.type=r,this.p=new Fe.default(e.p,16),this.red=e.prime?Fe.default.red(e.prime):Fe.default.mont(this.p),this.zero=new Fe.default(0).toRed(this.red),this.one=new Fe.default(1).toRed(this.red),this.two=new Fe.default(2).toRed(this.red),this.n=e.n&&new Fe.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var wi=On;On.prototype.point=function(){throw new Error("Not implemented")};On.prototype.validate=function(){throw new Error("Not implemented")};On.prototype._fixedNafMul=function(e,t){Ua(e.precomputed);var n=e._getDoubles(),i=La(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],f,b;for(f=0;f<i.length;f+=n.step){b=0;for(var x=f+n.step-1;x>=f;x--)b=(b<<1)+i[x];a.push(b)}for(var y=this.jpoint(null,null,null),w=this.jpoint(null,null,null),k=s;k>0;k--){for(f=0;f<a.length;f++)b=a[f],b===k?w=w.mixedAdd(n.points[f]):b===-k&&(w=w.mixedAdd(n.points[f].neg()));y=y.add(w)}return y.toP()};On.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=La(t,n,this._bitLength),f=this.jpoint(null,null,null),b=a.length-1;b>=0;b--){for(var x=0;b>=0&&a[b]===0;b--)x++;if(b>=0&&x++,f=f.dblp(x),b<0)break;var y=a[b];Ua(y!==0),e.type==="affine"?y>0?f=f.mixedAdd(s[y-1>>1]):f=f.mixedAdd(s[-y-1>>1].neg()):y>0?f=f.add(s[y-1>>1]):f=f.add(s[-y-1>>1].neg())}return e.type==="affine"?f.toP():f};On.prototype._wnafMulAdd=function(e,t,n,i,s){var a=this._wnafT1,f=this._wnafT2,b=this._wnafT3,x=0,y,w,k;for(y=0;y<i;y++){k=t[y];var N=k._getNAFPoints(e);a[y]=N.wnd,f[y]=N.points}for(y=i-1;y>=1;y-=2){var C=y-1,T=y;if(a[C]!==1||a[T]!==1){b[C]=La(n[C],a[C],this._bitLength),b[T]=La(n[T],a[T],this._bitLength),x=Math.max(b[C].length,x),x=Math.max(b[T].length,x);continue}var q=[t[C],null,null,t[T]];t[C].y.cmp(t[T].y)===0?(q[1]=t[C].add(t[T]),q[2]=t[C].toJ().mixedAdd(t[T].neg())):t[C].y.cmp(t[T].y.redNeg())===0?(q[1]=t[C].toJ().mixedAdd(t[T]),q[2]=t[C].add(t[T].neg())):(q[1]=t[C].toJ().mixedAdd(t[T]),q[2]=t[C].toJ().mixedAdd(t[T].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],F=By(n[C],n[T]);for(x=Math.max(F[0].length,x),b[C]=new Array(x),b[T]=new Array(x),w=0;w<x;w++){var Y=F[0][w]|0,z=F[1][w]|0;b[C][w]=D[(Y+1)*3+(z+1)],b[T][w]=0,f[C]=q}}var W=this.jpoint(null,null,null),L=this._wnafT4;for(y=x;y>=0;y--){for(var B=0;y>=0;){var P=!0;for(w=0;w<i;w++)L[w]=b[w][y]|0,L[w]!==0&&(P=!1);if(!P)break;B++,y--}if(y>=0&&B++,W=W.dblp(B),y<0)break;for(w=0;w<i;w++){var ee=L[w];ee!==0&&(ee>0?k=f[w][ee-1>>1]:ee<0&&(k=f[w][-ee-1>>1].neg()),k.type==="affine"?W=W.mixedAdd(k):W=W.add(k))}}for(y=0;y<i;y++)f[y]=null;return s?W:W.toP()};function fr(r,e){this.curve=r,this.type=e,this.precomputed=null}On.BasePoint=fr;fr.prototype.eq=function(){throw new Error("Not implemented")};fr.prototype.validate=function(){return this.curve.validate(this)};On.prototype.decodePoint=function(e,t){e=jt.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Ua(e[e.length-1]%2===0):e[0]===7&&Ua(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};fr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};fr.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};fr.prototype.encode=function(e,t){return jt.encode(this._encode(t),e)};fr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};fr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};fr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<t;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}};fr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};fr.prototype._getBeta=function(){return null};fr.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var Ou=fs(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),Py=jt.assert;function cr(r){wi.call(this,"short",r),this.a=new Fe.default(r.a,16).toRed(this.red),this.b=new Fe.default(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ou(cr,wi);var Ly=cr;cr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Fe.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new Fe.default(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?n=s[0]:(n=s[1],Py(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new Fe.default(f.a,16),b:new Fe.default(f.b,16)}}):a=this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}};cr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Fe.default.mont(e),n=new Fe.default(2).toRed(t).redInvm(),i=n.redNeg(),s=new Fe.default(3).toRed(t).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),f=i.redSub(s).fromRed();return[a,f]};cr.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Fe.default(1),a=new Fe.default(0),f=new Fe.default(0),b=new Fe.default(1),x,y,w,k,N,C,T,q=0,D,F;n.cmpn(0)!==0;){var Y=i.div(n);D=i.sub(Y.mul(n)),F=f.sub(Y.mul(s));var z=b.sub(Y.mul(a));if(!w&&D.cmp(t)<0)x=T.neg(),y=s,w=D.neg(),k=F;else if(w&&++q===2)break;T=D,i=n,n=D,f=s,s=F,b=a,a=z}N=D.neg(),C=F;var W=w.sqr().add(k.sqr()),L=N.sqr().add(C.sqr());return L.cmp(W)>=0&&(N=x,C=y),w.negative&&(w=w.neg(),k=k.neg()),N.negative&&(N=N.neg(),C=C.neg()),[{a:w,b:k},{a:N,b:C}]};cr.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),f=s.mul(n.a),b=a.mul(i.a),x=s.mul(n.b),y=a.mul(i.b),w=e.sub(f).sub(b),k=x.add(y).neg();return{k1:w,k2:k}};cr.prototype.pointFromX=function(e,t){e=new Fe.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};cr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};cr.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(t[a]),b=e[a],x=b._getBeta();f.k1.negative&&(f.k1.ineg(),b=b.neg(!0)),f.k2.negative&&(f.k2.ineg(),x=x.neg(!0)),i[a*2]=b,i[a*2+1]=x,s[a*2]=f.k1,s[a*2+1]=f.k2}for(var y=this._wnafMulAdd(1,i,s,a*2,n),w=0;w<a*2;w++)i[w]=null,s[w]=null;return y};function vt(r,e,t,n){wi.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Fe.default(e,16),this.y=new Fe.default(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Ou(vt,wi.BasePoint);cr.prototype.point=function(e,t,n){return new vt(this,e,t,n)};cr.prototype.pointFromJSON=function(e,t){return vt.fromJSON(this,e,t)};vt.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};vt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};vt.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function s(f){return e.point(f[0],f[1],n)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i};vt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};vt.prototype.isInfinity=function(){return this.inf};vt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};vt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),f=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)};vt.prototype.getX=function(){return this.x.fromRed()};vt.prototype.getY=function(){return this.y.fromRed()};vt.prototype.mul=function(e){return e=new Fe.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};vt.prototype.mulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};vt.prototype.jmulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};vt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};vt.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};vt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function At(r,e,t,n){wi.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Fe.default(0)):(this.x=new Fe.default(e,16),this.y=new Fe.default(t,16),this.z=new Fe.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ou(At,wi.BasePoint);cr.prototype.jpoint=function(e,t,n){return new At(this,e,t,n)};At.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};At.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};At.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),b=i.redSub(s),x=a.redSub(f);if(b.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=b.redSqr(),w=y.redMul(b),k=i.redMul(y),N=x.redSqr().redIAdd(w).redISub(k).redISub(k),C=x.redMul(k.redISub(N)).redISub(a.redMul(w)),T=this.z.redMul(e.z).redMul(b);return this.curve.jpoint(N,C,T)};At.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),s=this.y,a=e.y.redMul(t).redMul(this.z),f=n.redSub(i),b=s.redSub(a);if(f.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=f.redSqr(),y=x.redMul(f),w=n.redMul(x),k=b.redSqr().redIAdd(y).redISub(w).redISub(w),N=b.redMul(w.redISub(k)).redISub(s.redMul(y)),C=this.z.redMul(f);return this.curve.jpoint(k,N,C)};At.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,f=this.y,b=this.z,x=b.redSqr().redSqr(),y=f.redAdd(f);for(t=0;t<e;t++){var w=a.redSqr(),k=y.redSqr(),N=k.redSqr(),C=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(x)),T=a.redMul(k),q=C.redSqr().redISub(T.redAdd(T)),D=T.redISub(q),F=C.redMul(D);F=F.redIAdd(F).redISub(N);var Y=y.redMul(b);t+1<e&&(x=x.redMul(N)),a=q,b=Y,y=F}return this.curve.jpoint(a,y.redMul(s),b)};At.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};At.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var b=i.redAdd(i).redIAdd(i),x=b.redSqr().redISub(f).redISub(f),y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),e=x,t=b.redMul(f.redISub(x)).redISub(y),n=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),k=this.y.redSqr(),N=k.redSqr(),C=this.x.redAdd(k).redSqr().redISub(w).redISub(N);C=C.redIAdd(C);var T=w.redAdd(w).redIAdd(w),q=T.redSqr(),D=N.redIAdd(N);D=D.redIAdd(D),D=D.redIAdd(D),e=q.redISub(C).redISub(C),t=T.redMul(C.redISub(e)).redISub(D),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};At.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var b=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),x=b.redSqr().redISub(f).redISub(f);e=x;var y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),t=b.redMul(f.redISub(x)).redISub(y),n=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),k=this.y.redSqr(),N=this.x.redMul(k),C=this.x.redSub(w).redMul(this.x.redAdd(w));C=C.redAdd(C).redIAdd(C);var T=N.redIAdd(N);T=T.redIAdd(T);var q=T.redAdd(T);e=C.redSqr().redISub(q),n=this.y.redAdd(this.z).redSqr().redISub(k).redISub(w);var D=k.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),t=C.redMul(T.redISub(e)).redISub(D)}return this.curve.jpoint(e,t,n)};At.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=t.redSqr(),f=n.redSqr(),b=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),x=t.redAdd(t);x=x.redIAdd(x);var y=x.redMul(f),w=b.redSqr().redISub(y.redAdd(y)),k=y.redISub(w),N=f.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var C=b.redMul(k).redISub(N),T=n.redAdd(n).redMul(i);return this.curve.jpoint(w,C,T)};At.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),f=this.x.redAdd(t).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var b=f.redSqr(),x=i.redIAdd(i);x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var y=s.redIAdd(f).redSqr().redISub(a).redISub(b).redISub(x),w=t.redMul(y);w=w.redIAdd(w),w=w.redIAdd(w);var k=this.x.redMul(b).redISub(w);k=k.redIAdd(k),k=k.redIAdd(k);var N=this.y.redMul(y.redMul(x.redISub(y)).redISub(f.redMul(b)));N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var C=this.z.redAdd(f).redSqr().redISub(n).redISub(b);return this.curve.jpoint(k,N,C)};At.prototype.mul=function(e,t){return e=new Fe.default(e,t),this.curve._wnafMul(this,e)};At.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};At.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};At.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};At.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Ba=fs(function(r,e){"use strict";var t=e;t.base=wi,t.short=Ly,t.mont=null,t.edwards=null}),Pa=fs(function(r,e){"use strict";var t=e,n=jt.assert;function i(f){f.type==="short"?this.curve=new Ba.short(f):f.type==="edwards"?this.curve=new Ba.edwards(f):this.curve=new Ba.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(f,b){Object.defineProperty(t,f,{configurable:!0,enumerable:!0,get:function(){var x=new i(b);return Object.defineProperty(t,f,{configurable:!0,enumerable:!0,value:x}),x}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Kr.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Kr.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Kr.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Kr.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Kr.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Kr.default.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Kr.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Kr.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function In(r){if(!(this instanceof In))return new In(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=wr.toArray(r.entropy,r.entropyEnc||"hex"),t=wr.toArray(r.nonce,r.nonceEnc||"hex"),n=wr.toArray(r.pers,r.persEnc||"hex");Iu(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var n2=In;In.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};In.prototype._hmac=function(){return new Kr.default.hmac(this.hash,this.K)};In.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};In.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=wr.toArray(e,t),n=wr.toArray(n,i),Iu(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};In.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=wr.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,wr.encode(a,t)};var Nu=jt.assert;function Nt(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Ru=Nt;Nt.fromPublic=function(e,t,n){return t instanceof Nt?t:new Nt(e,{pub:t,pubEnc:n})};Nt.fromPrivate=function(e,t,n){return t instanceof Nt?t:new Nt(e,{priv:t,privEnc:n})};Nt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Nt.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Nt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Nt.prototype._importPrivate=function(e,t){this.priv=new Fe.default(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Nt.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Nu(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Nu(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Nt.prototype.derive=function(e){return e.validate()||Nu(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Nt.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Nt.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Nt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Uy=jt.assert;function $a(r,e){if(r instanceof $a)return r;this._importDER(r,e)||(Uy(r.r&&r.s,"Signature without r or s"),this.r=new Fe.default(r.r,16),this.s=new Fe.default(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Fa=$a;function $y(){this.place=0}function ku(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=r[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function t2(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}$a.prototype._importDER=function(e,t){e=jt.toArray(e,t);var n=new $y;if(e[n.place++]!==48)return!1;var i=ku(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=ku(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var f=ku(e,n);if(f===!1||e.length!==f+n.place)return!1;var b=e.slice(n.place,f+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(b[0]===0)if(b[1]&128)b=b.slice(1);else return!1;return this.r=new Fe.default(a),this.s=new Fe.default(b),this.recoveryParam=null,!0};function Du(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}$a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=t2(t),n=t2(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Du(i,t.length),i=i.concat(t),i.push(2),Du(i,n.length);var s=i.concat(n),a=[48];return Du(a,s.length),a=a.concat(s),jt.encode(a,e)};var Fy=function(){throw new Error("unsupported")},i2=jt.assert;function ar(r){if(!(this instanceof ar))return new ar(r);typeof r=="string"&&(i2(Object.prototype.hasOwnProperty.call(Pa,r),"Unknown curve "+r),r=Pa[r]),r instanceof Pa.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var qy=ar;ar.prototype.keyPair=function(e){return new Ru(this,e)};ar.prototype.keyFromPrivate=function(e,t){return Ru.fromPrivate(this,e,t)};ar.prototype.keyFromPublic=function(e,t){return Ru.fromPublic(this,e,t)};ar.prototype.genKeyPair=function(e){e||(e={});for(var t=new n2({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Fy(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Fe.default(2));;){var s=new Fe.default(t.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ar.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};ar.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new Fe.default(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),f=e.toArray("be",s),b=new n2({hash:this.hash,entropy:a,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),x=this.n.sub(new Fe.default(1)),y=0;;y++){var w=i.k?i.k(y):new Fe.default(b.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(x)>=0)){var k=this.g.mul(w);if(!k.isInfinity()){var N=k.getX(),C=N.umod(this.n);if(C.cmpn(0)!==0){var T=w.invm(this.n).mul(C.mul(t.getPrivate()).iadd(e));if(T=T.umod(this.n),T.cmpn(0)!==0){var q=(k.getY().isOdd()?1:0)|(N.cmp(C)!==0?2:0);return i.canonical&&T.cmp(this.nh)>0&&(T=this.n.sub(T),q^=1),new Fa({r:C,s:T,recoveryParam:q})}}}}}};ar.prototype.verify=function(e,t,n,i){e=this._truncateToN(new Fe.default(e,16)),n=this.keyFromPublic(n,i),t=new Fa(t,"hex");var s=t.r,a=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var f=a.invm(this.n),b=f.mul(e).umod(this.n),x=f.mul(s).umod(this.n),y;return this.curve._maxwellTrick?(y=this.g.jmulAdd(b,n.getPublic(),x),y.isInfinity()?!1:y.eqXToP(s)):(y=this.g.mulAdd(b,n.getPublic(),x),y.isInfinity()?!1:y.getX().umod(this.n).cmp(s)===0)};ar.prototype.recoverPubKey=function(r,e,t,n){i2((3&t)===t,"The recovery param is more than two bits"),e=new Fa(e,n);var i=this.n,s=new Fe.default(r),a=e.r,f=e.s,b=t&1,x=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&x)throw new Error("Unable to find sencond key candinate");x?a=this.curve.pointFromX(a.add(this.curve.n),b):a=this.curve.pointFromX(a,b);var y=e.r.invm(i),w=i.sub(s).mul(y).umod(i),k=f.mul(y).umod(i);return this.g.mulAdd(w,a,k)};ar.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new Fa(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var Hy=fs(function(r,e){"use strict";var t=e;t.version="6.5.4",t.utils=jt,t.rand=function(){throw new Error("unsupported")},t.curve=Ba,t.curves=Pa,t.ec=qy,t.eddsa=null}),s2=Hy.ec;var o2="signing-key/5.7.0";var Pu=new qe(o2),Bu=null;function zr(){return Bu||(Bu=new s2("secp256k1")),Bu}var Lu=class{constructor(e){os(this,"curve","secp256k1"),os(this,"privateKey",Dt(e)),Ia(this.privateKey)!==32&&Pu.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let t=zr().keyFromPrivate(tt(this.privateKey));os(this,"publicKey","0x"+t.getPublic(!1,"hex")),os(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),os(this,"_isSigningKey",!0)}_addPoint(e){let t=zr().keyFromPublic(tt(this.publicKey)),n=zr().keyFromPublic(tt(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let t=zr().keyFromPrivate(tt(this.privateKey)),n=tt(e);n.length!==32&&Pu.throwArgumentError("bad digest length","digest",e);let i=t.sign(n,{canonical:!0});return Ra({recoveryParam:i.recoveryParam,r:Nn("0x"+i.r.toString(16),32),s:Nn("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let t=zr().keyFromPrivate(tt(this.privateKey)),n=zr().keyFromPublic(tt(Uu(e)));return Nn("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function a2(r,e){let t=Ra(e),n={r:tt(t.r),s:tt(t.s)};return"0x"+zr().recoverPubKey(tt(r),n,t.recoveryParam).encode("hex",!1)}function Uu(r,e){let t=tt(r);if(t.length===32){let n=new Lu(t);return e?"0x"+zr().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?Dt(t):"0x"+zr().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+zr().keyFromPublic(t).getPublic(!0,"hex"):Dt(t)}return Pu.throwArgumentError("invalid public or private key","key","[REDACTED]")}var f2="transactions/5.7.0";var XE=new qe(f2),c2;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(c2||(c2={}));function u2(r){let e=Uu(r);return Yb(Oa(ss(Oa(e,1)),12))}function h2(r,e){return u2(a2(tt(r),e))}var l2="wallet/5.7.0";var oA=new qe(l2);function $u(r,e){return h2(as(r),e)}function d2(){return{eip191:async(r,e)=>{zy(r,e)}}}var Ky=new Date("2022-09-20").valueOf();function zy(r,e){yu(r),Nb(r,e);let n=[$u(qr.fromCacao(r).toMessage(),r.s.s).toLowerCase()];if(Date.parse(r.p.iat)<=Ky){let s=$u(Db(qr.fromCacao(r),"Ethereum"),r.s.s).toLowerCase();n.push(s)}let i=yi.parse(r.p.iss.replace("did:pkh:","")).address.toLowerCase();if(!n.includes(i))throw new Error("Signature does not belong to issuer")}var p2=rt(cn(),1);function b2(){return Qe((0,p2.randomBytes)(16),"base64")}var m2="base64pad",g2="base64url";function v2(r){return Qe(r,m2)}function y2(r){return Qe(r,g2)}function x2(r){return ze(r,m2)}function qa(r){return JSON.parse(Qe(ze(r,g2)))}function w2(r){if(r.signatures.length>1)throw new Error("Cant convert to compact jws");return`${r.signatures[0].protected}.${r.payload}.${r.signatures[0].signature}`}function E2(r,e){if(e){let t=e.toISOString().split(".")[0]+"Z";return`${r}?versionTime=${t}`}else return r}function A2(r){return r?Array.isArray(r)?r:[r]:[]}var jy={...d2()};function Gy(r){return"registry"in r&&"cache"in r}var cs=class{get capability(){if(!this._capability)throw new Error("DID has no capability attached");return this._capability}get hasCapability(){return this._capability!=null}get parent(){if(!this._parentId)throw new Error("DID has no parent DID");return this._parentId}get hasParent(){return this._parentId!=null}get id(){if(this._id==null)throw new Error("DID is not authenticated");return this._id}get authenticated(){return this._id!=null}withCapability(e){return new cs({provider:this._client?.connection,resolver:this._resolver,capability:e,parent:this._parentId})}setProvider(e){if(this._client==null)this._client=new Fs(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,t){this._resolver=Gy(e)?e:new ha(e,t)}async authenticate({provider:e,paths:t=[],aud:n}={}){if(e!=null&&this.setProvider(e),this._client==null)throw new Error("No provider available");let i=b2(),s=await this._client.request("did_authenticate",{nonce:i,aud:n,paths:t}),{kid:a}=await this.verifyJWS(s),f=qa(s.payload);if(!a.includes(f.did))throw new Error("Invalid authencation response, kid mismatch");if(f.nonce!==i)throw new Error("Invalid authencation response, wrong nonce");if(f.aud!==n)throw new Error("Invalid authencation response, wrong aud");if(f.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=f.did,this._id}async createJWS(e,t={}){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");if(this._capability){let i=this._capability.p.exp;if(i&&Date.parse(i)<Date.now())throw new Error("Capability is expired, cannot create a valid signature");let s=await no.fromCacao(this._capability),a=Ke.asCID(s.cid);if(!a)throw new Error("Capability CID of the JWS cannot be set to the capability payload cid as they are incompatible");t.protected=t.protected||{},t.protected.cap=`ipfs://${a?.toString()}`}let{jws:n}=await this._client.request("did_createJWS",{did:this._id,...t,payload:e});return n}async createDagJWS(e,t={}){let{cid:n,linkedBlock:i}=await O1(e),s=y2(n.bytes);Object.assign(t,{linkedBlock:v2(i)});let a=await this.createJWS(s,t),f=Ke.asCID(n);if(!f)throw new Error("CID of the JWS cannot be set to the encoded payload cid as they are incompatible");if(a.link=f,this._capability){let b=await no.fromCacao(this._capability);return{jws:a,linkedBlock:i,cacaoBlock:b.bytes}}return{jws:a,linkedBlock:i}}async verifyJWS(e,t={}){t=Object.assign({verifiers:jy},t),typeof e!="string"&&(e=w2(e));let n=qa(e.split(".")[0]).kid;if(!n)throw new Error('No "kid" found in jws');let i=await this.resolve(n);if(!t.disableTimecheck){let x=i.didDocumentMetadata?.nextUpdate;if(x){let w=t.revocationPhaseOutSecs?t.revocationPhaseOutSecs*1e3:0,k=new Date(x).valueOf()+w;if(!(t.atTime&&t.atTime.getTime()<k))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${n}`)}let y=i.didDocumentMetadata?.updated;if(y&&t.atTime&&t.atTime.getTime()<new Date(y).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${n}`)}let a=i.didDocument?.id;if(t.issuer&&t.issuer===t.capability?.p.iss&&a===t.capability.p.aud){if(!t.verifiers)throw new Error("Registered verifiers needed for CACAO");await Hr.verify(t.capability,{disableExpirationCheck:t.disableTimecheck,atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}})}else if(t.issuer&&t.issuer!==a){let x=E2(t.issuer,t.atTime),w=(await this.resolve(x)).didDocument?.controller,k=A2(w);if(t.capability?.s&&t.capability.p.aud===a&&k.includes(t.capability.p.iss))await Hr.verify(t.capability,{atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}});else if(!(a?k.includes(a):!1))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${n}`)}let f=i.didDocument?.verificationMethod||[];x0(e,f);let b;try{b=qa(e.split(".")[1])}catch{}return{kid:n,payload:b,didResolutionResult:i}}async createJWE(e,t,n={}){let i=await A0(t,this._resolver);return E0(e,i,n.protectedHeader,n.aad)}async createDagJWE(e,t,n={}){let i=await R1(e);return this.createJWE(i,t,n)}async decryptJWE(e,t={}){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");let{cleartext:n}=await this._client.request("did_decryptJWE",{did:this._id,...t,jwe:e});return x2(n)}async decryptDagJWE(e){let t=await this.decryptJWE(e);return B1(t)}async resolve(e){let t=await this._resolver.resolve(e);if(t.didResolutionMetadata.error){let{error:n,message:i}=t.didResolutionMetadata,s=i?`, ${i}`:"";throw new Error(`Failed to resolve ${e}: ${n}${s}`)}return t}constructor({provider:e,resolver:t={},resolverOptions:n,capability:i,parent:s}={}){if(e!=null&&(this._client=new Fs(e)),i){if(this._capability=i,this._parentId=this._capability.p.iss,s&&this._parentId!==s)throw new Error("Capability issuer and parent not equal")}else s&&(this._parentId=s);this.setResolver(t,n)}};function Vy(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jy(r,e){return e.get?e.get.call(r):e.value}function Yy(r,e,t){if(e.set)e.set.call(r,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function M2(r,e,t){if(!e.has(r))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(r)}function jr(r,e){var t=M2(r,e,"get");return Jy(r,t)}function Fu(r,e,t){Vy(r,e),e.set(r,t)}function qu(r,e,t){var n=M2(r,e,"set");return Yy(r,n,t),t}async function Ha(r){let e=new sa(r||(0,Ku.randomBytes)(32)),t=new cs({provider:e,resolver:Ep.getResolver()});return await t.authenticate(),t}async function Wy(r,e){let t=r.withCapability(e);return await t.authenticate(),t}function Xy(r){return Qe(ze(JSON.stringify(r)),"base64url")}function Zy(r){return JSON.parse(Qe(ze(r,"base64url")))}function Qy(r){return Qe(r,"base64pad")}function e8(r){return ze(r,"base64pad")}var ao=new WeakMap,Hu=new WeakMap,Rn=new WeakMap,fn=class{static async authorize(e,t={}){if(!t.resources||t.resources.length===0)throw new Error("Required: resource argument option when authorizing");let n=t,i=(0,Ku.randomBytes)(32),s=await Ha(i);if(n.uri=s.id,t.expiresInSecs){let b=new Date(Date.now()+t.expiresInSecs*1e3);n.expirationTime=b.toISOString()}let a=await e(t),f=await Wy(s,a);return new fn({cacao:a,keySeed:i,did:f})}static async initDID(e,t){let n=e.withCapability(t);return await n.authenticate(),n}get did(){return jr(this,ao)}serialize(){let e={sessionKeySeed:Qy(jr(this,Hu)),cacao:jr(this,Rn)};return Xy(e)}static async fromSession(e){let{sessionKeySeed:t,cacao:n}=Zy(e),i=e8(t),s=await Ha(i),a=await fn.initDID(s,n);return new fn({cacao:n,keySeed:i,did:a})}get hasSession(){return!!jr(this,Rn)&&!!jr(this,ao)}get isExpired(){let e=jr(this,Rn).p.exp;return e?Date.parse(e)<Date.now():!1}get expireInSecs(){let e=jr(this,Rn).p.exp;if(!e)throw new Error("Session does not expire");let t=Date.parse(e)-Date.now();return t<0?0:t/1e3}get authorizations(){return jr(this,Rn)?.p.resources??[]}get cacao(){return jr(this,Rn)}isAuthorized(e){return!this.hasSession||this.isExpired?!1:e?e.every(t=>this.authorizations.includes(t)):!0}get id(){return jr(this,ao).parent}constructor(e){Fu(this,ao,{writable:!0,value:void 0}),Fu(this,Hu,{writable:!0,value:void 0}),Fu(this,Rn,{writable:!0,value:void 0}),qu(this,Hu,e.keySeed),qu(this,Rn,e.cacao),qu(this,ao,e.did)}};var S2=rt(cn(),1);function zu(r,e,t){if(t==null&&(t=[]),r.request)return r.request({method:e,params:t}).then(n=>n,n=>{throw n});if(r.sendAsync||r.send){let n=(r.sendAsync?r.sendAsync:r.send).bind(r),i=t8(e,t);return new Promise((s,a)=>{n(i,(f,b)=>{if(f&&a(f),b.error){let x=new Error(b.error.message);x.code=b.error.code,x.data=b.error.data,a(x)}s(b.result)})})}else throw new Error("Unsupported provider; provider must implement one of the following methods: send, sendAsync, request")}function t8(r,e){return{jsonrpc:"2.0",id:1,method:r,params:e}}var r8="1",n8="eip155",fo;(function(r){async function e(t,n){if(typeof window>"u")throw new Error("Web Auth method requires browser environment");let i=window.location.hostname;return async s=>(s.domain=i,T2(s,t,n))}r.getAuthMethod=e})(fo||(fo={}));var _2;(function(r){async function e(t,n,i){let s=i;return async a=>(a.domain=s,T2(a,t,n))}r.getAuthMethod=e})(_2||(_2={}));async function T2(r,e,t){let n=new Date,i=new Date(n.getTime()+7*24*60*60*1e3),s=new qr({domain:r.domain,address:t.address,statement:r.statement??"Give this application access to some of your data on Ceramic",uri:r.uri,version:r8,nonce:r.nonce??(0,S2.randomString)(10),issuedAt:n.toISOString(),expirationTime:r.expirationTime??i.toISOString(),chainId:t.chainId.reference,resources:r.resources}),a={method:"personal_sign",params:[s.signMessage(),t.address]},f;return"rpcProvider"in e?f=await e.sendAsync(a):f=await zu(e,"personal_sign",[s.signMessage(),t.address]),s.signature=f,Hr.fromSiweMessage(s)}async function i8(r){let e={method:"eth_chainId",params:[]},t;return"rpcProvider"in r?t=await r.sendAsync(e):t=await zu(r,"eth_chainId",[]),parseInt(t,16)}async function ju(r,e){let t=await i8(r),n=`${n8}:${t}`;return new yi({address:e,chainId:n})}var C2=rt(cn(),1);console.log("DIDSession => ",fn);console.log("EthereumWebAuth => ",fo);console.log("getAccountId => ",ju);console.log("Cacao => ",Hr);console.log("SiweMessage => ",qr);console.log("arrayify => ",tt);console.log("hashMessage => ",as);return Ju(s8);})();

const SiweMessage = test.SiweMessage;
const arrayify = test.arrayify;
const hashMessage = test.hashMessage;
const Cacao = test.Cacao;
const DIDSession = test.DIDSession;

const personalSign = async () => {

    const sigShare = await LitActions.ethPersonalSignMessageEcdsa({
        message: toSign,
        publicKey,
        sigName: "sig1",
    });

    console.log("sigShare =>", sigShare);
    
};

const getDIDSession = async () => {
    const threeMonths = 60 * 60 * 24 * 90;
    const authMethod = (async () => {return Cacao.fromSiweMessage(siweMessage)});

    let did;

    try{
        var session = await DIDSession.authorize(
            authMethod,
            {
                resources: [`ceramic://*`],
                expiresInSecs: threeMonths
            }
        );
        did = session.did;

    }catch (e) {
        return {
            status: 300,
            error: e,
            result: "Error creating a session for the DiD."
        }
    }

    console.log("did=>", did);

    // did = this.session.did;

    // const threeMonths = 60 * 60 * 24 * 90;
    // const keySeed = test.randomBytes(32);
    // console.log("keySeed=>", keySeed);
    // const didKey = await test.createDIDKey(keySeed);
    // console.log("didKey=>", didKey);

}

// triggers
if(functionName === 'personalSign()'){
    console.log("...running personalSign");
    personalSign();
}

if(functionName === 'getDIDSession()'){
    console.log("...running getDIDSession");
    getDIDSession();
}
            
