var tileAction=(()=>{var Gy=Object.create;var of=Object.defineProperty;var Jy=Object.getOwnPropertyDescriptor;var Vy=Object.getOwnPropertyNames;var Yy=Object.getPrototypeOf,Wy=Object.prototype.hasOwnProperty;var O0=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var tt=(r,e)=>()=>(r&&(e=r(r=0)),e);var le=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Ve=(r,e)=>{for(var t in e)of(r,t,{get:e[t],enumerable:!0})},N0=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Vy(e))!Wy.call(r,i)&&i!==t&&of(r,i,{get:()=>e[i],enumerable:!(n=Jy(e,i))||n.enumerable});return r};var Ye=(r,e,t)=>(t=r!=null?Gy(Yy(r)):{},N0(e||!r||!r.__esModule?of(t,"default",{value:r,enumerable:!0}):t,r)),Ls=r=>N0(of({},"__esModule",{value:!0}),r);function B0(r,e,t){e=e||[],t=t||0;for(var n=t;r>=ex;)e[t++]=r&255|R0,r/=128;for(;r&Qy;)e[t++]=r&255|R0,r>>>=7;return e[t]=r|0,B0.bytes=t-n+1,e}function Du(r,n){var t=0,n=n||0,i=0,o=n,s,f=r.length;do{if(o>=f)throw Du.bytes=0,new RangeError("Could not decode varint");s=r[o++],t+=i<28?(s&P0)<<i:(s&P0)*Math.pow(2,i),i+=7}while(s>=rx);return Du.bytes=o-n,t}var Xy,R0,Zy,Qy,ex,tx,rx,P0,nx,ix,ox,sx,ax,fx,cx,ux,lx,hx,dx,px,Us,L0=tt(()=>{Xy=B0,R0=128,Zy=127,Qy=~Zy,ex=Math.pow(2,31);tx=Du,rx=128,P0=127;nx=Math.pow(2,7),ix=Math.pow(2,14),ox=Math.pow(2,21),sx=Math.pow(2,28),ax=Math.pow(2,35),fx=Math.pow(2,42),cx=Math.pow(2,49),ux=Math.pow(2,56),lx=Math.pow(2,63),hx=function(r){return r<nx?1:r<ix?2:r<ox?3:r<sx?4:r<ax?5:r<fx?6:r<cx?7:r<ux?8:r<lx?9:10},dx={encode:Xy,decode:tx,encodingLength:hx},px=dx,Us=px});var Io={};Ve(Io,{decode:()=>Do,encodeTo:()=>Bi,encodingLength:()=>Li});var Do,Bi,Li,sf=tt(()=>{L0();Do=(r,e=0)=>[Us.decode(r,e),Us.decode.bytes],Bi=(r,e,t=0)=>(Us.encode(r,e,t),e),Li=r=>Us.encodingLength(r)});var $s={};Ve($s,{coerce:()=>yr,empty:()=>U0,equals:()=>Iu,fromHex:()=>bx,fromString:()=>Ou,isBinary:()=>gx,toHex:()=>mx,toString:()=>Nu});var U0,mx,bx,Iu,yr,gx,Ou,Nu,Yn=tt(()=>{U0=new Uint8Array(0),mx=r=>r.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),bx=r=>{let e=r.match(/../g);return e?new Uint8Array(e.map(t=>parseInt(t,16))):U0},Iu=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},yr=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},gx=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),Ou=r=>new TextEncoder().encode(r),Nu=r=>new TextDecoder().decode(r)});var $i={};Ve($i,{Digest:()=>Ui,create:()=>an,decode:()=>Fs,equals:()=>Ru});var an,Fs,Ru,Ui,Fi=tt(()=>{Yn();sf();an=(r,e)=>{let t=e.byteLength,n=Li(r),i=n+Li(t),o=new Uint8Array(i+t);return Bi(r,o,0),Bi(t,o,n),o.set(e,i),new Ui(r,t,e,o)},Fs=r=>{let e=yr(r),[t,n]=Do(e),[i,o]=Do(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Ui(t,i,s,e)},Ru=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&Iu(r.bytes,e.bytes),Ui=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}}});function vx(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(t[s]!==255)throw new TypeError(o+" is ambiguous");t[s]=i}var f=r.length,h=r.charAt(0),b=Math.log(f)/Math.log(256),g=Math.log(256)/Math.log(f);function w(M){if(M instanceof Uint8Array||(ArrayBuffer.isView(M)?M=new Uint8Array(M.buffer,M.byteOffset,M.byteLength):Array.isArray(M)&&(M=Uint8Array.from(M))),!(M instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(M.length===0)return"";for(var k=0,F=0,I=0,$=M.length;I!==$&&M[I]===0;)I++,k++;for(var j=($-I)*g+1>>>0,H=new Uint8Array(j);I!==$;){for(var W=M[I],B=0,P=j-1;(W!==0||B<F)&&P!==-1;P--,B++)W+=256*H[P]>>>0,H[P]=W%f>>>0,W=W/f>>>0;if(W!==0)throw new Error("Non-zero carry");F=B,I++}for(var L=j-F;L!==j&&H[L]===0;)L++;for(var ee=h.repeat(k);L<j;++L)ee+=r.charAt(H[L]);return ee}function T(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return new Uint8Array;var k=0;if(M[k]!==" "){for(var F=0,I=0;M[k]===h;)F++,k++;for(var $=(M.length-k)*b+1>>>0,j=new Uint8Array($);M[k];){var H=t[M.charCodeAt(k)];if(H===255)return;for(var W=0,B=$-1;(H!==0||W<I)&&B!==-1;B--,W++)H+=f*j[B]>>>0,j[B]=H%256>>>0,H=H/256>>>0;if(H!==0)throw new Error("Non-zero carry");I=W,k++}if(M[k]!==" "){for(var P=$-I;P!==$&&j[P]===0;)P++;for(var L=new Uint8Array(F+($-P)),ee=F;P!==$;)L[ee++]=j[P++];return L}}}function C(M){var k=T(M);if(k)return k;throw new Error(`Non-${e} character`)}return{encode:w,decodeUnsafe:T,decode:C}}var yx,xx,$0,F0=tt(()=>{yx=vx,xx=yx,$0=xx});var Pu,Bu,Lu,q0,Uu,Oo,Wn,wx,Ex,dt,Pr=tt(()=>{F0();Yn();Pu=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Bu=class{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return q0(this,e)}},Lu=class{constructor(e){this.decoders=e}or(e){return q0(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},q0=(r,e)=>new Lu({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),Uu=class{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new Pu(e,t,n),this.decoder=new Bu(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Oo=({name:r,prefix:e,encode:t,decode:n})=>new Uu(r,e,t,n),Wn=({prefix:r,name:e,alphabet:t})=>{let{encode:n,decode:i}=$0(t,e);return Oo({prefix:r,name:e,encode:n,decode:o=>yr(i(o))})},wx=(r,e,t,n)=>{let i={};for(let g=0;g<e.length;++g)i[e[g]]=g;let o=r.length;for(;r[o-1]==="=";)--o;let s=new Uint8Array(o*t/8|0),f=0,h=0,b=0;for(let g=0;g<o;++g){let w=i[r[g]];if(w===void 0)throw new SyntaxError(`Non-${n} character`);h=h<<t|w,f+=t,f>=8&&(f-=8,s[b++]=255&h>>f)}if(f>=t||255&h<<8-f)throw new SyntaxError("Unexpected end of data");return s},Ex=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,o="",s=0,f=0;for(let h=0;h<r.length;++h)for(f=f<<8|r[h],s+=8;s>t;)s-=t,o+=e[i&f>>s];if(s&&(o+=e[i&f<<t-s]),n)for(;o.length*t&7;)o+="=";return o},dt=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Oo({prefix:e,name:r,encode(i){return Ex(i,n,t)},decode(i){return wx(i,n,t,r)}})});var $u={};Ve($u,{base58btc:()=>xr,base58flickr:()=>_x});var xr,_x,af=tt(()=>{Pr();xr=Wn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_x=Wn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var Fu={};Ve(Fu,{base32:()=>No,base32hex:()=>Tx,base32hexpad:()=>Cx,base32hexpadupper:()=>Dx,base32hexupper:()=>kx,base32pad:()=>Sx,base32padupper:()=>Mx,base32upper:()=>Ax,base32z:()=>Ix});var No,Ax,Sx,Mx,Tx,kx,Cx,Dx,Ix,qu=tt(()=>{Pr();No=dt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ax=dt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Sx=dt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Mx=dt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Tx=dt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),kx=dt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Cx=dt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Dx=dt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ix=dt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var Ae,Ox,Nx,Rx,qs,Px,H0,z0,ff,cf,Bx,Lx,Ux,Br=tt(()=>{sf();Fi();af();qu();Yn();Ae=class{constructor(e,t,n,i){this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:cf,byteLength:cf,code:ff,version:ff,multihash:ff,bytes:ff,_baseCache:cf,asCID:cf})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==qs)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Px)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ae.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,n=an(e,t);return Ae.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Ru(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:i}=this;switch(n){case 0:return Nx(t,i,e||xr.encoder);default:return Rx(t,i,e||No.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Lx(/^0\.0/,Ux),!!(e&&(e[z0]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Ae)return e;if(e!=null&&e.asCID===e){let{version:t,code:n,multihash:i,bytes:o}=e;return new Ae(t,n,i,o||H0(t,n,i.bytes))}else if(e!=null&&e[z0]===!0){let{version:t,multihash:n,code:i}=e,o=Fs(n);return Ae.create(t,i,o)}else return null}static create(e,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==qs)throw new Error(`Version 0 CID must use dag-pb (code: ${qs}) block encoding`);return new Ae(e,t,n,n.bytes)}case 1:{let i=H0(e,t,n.bytes);return new Ae(e,t,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return Ae.create(0,qs,e)}static createV1(e,t){return Ae.create(1,e,t)}static decode(e){let[t,n]=Ae.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=Ae.inspectBytes(e),n=t.size-t.multihashSize,i=yr(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=i.subarray(t.multihashSize-t.digestSize),s=new Ui(t.multihashCode,t.digestSize,o,i);return[t.version===0?Ae.createV0(s):Ae.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,n=()=>{let[w,T]=Do(e.subarray(t));return t+=T,w},i=n(),o=qs;if(i===18?(i=0,t=0):i===1&&(o=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=t,f=n(),h=n(),b=t+h,g=b-s;return{version:i,codec:o,multihashCode:f,digestSize:h,multihashSize:g,size:b}}static parse(e,t){let[n,i]=Ox(e,t),o=Ae.decode(i);return o._baseCache.set(n,e),o}},Ox=(r,e)=>{switch(r[0]){case"Q":{let t=e||xr;return[xr.prefix,t.decode(`${xr.prefix}${r}`)]}case xr.prefix:{let t=e||xr;return[xr.prefix,t.decode(r)]}case No.prefix:{let t=e||No;return[No.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},Nx=(r,e,t)=>{let{prefix:n}=t;if(n!==xr.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let i=e.get(n);if(i==null){let o=t.encode(r).slice(1);return e.set(n,o),o}else return i},Rx=(r,e,t)=>{let{prefix:n}=t,i=e.get(n);if(i==null){let o=t.encode(r);return e.set(n,o),o}else return i},qs=112,Px=18,H0=(r,e,t)=>{let n=Li(r),i=n+Li(e),o=new Uint8Array(i+t.byteLength);return Bi(r,o,0),Bi(e,o,n),o.set(t,i),o},z0=Symbol.for("@ipld/js-cid/CID"),ff={writable:!1,configurable:!1,enumerable:!0},cf={writable:!1,enumerable:!1,configurable:!1},Bx="0.0.0-dev",Lx=(r,e)=>{if(r.test(Bx))console.warn(e);else throw new Error(e)},Ux=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var Hu={};Ve(Hu,{base36:()=>Lr,base36upper:()=>$x});var Lr,$x,Ro=tt(()=>{Pr();Lr=Wn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$x=Wn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var J0=le((rT,G0)=>{G0.exports=zu;var j0=128,Hx=127,zx=~Hx,Kx=Math.pow(2,31);function zu(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw zu.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var n=t;r>=Kx;)e[t++]=r&255|j0,r/=128;for(;r&zx;)e[t++]=r&255|j0,r>>>=7;return e[t]=r|0,zu.bytes=t-n+1,e}});var W0=le((nT,Y0)=>{Y0.exports=Ku;var jx=128,V0=127;function Ku(r,n){var t=0,n=n||0,i=0,o=n,s,f=r.length;do{if(o>=f||i>49)throw Ku.bytes=0,new RangeError("Could not decode varint");s=r[o++],t+=i<28?(s&V0)<<i:(s&V0)*Math.pow(2,i),i+=7}while(s>=jx);return Ku.bytes=o-n,t}});var Z0=le((iT,X0)=>{var Gx=Math.pow(2,7),Jx=Math.pow(2,14),Vx=Math.pow(2,21),Yx=Math.pow(2,28),Wx=Math.pow(2,35),Xx=Math.pow(2,42),Zx=Math.pow(2,49),Qx=Math.pow(2,56),e5=Math.pow(2,63);X0.exports=function(r){return r<Gx?1:r<Jx?2:r<Vx?3:r<Yx?4:r<Wx?5:r<Xx?6:r<Zx?7:r<Qx?8:r<e5?9:10}});var Hs=le((oT,Q0)=>{Q0.exports={encode:J0(),decode:W0(),encodingLength:Z0()}});function qi(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}var zs=tt(()=>{});function Ks(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qi(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}var uf=tt(()=>{zs()});var ep={};Ve(ep,{concat:()=>Ur});function Ur(r,e){e||(e=r.reduce((i,o)=>i+o.length,0));let t=Ks(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return qi(t)}var ju=tt(()=>{uf();zs()});var Gu={};Ve(Gu,{identity:()=>t5});var t5,tp=tt(()=>{Pr();Yn();t5=Oo({prefix:"\0",name:"identity",encode:r=>Nu(r),decode:r=>Ou(r)})});var Ju={};Ve(Ju,{base2:()=>r5});var r5,rp=tt(()=>{Pr();r5=dt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var Vu={};Ve(Vu,{base8:()=>n5});var n5,np=tt(()=>{Pr();n5=dt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Yu={};Ve(Yu,{base10:()=>i5});var i5,ip=tt(()=>{Pr();i5=Wn({prefix:"9",name:"base10",alphabet:"0123456789"})});var Wu={};Ve(Wu,{base16:()=>o5,base16upper:()=>s5});var o5,s5,op=tt(()=>{Pr();o5=dt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),s5=dt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var Xu={};Ve(Xu,{base64:()=>a5,base64pad:()=>f5,base64url:()=>Hi,base64urlpad:()=>c5});var a5,f5,Hi,c5,lf=tt(()=>{Pr();a5=dt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),f5=dt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Hi=dt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),c5=dt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var Zu={};Ve(Zu,{base256emoji:()=>p5});function h5(r){return r.reduce((e,t)=>(e+=u5[t],e),"")}function d5(r){let e=[];for(let t of r){let n=l5[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}var sp,u5,l5,p5,ap=tt(()=>{Pr();sp=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),u5=sp.reduce((r,e,t)=>(r[t]=e,r),[]),l5=sp.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);p5=Oo({prefix:"\u{1F680}",name:"base256emoji",encode:h5,decode:d5})});var pf={};Ve(pf,{Hasher:()=>hf,from:()=>df});var df,hf,Qu=tt(()=>{Fi();df=({name:r,code:e,encode:t})=>new hf(r,e,t),hf=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?an(this.code,t):t.then(n=>an(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var el={};Ve(el,{sha256:()=>Xn,sha512:()=>m5});var fp,Xn,m5,js=tt(()=>{Qu();fp=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),Xn=df({name:"sha2-256",code:18,encode:fp("SHA-256")}),m5=df({name:"sha2-512",code:19,encode:fp("SHA-512")})});var tl={};Ve(tl,{identity:()=>mf});var cp,b5,up,g5,mf,rl=tt(()=>{Yn();Fi();cp=0,b5="identity",up=yr,g5=r=>an(cp,up(r)),mf={code:cp,name:b5,encode:up,digest:g5}});var nl={};Ve(nl,{code:()=>y5,decode:()=>w5,encode:()=>x5,name:()=>v5});var v5,y5,x5,w5,lp=tt(()=>{Yn();v5="raw",y5=85,x5=r=>yr(r),w5=r=>yr(r)});var il={};Ve(il,{code:()=>S5,decode:()=>T5,encode:()=>M5,name:()=>A5});var E5,_5,A5,S5,M5,T5,hp=tt(()=>{E5=new TextEncoder,_5=new TextDecoder,A5="json",S5=512,M5=r=>E5.encode(JSON.stringify(r)),T5=r=>JSON.parse(_5.decode(r))});var ol=tt(()=>{Br();sf();Yn();Qu();Fi()});var dp={};Ve(dp,{CID:()=>Ae,bases:()=>Po,bytes:()=>$s,codecs:()=>C5,digest:()=>$i,hasher:()=>pf,hashes:()=>k5,varint:()=>Io});var Po,k5,C5,bf=tt(()=>{tp();rp();np();ip();op();qu();Ro();af();lf();ap();js();rl();lp();hp();ol();Po={...Gu,...Ju,...Vu,...Yu,...Wu,...Fu,...Hu,...$u,...Xu,...Zu},k5={...el,...tl},C5={raw:nl,json:il}});function mp(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var pp,sl,D5,gf,al=tt(()=>{bf();uf();pp=mp("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),sl=mp("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=Ks(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),D5={utf8:pp,"utf-8":pp,hex:Po.base16,latin1:sl,ascii:sl,binary:sl,...Po},gf=D5});var bp={};Ve(bp,{fromString:()=>Je});function Je(r,e="utf8"){let t=gf[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qi(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}var Gs=tt(()=>{al();zs()});var gp={};Ve(gp,{toString:()=>We});function We(r,e="utf8"){let t=gf[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var Bo=tt(()=>{al()});var fa=le((oa,es)=>{var V4=200,Tm="__lodash_hash_undefined__",km=9007199254740991,rh="[object Arguments]",Y4="[object Array]",Cm="[object Boolean]",Dm="[object Date]",W4="[object Error]",nh="[object Function]",Im="[object GeneratorFunction]",Xf="[object Map]",Om="[object Number]",ih="[object Object]",bm="[object Promise]",Nm="[object RegExp]",Zf="[object Set]",Rm="[object String]",Pm="[object Symbol]",Wl="[object WeakMap]",Bm="[object ArrayBuffer]",Qf="[object DataView]",Lm="[object Float32Array]",Um="[object Float64Array]",$m="[object Int8Array]",Fm="[object Int16Array]",qm="[object Int32Array]",Hm="[object Uint8Array]",zm="[object Uint8ClampedArray]",Km="[object Uint16Array]",jm="[object Uint32Array]",X4=/[\\^$.*+?()[\]{}|]/g,Z4=/\w*$/,Q4=/^\[object .+?Constructor\]$/,e8=/^(?:0|[1-9]\d*)$/,ct={};ct[rh]=ct[Y4]=ct[Bm]=ct[Qf]=ct[Cm]=ct[Dm]=ct[Lm]=ct[Um]=ct[$m]=ct[Fm]=ct[qm]=ct[Xf]=ct[Om]=ct[ih]=ct[Nm]=ct[Zf]=ct[Rm]=ct[Pm]=ct[Hm]=ct[zm]=ct[Km]=ct[jm]=!0;ct[W4]=ct[nh]=ct[Wl]=!1;var t8=typeof global=="object"&&global&&global.Object===Object&&global,r8=typeof self=="object"&&self&&self.Object===Object&&self,Dn=t8||r8||Function("return this")(),Gm=typeof oa=="object"&&oa&&!oa.nodeType&&oa,gm=Gm&&typeof es=="object"&&es&&!es.nodeType&&es,n8=gm&&gm.exports===Gm;function i8(r,e){return r.set(e[0],e[1]),r}function o8(r,e){return r.add(e),r}function s8(r,e){for(var t=-1,n=r?r.length:0;++t<n&&e(r[t],t,r)!==!1;);return r}function a8(r,e){for(var t=-1,n=e.length,i=r.length;++t<n;)r[i+t]=e[t];return r}function Jm(r,e,t,n){var i=-1,o=r?r.length:0;for(n&&o&&(t=r[++i]);++i<o;)t=e(t,r[i],i,r);return t}function f8(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}function c8(r,e){return r?.[e]}function Vm(r){var e=!1;if(r!=null&&typeof r.toString!="function")try{e=!!(r+"")}catch{}return e}function vm(r){var e=-1,t=Array(r.size);return r.forEach(function(n,i){t[++e]=[i,n]}),t}function oh(r,e){return function(t){return r(e(t))}}function ym(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t}var u8=Array.prototype,l8=Function.prototype,ec=Object.prototype,Yl=Dn["__core-js_shared__"],xm=function(){var r=/[^.]+$/.exec(Yl&&Yl.keys&&Yl.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Ym=l8.toString,ri=ec.hasOwnProperty,tc=ec.toString,h8=RegExp("^"+Ym.call(ri).replace(X4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wm=n8?Dn.Buffer:void 0,Em=Dn.Symbol,_m=Dn.Uint8Array,d8=oh(Object.getPrototypeOf,Object),p8=Object.create,m8=ec.propertyIsEnumerable,b8=u8.splice,Am=Object.getOwnPropertySymbols,g8=wm?wm.isBuffer:void 0,v8=oh(Object.keys,Object),Xl=ns(Dn,"DataView"),sa=ns(Dn,"Map"),Zl=ns(Dn,"Promise"),Ql=ns(Dn,"Set"),eh=ns(Dn,"WeakMap"),aa=ns(Object,"create"),y8=to(Xl),x8=to(sa),w8=to(Zl),E8=to(Ql),_8=to(eh),Sm=Em?Em.prototype:void 0,Mm=Sm?Sm.valueOf:void 0;function eo(r){var e=-1,t=r?r.length:0;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}function A8(){this.__data__=aa?aa(null):{}}function S8(r){return this.has(r)&&delete this.__data__[r]}function M8(r){var e=this.__data__;if(aa){var t=e[r];return t===Tm?void 0:t}return ri.call(e,r)?e[r]:void 0}function T8(r){var e=this.__data__;return aa?e[r]!==void 0:ri.call(e,r)}function k8(r,e){var t=this.__data__;return t[r]=aa&&e===void 0?Tm:e,this}eo.prototype.clear=A8;eo.prototype.delete=S8;eo.prototype.get=M8;eo.prototype.has=T8;eo.prototype.set=k8;function In(r){var e=-1,t=r?r.length:0;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}function C8(){this.__data__=[]}function D8(r){var e=this.__data__,t=rc(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():b8.call(e,t,1),!0}function I8(r){var e=this.__data__,t=rc(e,r);return t<0?void 0:e[t][1]}function O8(r){return rc(this.__data__,r)>-1}function N8(r,e){var t=this.__data__,n=rc(t,r);return n<0?t.push([r,e]):t[n][1]=e,this}In.prototype.clear=C8;In.prototype.delete=D8;In.prototype.get=I8;In.prototype.has=O8;In.prototype.set=N8;function ts(r){var e=-1,t=r?r.length:0;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}function R8(){this.__data__={hash:new eo,map:new(sa||In),string:new eo}}function P8(r){return nc(this,r).delete(r)}function B8(r){return nc(this,r).get(r)}function L8(r){return nc(this,r).has(r)}function U8(r,e){return nc(this,r).set(r,e),this}ts.prototype.clear=R8;ts.prototype.delete=P8;ts.prototype.get=B8;ts.prototype.has=L8;ts.prototype.set=U8;function rs(r){this.__data__=new In(r)}function $8(){this.__data__=new In}function F8(r){return this.__data__.delete(r)}function q8(r){return this.__data__.get(r)}function H8(r){return this.__data__.has(r)}function z8(r,e){var t=this.__data__;if(t instanceof In){var n=t.__data__;if(!sa||n.length<V4-1)return n.push([r,e]),this;t=this.__data__=new ts(n)}return t.set(r,e),this}rs.prototype.clear=$8;rs.prototype.delete=F8;rs.prototype.get=q8;rs.prototype.has=H8;rs.prototype.set=z8;function K8(r,e){var t=ah(r)||pw(r)?f8(r.length,String):[],n=t.length,i=!!n;for(var o in r)(e||ri.call(r,o))&&!(i&&(o=="length"||uw(o,n)))&&t.push(o);return t}function Wm(r,e,t){var n=r[e];(!(ri.call(r,e)&&eb(n,t))||t===void 0&&!(e in r))&&(r[e]=t)}function rc(r,e){for(var t=r.length;t--;)if(eb(r[t][0],e))return t;return-1}function j8(r,e){return r&&Xm(e,fh(e),r)}function th(r,e,t,n,i,o,s){var f;if(n&&(f=o?n(r,i,o,s):n(r)),f!==void 0)return f;if(!ic(r))return r;var h=ah(r);if(h){if(f=aw(r),!e)return iw(r,f)}else{var b=Qi(r),g=b==nh||b==Im;if(bw(r))return X8(r,e);if(b==ih||b==rh||g&&!o){if(Vm(r))return o?r:{};if(f=fw(g?{}:r),!e)return ow(r,j8(f,r))}else{if(!ct[b])return o?r:{};f=cw(r,b,th,e)}}s||(s=new rs);var w=s.get(r);if(w)return w;if(s.set(r,f),!h)var T=t?sw(r):fh(r);return s8(T||r,function(C,M){T&&(M=C,C=r[M]),Wm(f,M,th(C,e,t,n,M,r,s))}),f}function G8(r){return ic(r)?p8(r):{}}function J8(r,e,t){var n=e(r);return ah(r)?n:a8(n,t(r))}function V8(r){return tc.call(r)}function Y8(r){if(!ic(r)||hw(r))return!1;var e=rb(r)||Vm(r)?h8:Q4;return e.test(to(r))}function W8(r){if(!Qm(r))return v8(r);var e=[];for(var t in Object(r))ri.call(r,t)&&t!="constructor"&&e.push(t);return e}function X8(r,e){if(e)return r.slice();var t=new r.constructor(r.length);return r.copy(t),t}function sh(r){var e=new r.constructor(r.byteLength);return new _m(e).set(new _m(r)),e}function Z8(r,e){var t=e?sh(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)}function Q8(r,e,t){var n=e?t(vm(r),!0):vm(r);return Jm(n,i8,new r.constructor)}function ew(r){var e=new r.constructor(r.source,Z4.exec(r));return e.lastIndex=r.lastIndex,e}function tw(r,e,t){var n=e?t(ym(r),!0):ym(r);return Jm(n,o8,new r.constructor)}function rw(r){return Mm?Object(Mm.call(r)):{}}function nw(r,e){var t=e?sh(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}function iw(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e}function Xm(r,e,t,n){t||(t={});for(var i=-1,o=e.length;++i<o;){var s=e[i],f=n?n(t[s],r[s],s,t,r):void 0;Wm(t,s,f===void 0?r[s]:f)}return t}function ow(r,e){return Xm(r,Zm(r),e)}function sw(r){return J8(r,fh,Zm)}function nc(r,e){var t=r.__data__;return lw(e)?t[typeof e=="string"?"string":"hash"]:t.map}function ns(r,e){var t=c8(r,e);return Y8(t)?t:void 0}var Zm=Am?oh(Am,Object):yw,Qi=V8;(Xl&&Qi(new Xl(new ArrayBuffer(1)))!=Qf||sa&&Qi(new sa)!=Xf||Zl&&Qi(Zl.resolve())!=bm||Ql&&Qi(new Ql)!=Zf||eh&&Qi(new eh)!=Wl)&&(Qi=function(r){var e=tc.call(r),t=e==ih?r.constructor:void 0,n=t?to(t):void 0;if(n)switch(n){case y8:return Qf;case x8:return Xf;case w8:return bm;case E8:return Zf;case _8:return Wl}return e});function aw(r){var e=r.length,t=r.constructor(e);return e&&typeof r[0]=="string"&&ri.call(r,"index")&&(t.index=r.index,t.input=r.input),t}function fw(r){return typeof r.constructor=="function"&&!Qm(r)?G8(d8(r)):{}}function cw(r,e,t,n){var i=r.constructor;switch(e){case Bm:return sh(r);case Cm:case Dm:return new i(+r);case Qf:return Z8(r,n);case Lm:case Um:case $m:case Fm:case qm:case Hm:case zm:case Km:case jm:return nw(r,n);case Xf:return Q8(r,n,t);case Om:case Rm:return new i(r);case Nm:return ew(r);case Zf:return tw(r,n,t);case Pm:return rw(r)}}function uw(r,e){return e=e??km,!!e&&(typeof r=="number"||e8.test(r))&&r>-1&&r%1==0&&r<e}function lw(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function hw(r){return!!xm&&xm in r}function Qm(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||ec;return r===t}function to(r){if(r!=null){try{return Ym.call(r)}catch{}try{return r+""}catch{}}return""}function dw(r){return th(r,!0,!0)}function eb(r,e){return r===e||r!==r&&e!==e}function pw(r){return mw(r)&&ri.call(r,"callee")&&(!m8.call(r,"callee")||tc.call(r)==rh)}var ah=Array.isArray;function tb(r){return r!=null&&gw(r.length)&&!rb(r)}function mw(r){return vw(r)&&tb(r)}var bw=g8||xw;function rb(r){var e=ic(r)?tc.call(r):"";return e==nh||e==Im}function gw(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=km}function ic(r){var e=typeof r;return!!r&&(e=="object"||e=="function")}function vw(r){return!!r&&typeof r=="object"}function fh(r){return tb(r)?K8(r):W8(r)}function yw(){return[]}function xw(){return!1}es.exports=dw});var sb=le((On,ob)=>{var ib=typeof self<"u"?self:On,oc=function(){function r(){this.fetch=!1,this.DOMException=ib.DOMException}return r.prototype=ib,new r}();(function(r){var e=function(t){var n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function i(E){return E&&DataView.prototype.isPrototypeOf(E)}if(n.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(E){return E&&o.indexOf(Object.prototype.toString.call(E))>-1};function f(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(E))throw new TypeError("Invalid character in header field name");return E.toLowerCase()}function h(E){return typeof E!="string"&&(E=String(E)),E}function b(E){var c={next:function(){var p=E.shift();return{done:p===void 0,value:p}}};return n.iterable&&(c[Symbol.iterator]=function(){return c}),c}function g(E){this.map={},E instanceof g?E.forEach(function(c,p){this.append(p,c)},this):Array.isArray(E)?E.forEach(function(c){this.append(c[0],c[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(c){this.append(c,E[c])},this)}g.prototype.append=function(E,c){E=f(E),c=h(c);var p=this.map[E];this.map[E]=p?p+", "+c:c},g.prototype.delete=function(E){delete this.map[f(E)]},g.prototype.get=function(E){return E=f(E),this.has(E)?this.map[E]:null},g.prototype.has=function(E){return this.map.hasOwnProperty(f(E))},g.prototype.set=function(E,c){this.map[f(E)]=h(c)},g.prototype.forEach=function(E,c){for(var p in this.map)this.map.hasOwnProperty(p)&&E.call(c,this.map[p],p,this)},g.prototype.keys=function(){var E=[];return this.forEach(function(c,p){E.push(p)}),b(E)},g.prototype.values=function(){var E=[];return this.forEach(function(c){E.push(c)}),b(E)},g.prototype.entries=function(){var E=[];return this.forEach(function(c,p){E.push([p,c])}),b(E)},n.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function w(E){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}function T(E){return new Promise(function(c,p){E.onload=function(){c(E.result)},E.onerror=function(){p(E.error)}})}function C(E){var c=new FileReader,p=T(c);return c.readAsArrayBuffer(E),p}function M(E){var c=new FileReader,p=T(c);return c.readAsText(E),p}function k(E){for(var c=new Uint8Array(E),p=new Array(c.length),l=0;l<c.length;l++)p[l]=String.fromCharCode(c[l]);return p.join("")}function F(E){if(E.slice)return E.slice(0);var c=new Uint8Array(E.byteLength);return c.set(new Uint8Array(E)),c.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(E){this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:n.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:n.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():n.arrayBuffer&&n.blob&&i(E)?(this._bodyArrayBuffer=F(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||s(E))?this._bodyArrayBuffer=F(E):this._bodyText=E=Object.prototype.toString.call(E):this._bodyText="",this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var E=w(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(C)}),this.text=function(){var E=w(this);if(E)return E;if(this._bodyBlob)return M(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(k(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function j(E){var c=E.toUpperCase();return $.indexOf(c)>-1?c:E}function H(E,c){c=c||{};var p=c.body;if(E instanceof H){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,c.headers||(this.headers=new g(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!p&&E._bodyInit!=null&&(p=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=c.credentials||this.credentials||"same-origin",(c.headers||!this.headers)&&(this.headers=new g(c.headers)),this.method=j(c.method||this.method||"GET"),this.mode=c.mode||this.mode||null,this.signal=c.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&p)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(p)}H.prototype.clone=function(){return new H(this,{body:this._bodyInit})};function W(E){var c=new FormData;return E.trim().split("&").forEach(function(p){if(p){var l=p.split("="),a=l.shift().replace(/\+/g," "),u=l.join("=").replace(/\+/g," ");c.append(decodeURIComponent(a),decodeURIComponent(u))}}),c}function B(E){var c=new g,p=E.replace(/\r?\n[\t ]+/g," ");return p.split(/\r?\n/).forEach(function(l){var a=l.split(":"),u=a.shift().trim();if(u){var v=a.join(":").trim();c.append(u,v)}}),c}I.call(H.prototype);function P(E,c){c||(c={}),this.type="default",this.status=c.status===void 0?200:c.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in c?c.statusText:"OK",this.headers=new g(c.headers),this.url=c.url||"",this._initBody(E)}I.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},P.error=function(){var E=new P(null,{status:0,statusText:""});return E.type="error",E};var L=[301,302,303,307,308];P.redirect=function(E,c){if(L.indexOf(c)===-1)throw new RangeError("Invalid status code");return new P(null,{status:c,headers:{location:E}})},t.DOMException=r.DOMException;try{new t.DOMException}catch{t.DOMException=function(c,p){this.message=c,this.name=p;var l=Error(c);this.stack=l.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function ee(E,c){return new Promise(function(p,l){var a=new H(E,c);if(a.signal&&a.signal.aborted)return l(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function v(){u.abort()}u.onload=function(){var x={status:u.status,statusText:u.statusText,headers:B(u.getAllResponseHeaders()||"")};x.url="responseURL"in u?u.responseURL:x.headers.get("X-Request-URL");var y="response"in u?u.response:u.responseText;p(new P(y,x))},u.onerror=function(){l(new TypeError("Network request failed"))},u.ontimeout=function(){l(new TypeError("Network request failed"))},u.onabort=function(){l(new t.DOMException("Aborted","AbortError"))},u.open(a.method,a.url,!0),a.credentials==="include"?u.withCredentials=!0:a.credentials==="omit"&&(u.withCredentials=!1),"responseType"in u&&n.blob&&(u.responseType="blob"),a.headers.forEach(function(x,y){u.setRequestHeader(y,x)}),a.signal&&(a.signal.addEventListener("abort",v),u.onreadystatechange=function(){u.readyState===4&&a.signal.removeEventListener("abort",v)}),u.send(typeof a._bodyInit>"u"?null:a._bodyInit)})}return ee.polyfill=!0,r.fetch||(r.fetch=ee,r.Headers=g,r.Request=H,r.Response=P),t.Headers=g,t.Request=H,t.Response=P,t.fetch=ee,Object.defineProperty(t,"__esModule",{value:!0}),t}({})})(oc);oc.fetch.ponyfill=!0;delete oc.fetch.polyfill;var is=oc;On=is.fetch;On.default=is.fetch;On.fetch=is.fetch;On.Headers=is.Headers;On.Request=is.Request;On.Response=is.Response;ob.exports=On});var hb=le(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.BrowserRandomSource=void 0;var lb=65536,lh=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let n=0;n<t.length;n+=lb)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,lb)));return t}};ac.BrowserRandomSource=lh});var Sr=le(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});function Ew(r){for(var e=0;e<r.length;e++)r[e]=0;return r}hh.wipe=Ew});var dh=le(()=>{});var db=le(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.NodeRandomSource=void 0;var _w=Sr(),ph=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof O0<"u"){let e=dh();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=t[i];return(0,_w.wipe)(t),n}};fc.NodeRandomSource=ph});var pb=le(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.SystemRandomSource=void 0;var Aw=hb(),Sw=db(),mh=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Aw.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Sw.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};cc.SystemRandomSource=mh});var mb=le(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});function Mw(r,e){var t=r>>>16&65535,n=r&65535,i=e>>>16&65535,o=e&65535;return n*o+(t*o+n*i<<16>>>0)|0}fr.mul=Math.imul||Mw;function Tw(r,e){return r+e|0}fr.add=Tw;function kw(r,e){return r-e|0}fr.sub=kw;function Cw(r,e){return r<<e|r>>>32-e}fr.rotl=Cw;function Dw(r,e){return r<<32-e|r>>>e}fr.rotr=Dw;function Iw(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}fr.isInteger=Number.isInteger||Iw;fr.MAX_SAFE_INTEGER=9007199254740991;fr.isSafeInteger=function(r){return fr.isInteger(r)&&r>=-fr.MAX_SAFE_INTEGER&&r<=fr.MAX_SAFE_INTEGER}});var ro=le(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var bb=mb();function Ow(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Ge.readInt16BE=Ow;function Nw(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Ge.readUint16BE=Nw;function Rw(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Ge.readInt16LE=Rw;function Pw(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Ge.readUint16LE=Pw;function gb(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Ge.writeUint16BE=gb;Ge.writeInt16BE=gb;function vb(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Ge.writeUint16LE=vb;Ge.writeInt16LE=vb;function bh(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Ge.readInt32BE=bh;function gh(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Ge.readUint32BE=gh;function vh(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Ge.readInt32LE=vh;function yh(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Ge.readUint32LE=yh;function uc(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Ge.writeUint32BE=uc;Ge.writeInt32BE=uc;function lc(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Ge.writeUint32LE=lc;Ge.writeInt32LE=lc;function Bw(r,e){e===void 0&&(e=0);var t=bh(r,e),n=bh(r,e+4);return t*4294967296+n-(n>>31)*4294967296}Ge.readInt64BE=Bw;function Lw(r,e){e===void 0&&(e=0);var t=gh(r,e),n=gh(r,e+4);return t*4294967296+n}Ge.readUint64BE=Lw;function Uw(r,e){e===void 0&&(e=0);var t=vh(r,e),n=vh(r,e+4);return n*4294967296+t-(t>>31)*4294967296}Ge.readInt64LE=Uw;function $w(r,e){e===void 0&&(e=0);var t=yh(r,e),n=yh(r,e+4);return n*4294967296+t}Ge.readUint64LE=$w;function yb(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),uc(r/4294967296>>>0,e,t),uc(r>>>0,e,t+4),e}Ge.writeUint64BE=yb;Ge.writeInt64BE=yb;function xb(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),lc(r>>>0,e,t),lc(r/4294967296>>>0,e,t+4),e}Ge.writeUint64LE=xb;Ge.writeInt64LE=xb;function Fw(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=r/8+t-1;o>=t;o--)n+=e[o]*i,i*=256;return n}Ge.readUintBE=Fw;function qw(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=t;o<t+r/8;o++)n+=e[o]*i,i*=256;return n}Ge.readUintLE=qw;function Hw(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!bb.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,o=r/8+n-1;o>=n;o--)t[o]=e/i&255,i*=256;return t}Ge.writeUintBE=Hw;function zw(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!bb.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,o=n;o<n+r/8;o++)t[o]=e/i&255,i*=256;return t}Ge.writeUintLE=zw;function Kw(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Ge.readFloat32BE=Kw;function jw(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Ge.readFloat32LE=jw;function Gw(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Ge.readFloat64BE=Gw;function Jw(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Ge.readFloat64LE=Jw;function Vw(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r),e}Ge.writeFloat32BE=Vw;function Yw(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r,!0),e}Ge.writeFloat32LE=Yw;function Ww(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r),e}Ge.writeFloat64BE=Ww;function Xw(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r,!0),e}Ge.writeFloat64LE=Xw});var no=le($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.randomStringForEntropy=$t.randomString=$t.randomUint32=$t.randomBytes=$t.defaultRandomSource=void 0;var Zw=pb(),Qw=ro(),wb=Sr();$t.defaultRandomSource=new Zw.SystemRandomSource;function xh(r,e=$t.defaultRandomSource){return e.randomBytes(r)}$t.randomBytes=xh;function e9(r=$t.defaultRandomSource){let e=xh(4,r),t=(0,Qw.readUint32LE)(e);return(0,wb.wipe)(e),t}$t.randomUint32=e9;var Eb="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function _b(r,e=Eb,t=$t.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let n="",i=e.length,o=256-256%i;for(;r>0;){let s=xh(Math.ceil(r*256/o),t);for(let f=0;f<s.length&&r>0;f++){let h=s[f];h<o&&(n+=e.charAt(h%i),r--)}(0,wb.wipe)(s)}return n}$t.randomString=_b;function t9(r,e=Eb,t=$t.defaultRandomSource){let n=Math.ceil(r/(Math.log(e.length)/Math.LN2));return _b(n,e,t)}$t.randomStringForEntropy=t9});var Kr=le((xR,Mb)=>{Mb.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}});var pa=le((wR,Tb)=>{Tb.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}});var Db=le(It=>{var kb=It,hc=4294967292,dc=4294967293,Sh=4294967294,Cb=4294967295,be=[0,1,3,7,15,31,63,127,255,511,1023],si=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],a9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),cr=[];a9.forEach(r=>{cr.push(r.charCodeAt(0))});It.utf8={encode(r){let e=[];return r.forEach(t=>{if(t>=0&&t<=127)e.push(t);else if(t<=2047)e.push(192+(t>>6&be[5])),e.push(128+(t&be[6]));else if(t<55296||t>57343&&t<=65535)e.push(224+(t>>12&be[4])),e.push(128+(t>>6&be[6])),e.push(128+(t&be[6]));else if(t>=65536&&t<=1114111){let n=t>>16&be[5];e.push(240+(n>>2)),e.push(128+((n&be[2])<<4)+(t>>12&be[4])),e.push(128+(t>>6&be[6])),e.push(128+(t&be[6]))}else throw new RangeError(`utf8.encode: character out of range: char: ${t}`)}),global.Buffer.from(e)},decode(r,e){function t(M,k){if((k&192)!==128)return dc;let F=((M&be[5])<<6)+(k&be[6]);return F<128?hc:F}function n(M,k,F){if((F&192)!==128||(k&192)!==128)return dc;let I=((M&be[4])<<12)+((k&be[6])<<6)+(F&be[6]);return I<2048?hc:I>=55296&&I<=57343?Sh:I}function i(M,k,F,I){if((I&192)!==128||(F&192)!==128||(k&192)!==128)return dc;let $=(((M&be[3])<<2)+(k>>4&be[2])<<16)+((k&be[4])<<12)+((F&be[6])<<6)+(I&be[6]);return $<65536?hc:$>1114111?Sh:$}let o,s,f,h,b,g,w=r.length,T=e?3:0,C=[];for(;T<w;){s=r[T],o=Cb;let M=!0;for(;M;){if(s>=0&&s<=127){o=s,g=1;break}if(f=T+1,f<w&&s>=194&&s<=223){o=t(s,r[f]),g=2;break}if(h=T+2,h<w&&s>=224&&s<=239){o=n(s,r[f],r[h]),g=3;break}if(b=T+3,b<w&&s>=240&&s<=244){o=i(s,r[f],r[h],r[b]),g=4;break}break}if(o>1114111){let k=`byte[${T}]`;throw o===Cb?new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${k}`):o===dc?new RangeError(`utf8.decode: illegal trailing byte found at: ${k}`):o===Sh?new RangeError(`utf8.decode: code point out of range found at: ${k}`):o===hc?new RangeError(`utf8.decode: non-shortest form found at: ${k}`):new RangeError(`utf8.decode: unrecognized error found at: ${k}`)}C.push(o),T+=g}return C}};It.utf16be={encode(r){let e=[],t,n,i;for(let o=0;o<r.length;o+=1)if(t=r[o],t>=0&&t<=55295||t>=57344&&t<=65535)e.push(t>>8&be[8]),e.push(t&be[8]);else if(t>=65536&&t<=1114111)i=t-65536,n=55296+(i>>10),i=56320+(i&be[10]),e.push(n>>8&be[8]),e.push(n&be[8]),e.push(i>>8&be[8]),e.push(i&be[8]);else throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${o}]: ${t}`);return global.Buffer.from(e)},decode(r,e){if(r.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${r.length}`);let t=[],n=r.length,i=e?2:0,o=0,s,f,h,b,g,w;for(;i<n;){for(;;){if(h=i+1,h<n){if(g=(r[i]<<8)+r[h],g<55296||g>57343){s=g,f=2;break}if(b=i+3,b<n&&(w=(r[i+2]<<8)+r[b],g<=56319&&w>=56320&&w<=57343)){s=65536+(g-55296<<10)+(w-56320),f=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${i}]`)}t[o++]=s,i+=f}return t}};It.utf16le={encode(r){let e=[],t,n,i;for(let o=0;o<r.length;o+=1)if(t=r[o],t>=0&&t<=55295||t>=57344&&t<=65535)e.push(t&be[8]),e.push(t>>8&be[8]);else if(t>=65536&&t<=1114111)i=t-65536,n=55296+(i>>10),i=56320+(i&be[10]),e.push(n&be[8]),e.push(n>>8&be[8]),e.push(i&be[8]),e.push(i>>8&be[8]);else throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${o}]: ${t}`);return global.Buffer.from(e)},decode(r,e){if(r.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${r.length}`);let t=[],n=r.length,i=e?2:0,o=0,s,f,h,b,g,w;for(;i<n;){for(;;){if(h=i+1,h<n){if(g=(r[h]<<8)+r[i],g<55296||g>57343){s=g,f=2;break}if(b=i+3,b<n&&(w=(r[b]<<8)+r[i+2],g<=56319&&w>=56320&&w<=57343)){s=65536+(g-55296<<10)+(w-56320),f=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${i}]`)}t[o++]=s,i+=f}return t}};It.utf32be={encode(r){let e=global.Buffer.alloc(r.length*4),t=0;return r.forEach(n=>{if(n>=55296&&n<=57343||n>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${t/4}]: ${n}`);e[t++]=n>>24&be[8],e[t++]=n>>16&be[8],e[t++]=n>>8&be[8],e[t++]=n&be[8]}),e},decode(r,e){if(r.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${r.length}`);let t=[],n=e?4:0;for(;n<r.length;n+=4){let i=(r[n]<<24)+(r[n+1]<<16)+(r[n+2]<<8)+r[n+3];if(i>=55296&&i<=57343||i>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${n/4}]: ${i}`);t.push(i)}return t}};It.utf32le={encode(r){let e=global.Buffer.alloc(r.length*4),t=0;return r.forEach(n=>{if(n>=55296&&n<=57343||n>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${t/4}]: ${n}`);e[t++]=n&be[8],e[t++]=n>>8&be[8],e[t++]=n>>16&be[8],e[t++]=n>>24&be[8]}),e},decode(r,e){if(r.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${r.length}`);let t=[],n=e?4:0;for(;n<r.length;n+=4){let i=(r[n+3]<<24)+(r[n+2]<<16)+(r[n+1]<<8)+r[n];if(i>=55296&&i<=57343||i>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${n/4}]: ${i}`);t.push(i)}return t}};It.uint7={encode(r){let e=global.Buffer.alloc(r.length);for(let t=0;t<r.length;t+=1){if(r[t]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${t}]: ${r[t]}`);e[t]=r[t]}return e},decode(r){let e=[];for(let t=0;t<r.length;t+=1){if(r[t]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${t}]: ${r[t]}`);e[t]=r[t]}return e}};It.uint8={encode(r){let e=global.Buffer.alloc(r.length);for(let t=0;t<r.length;t+=1){if(r[t]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${t}]: ${r[t]}`);e[t]=r[t]}return e},decode(r){let e=[];for(let t=0;t<r.length;t+=1)e[t]=r[t];return e}};It.uint16be={encode(r){let e=global.Buffer.alloc(r.length*2),t=0;return r.forEach(n=>{if(n>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${t/2}]: ${n}`);e[t++]=n>>8&be[8],e[t++]=n&be[8]}),e},decode(r){if(r.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${r.length}`);let e=[];for(let t=0;t<r.length;t+=2)e.push((r[t]<<8)+r[t+1]);return e}};It.uint16le={encode(r){let e=global.Buffer.alloc(r.length*2),t=0;return r.forEach(n=>{if(n>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${t/2}]: ${n}`);e[t++]=n&be[8],e[t++]=n>>8&be[8]}),e},decode(r){if(r.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${r.length}`);let e=[];for(let t=0;t<r.length;t+=2)e.push((r[t+1]<<8)+r[t]);return e}};It.uint32be={encode(r){let e=global.Buffer.alloc(r.length*4),t=0;return r.forEach(n=>{e[t++]=n>>24&be[8],e[t++]=n>>16&be[8],e[t++]=n>>8&be[8],e[t++]=n&be[8]}),e},decode(r){if(r.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${r.length}`);let e=[];for(let t=0;t<r.length;t+=4)e.push((r[t]<<24)+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3]);return e}};It.uint32le={encode(r){let e=global.Buffer.alloc(r.length*4),t=0;return r.forEach(n=>{e[t++]=n&be[8],e[t++]=n>>8&be[8],e[t++]=n>>16&be[8],e[t++]=n>>24&be[8]}),e},decode(r){if(r.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${r.length}`);let e=[];for(let t=0;t<r.length;t+=4)e.push((r[t+3]<<24)+(r[t+2]<<16)+(r[t+1]<<8)+r[t]);return e}};It.string={encode(r){return kb.utf16le.encode(r).toString("utf16le")},decode(r){return kb.utf16le.decode(global.Buffer.from(r,"utf16le"),0)}};It.escaped={encode(r){let e=[];for(let t=0;t<r.length;t+=1){let n=r[t];if(n===96)e.push(n),e.push(n);else if(n===10)e.push(n);else if(n>=32&&n<=126)e.push(n);else{let i="";if(n>=0&&n<=31)i+=`\`x${si[n]}`;else if(n>=127&&n<=255)i+=`\`x${si[n]}`;else if(n>=256&&n<=65535)i+=`\`u${si[n>>8&be[8]]}${si[n&be[8]]}`;else if(n>=65536&&n<=4294967295){i+="`u{";let s=n>>24&be[8];s>0&&(i+=si[s]),i+=`${si[n>>16&be[8]]+si[n>>8&be[8]]+si[n&be[8]]}}`}else throw new Error("escape.encode(char): char > 0xffffffff not allowed");global.Buffer.from(i).forEach(s=>{e.push(s)})}}return global.Buffer.from(e)},decode(r){function e(w){return w>=48&&w<=57||w>=65&&w<=70||w>=97&&w<=102}function t(w,T,C){let M={char:null,nexti:w+2,error:!0};if(w+1<T&&e(C[w])&&e(C[w+1])){let k=String.fromCodePoint(C[w],C[w+1]);M.char=parseInt(k,16),Number.isNaN(M.char)||(M.error=!1)}return M}function n(w,T,C){let M={char:null,nexti:w+4,error:!0};if(w+3<T&&e(C[w])&&e(C[w+1])&&e(C[w+2])&&e(C[w+3])){let k=String.fromCodePoint(C[w],C[w+1],C[w+2],C[w+3]);M.char=parseInt(k,16),Number.isNaN(M.char)||(M.error=!1)}return M}function i(w,T,C){let M={char:null,nexti:w+4,error:!0},k="";for(;w<T&&e(C[w]);)k+=String.fromCodePoint(C[w]),w+=1;return M.char=parseInt(k,16),C[w]===125&&!Number.isNaN(M.char)&&(M.error=!1),M.nexti=w+1,M}let o=[],s=r.length,f,h,b,g=0;for(;g<s;){for(;;){if(b=!0,r[g]!==96){o.push(r[g]),g+=1,b=!1;break}if(f=g+1,f>=s)break;if(r[f]===96){o.push(96),g+=2,b=!1;break}if(r[f]===120){if(h=t(f+1,s,r),h.error)break;o.push(h.char),g=h.nexti,b=!1;break}if(r[f]===117){if(r[f+1]===123){if(h=i(f+2,s,r),h.error)break;o.push(h.char),g=h.nexti,b=!1;break}if(h=n(f+1,s,r),h.error)break;o.push(h.char),g=h.nexti,b=!1;break}break}if(b)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${g}]`)}return o}};var ma=13,Mr=10;It.lineEnds={crlf(r){let e=[],t=0;for(;t<r.length;)switch(r[t]){case ma:t+1<r.length&&r[t+1]===Mr?t+=2:t+=1,e.push(ma),e.push(Mr);break;case Mr:e.push(ma),e.push(Mr),t+=1;break;default:e.push(r[t]),t+=1;break}return e.length>0&&e[e.length-1]!==Mr&&(e.push(ma),e.push(Mr)),e},lf(r){let e=[],t=0;for(;t<r.length;)switch(r[t]){case ma:t+1<r.length&&r[t+1]===Mr?t+=2:t+=1,e.push(Mr);break;case Mr:e.push(Mr),t+=1;break;default:e.push(r[t]),t+=1;break}return e.length>0&&e[e.length-1]!==Mr&&e.push(Mr),e}};It.base64={encode(r){if(r.length===0)return global.Buffer.alloc(0);let e,t,n,i=r.length%3;i=i>0?3-i:0;let o=(r.length+i)/3,s=global.Buffer.alloc(o*4);i>0&&(o-=1),e=0,t=0;for(let f=0;f<o;f+=1)n=r[e++]<<16,n+=r[e++]<<8,n+=r[e++],s[t++]=cr[n>>18&be[6]],s[t++]=cr[n>>12&be[6]],s[t++]=cr[n>>6&be[6]],s[t++]=cr[n&be[6]];if(i===0)return s;if(i===1)return n=r[e++]<<16,n+=r[e]<<8,s[t++]=cr[n>>18&be[6]],s[t++]=cr[n>>12&be[6]],s[t++]=cr[n>>6&be[6]],s[t]=cr[64],s;if(i===2)return n=r[e]<<16,s[t++]=cr[n>>18&be[6]],s[t++]=cr[n>>12&be[6]],s[t++]=cr[64],s[t]=cr[64],s},decode(r){function e(g){let w=[],T=0;for(let C=0;C<g.length;C+=1){let M=g[C],k=!0;for(;k&&!(M===32||M===9||M===10||M===13);){if(M>=65&&M<=90){w.push(M-65);break}if(M>=97&&M<=122){w.push(M-71);break}if(M>=48&&M<=57){w.push(M+4);break}if(M===43){w.push(62);break}if(M===47){w.push(63);break}if(M===61){w.push(64),T+=1;break}throw new RangeError(`base64.decode: invalid character buf[${C}]: ${M}`)}}if(w.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${w.length}`);switch(T){case 0:break;case 1:if(w[w.length-1]!==64)throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(w[w.length-1]!==64||w[w.length-2]!==64)throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${T}`)}return{tail:T,buf:global.Buffer.from(w)}}if(r.length===0)return global.Buffer.alloc(0);let t=e(r),{tail:n}=t,i=t.buf,o,s,f,h=i.length/4,b=global.Buffer.alloc(h*3-n);n>0&&(h-=1),s=0,o=0;for(let g=0;g<h;g+=1)f=i[o++]<<18,f+=i[o++]<<12,f+=i[o++]<<6,f+=i[o++],b[s++]=f>>16&be[8],b[s++]=f>>8&be[8],b[s++]=f&be[8];return n===1&&(f=i[o++]<<18,f+=i[o++]<<12,f+=i[o]<<6,b[s++]=f>>16&be[8],b[s]=f>>8&be[8]),n===2&&(f=i[o++]<<18,f+=i[o++]<<12,b[s]=f>>16&be[8]),b},toString(r){if(r.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${r.length}`);let e="",t=0;function n(o,s,f,h){switch(t){case 76:e+=`\r
${o}${s}${f}${h}`,t=4;break;case 75:e+=`${o}\r
${s}${f}${h}`,t=3;break;case 74:e+=`${o+s}\r
${f}${h}`,t=2;break;case 73:e+=`${o+s+f}\r
${h}`,t=1;break;default:e+=o+s+f+h,t+=4;break}}function i(o){return o>=65&&o<=90||o>=97&&o<=122||o>=48&&o<=57||o===43||o===47||o===61}for(let o=0;o<r.length;o+=4){for(let s=o;s<o+4;s+=1)if(!i(r[s]))throw new RangeError(`base64.toString: buf[${s}]: ${r[s]} : not valid base64 character code`);n(String.fromCharCode(r[o]),String.fromCharCode(r[o+1]),String.fromCharCode(r[o+2]),String.fromCharCode(r[o+3]))}return e}}});var Ch=le(ga=>{var Ib=ga,et=Db(),ba="UTF8",Th="UTF16",un="UTF16BE",Rn="UTF16LE",kh="UTF32",ln="UTF32BE",Pn="UTF32LE",ss="UINT7",Ob="ASCII",Nb="BINARY",as="UINT8",Rb="UINT16",pc="UINT16LE",fs="UINT16BE",Pb="UINT32",mc="UINT32LE",cs="UINT32BE",bc="ESCAPED",ai="STRING",f9=function(e){e.type=ba;let t=e.data;e.bom=0,t.length>=3&&t[0]===239&&t[1]===187&&t[2]===191&&(e.bom=3)},c9=function(e){let t=e.data;switch(e.bom=0,e.type){case Th:e.type=un,t.length>=2&&(t[0]===254&&t[1]===255?e.bom=2:t[0]===255&&t[1]===254&&(e.type=Rn,e.bom=2));break;case un:if(e.type=un,t.length>=2){if(t[0]===254&&t[1]===255)e.bom=2;else if(t[0]===255&&t[1]===254)throw new TypeError(`src type: "${un}" specified but BOM is for "${Rn}"`)}break;case Rn:if(e.type=Rn,t.length>=0){if(t[0]===254&&t[1]===255)throw new TypeError(`src type: "${Rn}" specified but BOM is for "${un}"`);t[0]===255&&t[1]===254&&(e.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${e.type}" unrecognized`)}},u9=function(e){let t=e.data;switch(e.bom=0,e.type){case kh:e.type=ln,t.length>=4&&(t[0]===0&&t[1]===0&&t[2]===254&&t[3]===255&&(e.bom=4),t[0]===255&&t[1]===254&&t[2]===0&&t[3]===0&&(e.type=Pn,e.bom=4));break;case ln:if(e.type=ln,t.length>=4&&(t[0]===0&&t[1]===0&&t[2]===254&&t[3]===255&&(e.bom=4),t[0]===255&&t[1]===254&&t[2]===0&&t[3]===0))throw new TypeError(`src type: ${ln} specified but BOM is for ${Pn}"`);break;case Pn:if(e.type=Pn,t.length>=4){if(t[0]===0&&t[1]===0&&t[2]===254&&t[3]===255)throw new TypeError(`src type: "${Pn}" specified but BOM is for "${ln}"`);t[0]===255&&t[1]===254&&t[2]===0&&t[3]===0&&(e.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${e.type}" unrecognized`)}},l9=function(e,t){function n(o){let s={type:"",base64:!1},h=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(o);return h&&(h[2]&&(s.type=h[2].toUpperCase()),h[1]&&(s.base64=!0)),s}if(typeof e!="string"||e==="")throw new TypeError(`type: "${e}" not recognized`);let i=n(e.toUpperCase());if(i.base64){if(i.type===ai)throw new TypeError(`type: "${e} "BASE64:" prefix not allowed with type ${ai}`);if(global.Buffer.isBuffer(t))i.data=et.base64.decode(t);else if(typeof t=="string"){let o=global.Buffer.from(t,"ascii");i.data=et.base64.decode(o)}else throw new TypeError(`type: "${e} unrecognized data type: typeof(data): ${typeof t}`)}else i.data=t;switch(i.type){case ba:f9(i);break;case Th:case un:case Rn:c9(i);break;case kh:case ln:case Pn:u9(i);break;case Rb:i.type=fs;break;case Pb:i.type=cs;break;case Ob:i.type=ss;break;case Nb:i.type=as;break;case ss:case as:case pc:case fs:case mc:case cs:case ai:case bc:break;default:throw new TypeError(`type: "${e}" not recognized`)}if(i.type===ai){if(typeof i.data!="string")throw new TypeError(`type: "${e}" but data is not a string`)}else if(!global.Buffer.isBuffer(i.data))throw new TypeError(`type: "${e}" but data is not a Buffer`);return i},h9=function(e,t){function n(o){let s,f,h={crlf:!1,lf:!1,base64:!1,type:""},b=!0;for(;b;){if(f=o,s=o.slice(0,5),s==="CRLF:"){h.crlf=!0,f=o.slice(5);break}if(s=o.slice(0,3),s==="LF:"){h.lf=!0,f=o.slice(3);break}break}return s=f.split(":"),s.length===1?h.type=s[0]:s.length===2&&s[1]==="BASE64"&&(h.base64=!0,h.type=s[0]),h}if(!Array.isArray(t))throw new TypeError(`dst chars: not array: "${typeof t}`);if(typeof e!="string")throw new TypeError(`dst type: not string: "${typeof e}`);let i=n(e.toUpperCase());switch(i.type){case ba:case un:case Rn:case ln:case Pn:case ss:case as:case pc:case fs:case mc:case cs:case bc:break;case ai:if(i.base64)throw new TypeError(`":BASE64" suffix not allowed with type ${ai}`);break;case Ob:i.type=ss;break;case Nb:i.type=as;break;case Th:i.type=un;break;case kh:i.type=ln;break;case Rb:i.type=fs;break;case Pb:i.type=cs;break;default:throw new TypeError(`dst type unrecognized: "${e}" : must have form [crlf:|lf:]type[:base64]`)}return i},Mh=function(e,t){switch(e){case ba:return et.utf8.encode(t);case un:return et.utf16be.encode(t);case Rn:return et.utf16le.encode(t);case ln:return et.utf32be.encode(t);case Pn:return et.utf32le.encode(t);case ss:return et.uint7.encode(t);case as:return et.uint8.encode(t);case fs:return et.uint16be.encode(t);case pc:return et.uint16le.encode(t);case cs:return et.uint32be.encode(t);case mc:return et.uint32le.encode(t);case ai:return et.string.encode(t);case bc:return et.escaped.encode(t);default:throw new TypeError(`encode type "${e}" not recognized`)}},d9=function(e){switch(e.type){case ba:return et.utf8.decode(e.data,e.bom);case Rn:return et.utf16le.decode(e.data,e.bom);case un:return et.utf16be.decode(e.data,e.bom);case ln:return et.utf32be.decode(e.data,e.bom);case Pn:return et.utf32le.decode(e.data,e.bom);case ss:return et.uint7.decode(e.data);case as:return et.uint8.decode(e.data);case fs:return et.uint16be.decode(e.data);case pc:return et.uint16le.decode(e.data);case cs:return et.uint32be.decode(e.data);case mc:return et.uint32le.decode(e.data);case ai:return et.string.decode(e.data);case bc:return et.escaped.decode(e.data);default:throw new TypeError(`decode type "${e.type}" not recognized`)}};ga.decode=function(e,t){let n=l9(e,t);return d9(n)};ga.encode=function(e,t){let n,i,o=h9(e,t);return o.crlf?(n=et.lineEnds.crlf(t),i=Mh(o.type,n)):o.lf?(n=et.lineEnds.lf(t),i=Mh(o.type,n)):i=Mh(o.type,t),o.base64&&(i=et.base64.encode(i)),i};ga.convert=function(e,t,n){return Ib.encode(n,Ib.decode(e,t))}});var Dh=le((AR,Bb)=>{Bb.exports=function(){return`/* This file automatically generated by jsonToless() and LESS. */
.apg-mono {
  font-family: monospace;
}
.apg-active {
  font-weight: bold;
  color: #000000;
}
.apg-match {
  font-weight: bold;
  color: #264BFF;
}
.apg-empty {
  font-weight: bold;
  color: #0fbd0f;
}
.apg-nomatch {
  font-weight: bold;
  color: #FF4000;
}
.apg-lh-match {
  font-weight: bold;
  color: #1A97BA;
}
.apg-lb-match {
  font-weight: bold;
  color: #5F1687;
}
.apg-remainder {
  font-weight: bold;
  color: #999999;
}
.apg-ctrl-char {
  font-weight: bolder;
  font-style: italic;
  font-size: 0.6em;
}
.apg-line-end {
  font-weight: bold;
  color: #000000;
}
.apg-error {
  font-weight: bold;
  color: #FF4000;
}
.apg-phrase {
  color: #000000;
  background-color: #8caae6;
}
.apg-empty-phrase {
  color: #0fbd0f;
}
table.apg-state {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th,
table.apg-state td {
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th:nth-last-child(2),
table.apg-state td:nth-last-child(2) {
  text-align: right;
}
table.apg-state caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-stats {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats th,
table.apg-stats td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace th,
table.apg-trace td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace th:last-child,
table.apg-trace th:nth-last-child(2),
table.apg-trace td:last-child,
table.apg-trace td:nth-last-child(2) {
  text-align: left;
}
table.apg-grammar {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-grammar th,
table.apg-grammar td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar th:last-child,
table.apg-grammar td:last-child {
  text-align: left;
}
table.apg-rules {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-rules th,
table.apg-rules td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules a {
  color: #003399 !important;
}
table.apg-rules a:hover {
  color: #8caae6 !important;
}
table.apg-attrs {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-attrs th,
table.apg-attrs td {
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs th:nth-child(1),
table.apg-attrs th:nth-child(2),
table.apg-attrs th:nth-child(3) {
  text-align: right;
}
table.apg-attrs td:nth-child(1),
table.apg-attrs td:nth-child(2),
table.apg-attrs td:nth-child(3) {
  text-align: right;
}
table.apg-attrs a {
  color: #003399 !important;
}
table.apg-attrs a:hover {
  color: #8caae6 !important;
}
`}});var oo=le(At=>{var Xt=pa(),Ih=Ch(),p9=Dh(),pt=Kr(),fi="utilities.js: ",Bn=At,io=function(r,e,t){let n,i=e,o=!0;for(;o;){if(r<=0){i=0,n=0;break}if(typeof i!="number"){i=0,n=r;break}if(i>=r){i=r,n=r;break}if(typeof t!="number"){n=r;break}if(n=i+t,n>r){n=r;break}break}return{beg:i,end:n}};At.htmlToPage=function(r,e){let t;if(typeof r!="string")throw new Error(`${fi}htmlToPage: input HTML is not a string`);typeof e!="string"?t="htmlToPage":t=e;let n="";return n+=`<!DOCTYPE html>
`,n+=`<html lang="en">
`,n+=`<head>
`,n+=`<meta charset="utf-8">
`,n+=`<title>${t}</title>
`,n+=`<style>
`,n+=p9(),n+=`</style>
`,n+=`</head>
<body>
`,n+=`<p>${new Date}</p>
`,n+=r,n+=`</body>
</html>
`,n};At.parserResultToHtml=function(r,e){let t=null;typeof e=="string"&&e!==""&&(t=e);let n,i;r.success===!0?n=`<span class="${Xt.CLASS_MATCH}">true</span>`:n=`<span class="${Xt.CLASS_NOMATCH}">false</span>`,r.state===pt.EMPTY?i=`<span class="${Xt.CLASS_EMPTY}">EMPTY</span>`:r.state===pt.MATCH?i=`<span class="${Xt.CLASS_MATCH}">MATCH</span>`:r.state===pt.NOMATCH?i=`<span class="${Xt.CLASS_NOMATCH}">NOMATCH</span>`:i=`<span class="${Xt.CLASS_NOMATCH}">unrecognized</span>`;let o="";return o+=`<table class="${Xt.CLASS_STATE}">
`,t&&(o+=`<caption>${t}</caption>
`),o+=`<tr><th>state item</th><th>value</th><th>description</th></tr>
`,o+=`<tr><td>parser success</td><td>${n}</td>
`,o+=`<td><span class="${Xt.CLASS_MATCH}">true</span> if the parse succeeded,
`,o+=` <span class="${Xt.CLASS_NOMATCH}">false</span> otherwise`,o+=`<br><i>NOTE: for success, entire string must be matched</i></td></tr>
`,o+=`<tr><td>parser state</td><td>${i}</td>
`,o+=`<td><span class="${Xt.CLASS_EMPTY}">EMPTY</span>, `,o+=`<span class="${Xt.CLASS_MATCH}">MATCH</span> or 
`,o+=`<span class="${Xt.CLASS_NOMATCH}">NOMATCH</span></td></tr>
`,o+=`<tr><td>string length</td><td>${r.length}</td><td>length of the input (sub)string</td></tr>
`,o+=`<tr><td>matched length</td><td>${r.matched}</td><td>number of input string characters matched</td></tr>
`,o+=`<tr><td>max matched</td><td>${r.maxMatched}</td><td>maximum number of input string characters matched</td></tr>
`,o+=`<tr><td>max tree depth</td><td>${r.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>
`,o+=`<tr><td>node hits</td><td>${r.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>
`,o+=`<tr><td>input length</td><td>${r.inputLength}</td><td>length of full input string</td></tr>
`,o+=`<tr><td>sub-string begin</td><td>${r.subBegin}</td><td>sub-string first character index</td></tr>
`,o+=`<tr><td>sub-string end</td><td>${r.subEnd}</td><td>sub-string end-of-string index</td></tr>
`,o+=`<tr><td>sub-string length</td><td>${r.subLength}</td><td>sub-string length</td></tr>
`,o+=`</table>
`,o};At.charsToString=function(r,e,t){let n,i;if(typeof e=="number"){if(e>=r.length)return"";n=e<0?0:e}else n=0;if(typeof t=="number"){if(t<=0)return"";i=t>r.length-n?r.length:n+t}else i=r.length;return n<i?Ih.encode("UTF16LE",r.slice(n,i)).toString("utf16le"):""};At.stringToChars=function(r){return Ih.decode("STRING",r)};At.opcodeToString=function(r){let e="unknown";switch(r){case pt.ALT:e="ALT";break;case pt.CAT:e="CAT";break;case pt.RNM:e="RNM";break;case pt.UDT:e="UDT";break;case pt.AND:e="AND";break;case pt.NOT:e="NOT";break;case pt.REP:e="REP";break;case pt.TRG:e="TRG";break;case pt.TBS:e="TBS";break;case pt.TLS:e="TLS";break;case pt.BKR:e="BKR";break;case pt.BKA:e="BKA";break;case pt.BKN:e="BKN";break;case pt.ABG:e="ABG";break;case pt.AEN:e="AEN";break;default:throw new Error("unrecognized opcode")}return e};At.stateToString=function(r){let e="unknown";switch(r){case pt.ACTIVE:e="ACTIVE";break;case pt.MATCH:e="MATCH";break;case pt.EMPTY:e="EMPTY";break;case pt.NOMATCH:e="NOMATCH";break;default:throw new Error("unrecognized state")}return e};At.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"];At.charToHex=function(r){let e=r.toString(16).toUpperCase();switch(e.length){case 1:case 3:case 7:e=`0${e}`;break;case 2:case 6:e=`00${e}`;break;case 4:break;case 5:e=`000${e}`;break;default:throw new Error("unrecognized option")}return e};At.charsToDec=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${fi}charsToDec: input must be an array of integers`);let i=io(r.length,e,t);if(i.end>i.beg){n+=r[i.beg];for(let o=i.beg+1;o<i.end;o+=1)n+=`,${r[o]}`}return n};At.charsToHex=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${fi}charsToHex: input must be an array of integers`);let i=io(r.length,e,t);if(i.end>i.beg){n+=`\\x${Bn.charToHex(r[i.beg])}`;for(let o=i.beg+1;o<i.end;o+=1)n+=`,\\x${Bn.charToHex(r[o])}`}return n};At.charsToHtmlEntities=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${fi}charsToHex: input must be an array of integers`);let i=io(r.length,e,t);if(i.end>i.beg)for(let o=i.beg;o<i.end;o+=1)n+=`&#x${r[o].toString(16)};`;return n};function m9(r){return!(r>=55296&&r<=57343||r>1114111)}At.charsToUnicode=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${fi}charsToUnicode: input must be an array of integers`);let i=io(r.length,e,t);if(i.end>i.beg)for(let o=i.beg;o<i.end;o+=1)m9(r[o])?n+=`&#${r[o]};`:n+=` U+${Bn.charToHex(r[o])}`;return n};At.charsToJsUnicode=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${fi}charsToJsUnicode: input must be an array of integers`);let i=io(r.length,e,t);if(i.end>i.beg){n+=`\\u${Bn.charToHex(r[i.beg])}`;for(let o=i.beg+1;o<i.end;o+=1)n+=`,\\u${Bn.charToHex(r[o])}`}return n};At.charsToAscii=function(r,e,t){let n="";if(!Array.isArray(r))throw new Error(`${fi}charsToAscii: input must be an array of integers`);let i=io(r.length,e,t);for(let o=i.beg;o<i.end;o+=1){let s=r[o];s>=32&&s<=126?n+=String.fromCharCode(s):n+=`\\x${Bn.charToHex(s)}`}return n};At.charsToAsciiHtml=function(r,e,t){if(!Array.isArray(r))throw new Error(`${fi}charsToAsciiHtml: input must be an array of integers`);let n="",i,o=io(r.length,e,t);for(let s=o.beg;s<o.end;s+=1)i=r[s],i<32||i===127?n+=`<span class="${Xt.CLASS_CTRLCHAR}">${Bn.asciiChars[i]}</span>`:i>127?n+=`<span class="${Xt.CLASS_CTRLCHAR}">U+${Bn.charToHex(i)}</span>`:n+=Bn.asciiChars[i];return n};At.stringToAsciiHtml=function(r){let e=Ih.decode("STRING",r);return this.charsToAsciiHtml(e)}});var Ub=le((MR,Lb)=>{Lb.exports=function(){let e=Kr(),t=oo(),n="ast.js: ",i=this,o=null,s=null,f=null,h=0,b=[],g=[],w=[],T=[];this.callbacks=[],this.astObject="astObject",this.init=function(k,F,I){w.length=0,T.length=0,b.length=0,h=0,o=k,s=F,f=I;let $,j=[];for($=0;$<o.length;$+=1)j.push(o[$].lower);for($=0;$<s.length;$+=1)j.push(s[$].lower);for(h=o.length+s.length,$=0;$<h;$+=1)b[$]=!1,g[$]=null;for(let H in i.callbacks){let W=H.toLowerCase();if($=j.indexOf(W),$<0)throw new Error(`${n}init: node '${H}' not a rule or udt name`);typeof i.callbacks[H]=="function"&&(b[$]=!0,g[$]=i.callbacks[H]),i.callbacks[H]===!0&&(b[$]=!0)}},this.ruleDefined=function(k){return b[k]!==!1},this.udtDefined=function(k){return b[o.length+k]!==!1},this.down=function(k,F){let I=T.length;return w.push(I),T.push({name:F,thisIndex:I,thatIndex:null,state:e.SEM_PRE,callbackIndex:k,phraseIndex:null,phraseLength:null,stack:w.length}),I},this.up=function(k,F,I,$){let j=T.length,H=w.pop();return T.push({name:F,thisIndex:j,thatIndex:H,state:e.SEM_POST,callbackIndex:k,phraseIndex:I,phraseLength:$,stack:w.length}),T[H].thatIndex=j,T[H].phraseIndex=I,T[H].phraseLength=$,j},this.translate=function(k){let F,I,$;for(let j=0;j<T.length;j+=1)$=T[j],I=g[$.callbackIndex],$.state===e.SEM_PRE?I!==null&&(F=I(e.SEM_PRE,f,$.phraseIndex,$.phraseLength,k),F===e.SEM_SKIP&&(j=$.thatIndex)):I!==null&&I(e.SEM_POST,f,$.phraseIndex,$.phraseLength,k)},this.setLength=function(k){T.length=k,k>0?w.length=T[k-1].stack:w.length=0},this.getLength=function(){return T.length};function C(M){let k="";for(let F=0;F<M;F+=1)k+=" ";return k}this.toXml=function(k){let F=t.charsToDec,I="decimal integer character codes";if(typeof k=="string"&&k.length>=3){let H=k.slice(0,3).toLowerCase();H==="asc"?(F=t.charsToAscii,I="ASCII for printing characters, hex for non-printing"):H==="hex"?(F=t.charsToHex,I="hexadecimal integer character codes"):H==="uni"&&(F=t.charsToUnicode,I="Unicode UTF-32 integer character codes")}let $="",j=0;return $+=`<?xml version="1.0" encoding="utf-8"?>
`,$+=`<root nodes="${T.length/2}" characters="${f.length}">
`,$+=`<!-- input string, ${I} -->
`,$+=C(j+2),$+=F(f),$+=`
`,T.forEach(H=>{H.state===e.SEM_PRE?(j+=1,$+=C(j),$+=`<node name="${H.name}" index="${H.phraseIndex}" length="${H.phraseLength}">
`,$+=C(j+2),$+=F(f,H.phraseIndex,H.phraseLength),$+=`
`):($+=C(j),$+=`</node><!-- name="${H.name}" -->
`,j-=1)}),$+=`</root>
`,$},this.phrases=function(){let k={},F,I;for(F=0;F<T.length;F+=1)I=T[F],I.state===e.SEM_PRE&&(Array.isArray(k[I.name])||(k[I.name]=[]),k[I.name].push({index:I.phraseIndex,length:I.phraseLength}));return k}}});var Oh=le((TR,$b)=>{$b.exports=function(){let e="circular-buffer.js: ",t=-1,n=0;this.init=function(o){if(typeof o!="number"||o<=0)throw new Error(`${e}init: circular buffer size must an integer > 0`);n=Math.ceil(o),t=-1},this.increment=function(){return t+=1,(t+n)%n},this.maxSize=function(){return n},this.items=function(){return t+1},this.getListIndex=function(o){return t===-1||o<0||o>t||t-o>=n?-1:(o+n)%n},this.forEach=function(o){if(t!==-1){if(t<n){for(let s=0;s<=t;s+=1)o(s,s);return}for(let s=t-n+1;s<=t;s+=1){let f=(s+n)%n;o(f,s)}}}}});var qb=le((kR,Fb)=>{Fb.exports=function(){let e=Kr(),t=oo(),n="parser.js: ",i=this,o;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let s=null,f=null,h,b,g,w,T=0,C=0,M=0,k=null,F=null,I=null,$=null,j=null,H=0,W=1/0,B=1/0,P=function(J,O,q){let ne=`${n}evaluateRule(): `;if(J>=I.length)throw new Error(`${ne}rule index: ${J} out of range`);if(O>=g)throw new Error(`${ne}phrase index: ${O} out of range`);let{length:se}=s;s.push({type:e.RNM,index:J}),o(se,O,q),s.pop()},L=function(Q,J,O){let q=`${n}evaluateUdt(): `;if(Q>=$.length)throw new Error(`${q}udt index: ${Q} out of range`);if(J>=g)throw new Error(`${q}phrase index: ${J} out of range`);let{length:ne}=s;s.push({type:e.UDT,empty:$[Q].empty,index:Q}),o(ne,J,O),s.pop()},ee=function(){T=0,C=0,M=0,H=0,w=[{lookAround:e.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],I=null,$=null,f=null,h=0,b=0,g=0,k=null,F=null,j=null,s=null},E=function(){let Q=[],J=function(){let q={};I.forEach(ne=>{ne.isBkr&&(q[ne.lower]=null)}),$.length>0&&$.forEach(ne=>{ne.isBkr&&(q[ne.lower]=null)}),Q.push(q)},O=function(){let q=Q[Q.length-1],ne={};for(let se in q)ne[se]=q[se];return ne};this.push=function(){Q.push(O())},this.pop=function(ne){let se=ne;if(se||(se=Q.length-1),se<1||se>Q.length)throw new Error(`${n}backRef.pop(): bad length: ${se}`);return Q.length=se,Q[Q.length-1]},this.length=function(){return Q.length},this.savePhrase=function(ne,se,ae){Q[Q.length-1][ne]={phraseIndex:se,phraseLength:ae}},this.getPhrase=function(q){return Q[Q.length-1][q]},J()},c=function(){let J=this;this.state=e.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=w[w.length-1],this.uFrame=new E,this.pFrame=new E,this.evaluateRule=P,this.evaluateUdt=L,this.refresh=function(){J.state=e.ACTIVE,J.phraseLength=0,J.lookAround=w[w.length-1]}},p=function(){return w[w.length-1]},l=function(){return w.length>1},a=function(){return w[w.length-1].lookAround===e.LOOKAROUND_BEHIND},u=function(){let Q=`${n}initializeAst(): `,J=!0;for(;J;){if(i.ast===void 0){i.ast=null;break}if(i.ast===null)break;if(i.ast.astObject!=="astObject")throw new Error(`${Q}ast object not recognized`);break}i.ast!==null&&i.ast.init(I,$,f)},v=function(){let Q=`${n}initializeTrace(): `,J=!0;for(;J;){if(i.trace===void 0){i.trace=null;break}if(i.trace===null)break;if(i.trace.traceObject!=="traceObject")throw new Error(`${Q}trace object not recognized`);break}i.trace!==null&&i.trace.init(I,$,f)},x=function(){let Q=`${n}initializeStats(): `,J=!0;for(;J;){if(i.stats===void 0){i.stats=null;break}if(i.stats===null)break;if(i.stats.statsObject!=="statsObject")throw new Error(`${Q}stats object not recognized`);break}i.stats!==null&&i.stats.init(I,$)},y=function(Q){let J=`${n}initializeGrammar(): `;if(!Q)throw new Error(`${J}grammar object undefined`);if(Q.grammarObject!=="grammarObject")throw new Error(`${J}bad grammar object`);I=Q.rules,$=Q.udts},d=function(Q){let J=`${n}initializeStartRule(): `,O=null;if(typeof Q=="number"){if(Q>=I.length)throw new Error(`${J}start rule index too large: max: ${I.length}: index: ${Q}`);O=Q}else if(typeof Q=="string"){let q=Q.toLowerCase();for(let ne=0;ne<I.length;ne+=1)if(q===I[ne].lower){O=I[ne].index;break}if(O===null)throw new Error(`${J}start rule name '${Q}' not recognized`)}else throw new Error(`${J}type of start rule '${typeof Q}' not recognized`);return O},_=function(J,O,q){let ne=`${n}initializeInputChars(): `,se=J,ae=O,de=q;if(se===void 0)throw new Error(`${ne}input string is undefined`);if(se===null)throw new Error(`${ne}input string is null`);if(typeof se=="string")se=t.stringToChars(se);else if(!Array.isArray(se))throw new Error(`${ne}input string is not a string or array`);if(se.length>0&&typeof se[0]!="number")throw new Error(`${ne}input string not an array of integers`);if(typeof ae!="number")ae=0;else if(ae=Math.floor(ae),ae<0||ae>se.length)throw new Error(`${ne}input beginning index out of range: ${ae}`);if(typeof de!="number")de=se.length-ae;else if(de=Math.floor(de),de<0||de>se.length-ae)throw new Error(`${ne}input length out of range: ${de}`);f=se,h=ae,b=de,g=h+b},D=function(){let Q=`${n}initializeCallbacks(): `,J;for(k=[],F=[],J=0;J<I.length;J+=1)k[J]=null;for(J=0;J<$.length;J+=1)F[J]=null;let O,q=[];for(J=0;J<I.length;J+=1)q.push(I[J].lower);for(J=0;J<$.length;J+=1)q.push($[J].lower);for(let ne in i.callbacks){if(J=q.indexOf(ne.toLowerCase()),J<0)throw new Error(`${Q}syntax callback '${ne}' not a rule or udt name`);if(O=i.callbacks[ne],O||(O=null),typeof O=="function"||O===null)J<I.length?k[J]=O:F[J-I.length]=O;else throw new Error(`${Q}syntax callback[${ne}] must be function reference or 'false' (false/null/undefined/etc.)`)}for(J=0;J<$.length;J+=1)if(F[J]===null)throw new Error(`${Q}all UDT callbacks must be defined. UDT callback[${$[J].lower}] not a function reference`)};this.setMaxTreeDepth=function(Q){if(typeof Q!="number")throw new Error(`parser: max tree depth must be integer > 0: ${Q}`);if(W=Math.floor(Q),W<=0)throw new Error(`parser: max tree depth must be integer > 0: ${Q}`)},this.setMaxNodeHits=function(Q){if(typeof Q!="number")throw new Error(`parser: max node hits must be integer > 0: ${Q}`);if(B=Math.floor(Q),B<=0)throw new Error(`parser: max node hits must be integer > 0: ${Q}`)};let m=function(Q,J,O){let q,ne=`${n}parse(): `;y(Q);let se=d(J);D(),v(),x(),u();let ae=new c;switch(O!=null&&(j=O),s=[{type:e.RNM,index:se}],o(0,h,ae),s=null,ae.state){case e.ACTIVE:throw new Error(`${ne}final state should never be 'ACTIVE'`);case e.NOMATCH:q=!1;break;case e.EMPTY:case e.MATCH:ae.phraseLength===b?q=!0:q=!1;break;default:throw new Error("unrecognized state")}return{success:q,state:ae.state,length:b,matched:ae.phraseLength,maxMatched:H,maxTreeDepth:C,nodeHits:M,inputLength:f.length,subBegin:h,subEnd:g,subLength:b}};this.parseSubstring=function(J,O,q,ne,se,ae){return ee(),_(q,ne,se),m(J,O,ae)},this.parse=function(J,O,q,ne){return ee(),_(q,0,q.length),m(J,O,ne)};let A=function(Q,J,O){let q=s[Q];for(let ne=0;ne<q.children.length&&(o(q.children[ne],J,O),O.state===e.NOMATCH);ne+=1);},te=function(Q,J,O){let q,ne,se,ae,de=s[Q],Xe=O.uFrame.length(),ye=O.pFrame.length();i.ast&&(ne=i.ast.getLength()),q=!0,se=J,ae=0;for(let pe=0;pe<de.children.length;pe+=1)if(o(de.children[pe],se,O),O.state===e.NOMATCH){q=!1;break}else se+=O.phraseLength,ae+=O.phraseLength;q?(O.state=ae===0?e.EMPTY:e.MATCH,O.phraseLength=ae):(O.state=e.NOMATCH,O.phraseLength=0,O.uFrame.pop(Xe),O.pFrame.pop(ye),i.ast&&i.ast.setLength(ne))},S=function(Q,J,O){let q,ne,se,ae,de=s[Q];ne=J,se=0,ae=0;let Xe=O.uFrame.length(),ye=O.pFrame.length();i.ast&&(q=i.ast.getLength());let pe=!0;for(;pe&&!(ne>=g||(o(Q+1,ne,O),O.state===e.NOMATCH)||O.state===e.EMPTY||(ae+=1,se+=O.phraseLength,ne+=O.phraseLength,ae===de.max)););O.state===e.EMPTY||ae>=de.min?(O.state=se===0?e.EMPTY:e.MATCH,O.phraseLength=se):(O.state=e.NOMATCH,O.phraseLength=0,O.uFrame.pop(Xe),O.pFrame.pop(ye),i.ast&&i.ast.setLength(q))},z=function(Q,J,O,q){if(J.phraseLength>O){let ne=`${n}opRNM(${Q.name}): callback function error: `;throw ne+=`sysData.phraseLength: ${J.phraseLength}`,ne+=` must be <= remaining chars: ${O}`,new Error(ne)}switch(J.state){case e.ACTIVE:if(q!==!0)throw new Error(`${n}opRNM(${Q.name}): callback function return error. ACTIVE state not allowed.`);break;case e.EMPTY:J.phraseLength=0;break;case e.MATCH:J.phraseLength===0&&(J.state=e.EMPTY);break;case e.NOMATCH:J.phraseLength=0;break;default:throw new Error(`${n}opRNM(${Q.name}): callback function return error. Unrecognized return state: ${J.state}`)}},Y=function(Q,J,O){let q,ne,se,ae,de,Xe,ye=s[Q],pe=I[ye.index],Qe=k[pe.index],Ee=!l();if(Ee&&(ne=i.ast&&i.ast.ruleDefined(ye.index),ne&&(q=i.ast.getLength(),i.ast.down(ye.index,I[ye.index].name)),ae=O.uFrame.length(),de=O.pFrame.length(),O.uFrame.push(),O.pFrame.push(),Xe=O.pFrame,O.pFrame=new E),Qe===null)se=s,s=pe.opcodes,o(0,J,O),s=se;else{let Se=g-J;O.ruleIndex=pe.index,Qe(O,f,J,j),z(pe,O,Se,!0),O.state===e.ACTIVE&&(se=s,s=pe.opcodes,o(0,J,O),s=se,O.ruleIndex=pe.index,Qe(O,f,J,j),z(pe,O,Se,!1))}Ee&&(ne&&(O.state===e.NOMATCH?i.ast.setLength(q):i.ast.up(ye.index,pe.name,J,O.phraseLength)),O.pFrame=Xe,O.state===e.NOMATCH?(O.uFrame.pop(ae),O.pFrame.pop(de)):pe.isBkr&&(O.pFrame.savePhrase(pe.lower,J,O.phraseLength),O.uFrame.savePhrase(pe.lower,J,O.phraseLength)))},N=function(Q,J,O){if(J.phraseLength>O){let q=`${n}opUDT(${Q.name}): callback function error: `;throw q+=`sysData.phraseLength: ${J.phraseLength}`,q+=` must be <= remaining chars: ${O}`,new Error(q)}switch(J.state){case e.ACTIVE:throw new Error(`${n}opUDT(${Q.name}): callback function return error. ACTIVE state not allowed.`);case e.EMPTY:if(Q.empty===!1)throw new Error(`${n}opUDT(${Q.name}): callback function return error. May not return EMPTY.`);J.phraseLength=0;break;case e.MATCH:if(J.phraseLength===0){if(Q.empty===!1)throw new Error(`${n}opUDT(${Q.name}): callback function return error. May not return EMPTY.`);J.state=e.EMPTY}break;case e.NOMATCH:J.phraseLength=0;break;default:throw new Error(`${n}opUDT(${Q.name}): callback function return error. Unrecognized return state: ${J.state}`)}},R=function(Q,J,O){let q,ne,se,ae,de,Xe,ye=s[Q],pe=$[ye.index];O.UdtIndex=pe.index;let Qe=!l();Qe&&(se=i.ast&&i.ast.udtDefined(ye.index),se&&(ne=I.length+ye.index,q=i.ast.getLength(),i.ast.down(ne,pe.name)),ae=O.uFrame.length(),de=O.pFrame.length(),O.uFrame.push(),O.pFrame.push(),Xe=O.pFrame,O.pFrame=new E);let Ee=g-J;F[ye.index](O,f,J,j),N(pe,O,Ee),Qe&&(se&&(O.state===e.NOMATCH?i.ast.setLength(q):i.ast.up(ne,pe.name,J,O.phraseLength)),O.pFrame=Xe,O.state===e.NOMATCH?(O.uFrame.pop(ae),O.pFrame.pop(de)):pe.isBkr&&(O.pFrame.savePhrase(pe.lower,J,O.phraseLength),O.uFrame.savePhrase(pe.lower,J,O.phraseLength)))},K=function(Q,J,O){w.push({lookAround:e.LOOKAROUND_AHEAD,anchor:J,charsEnd:g,charsLength:b}),g=f.length,b=f.length-h,o(Q+1,J,O);let q=w.pop();switch(g=q.charsEnd,b=q.charsLength,O.phraseLength=0,O.state){case e.EMPTY:O.state=e.EMPTY;break;case e.MATCH:O.state=e.EMPTY;break;case e.NOMATCH:O.state=e.NOMATCH;break;default:throw new Error(`opAND: invalid state ${O.state}`)}},G=function(Q,J,O){w.push({lookAround:e.LOOKAROUND_AHEAD,anchor:J,charsEnd:g,charsLength:b}),g=f.length,b=f.length-h,o(Q+1,J,O);let q=w.pop();switch(g=q.charsEnd,b=q.charsLength,O.phraseLength=0,O.state){case e.EMPTY:case e.MATCH:O.state=e.NOMATCH;break;case e.NOMATCH:O.state=e.EMPTY;break;default:throw new Error(`opNOT: invalid state ${O.state}`)}},Z=function(Q,J,O){let q=s[Q];O.state=e.NOMATCH,J<g&&q.min<=f[J]&&f[J]<=q.max&&(O.state=e.MATCH,O.phraseLength=1)},ce=function(Q,J,O){let q,ne=s[Q],se=ne.string.length;if(O.state=e.NOMATCH,J+se<=g){for(q=0;q<se;q+=1)if(f[J+q]!==ne.string[q])return;O.state=e.MATCH,O.phraseLength=se}},ie=function(Q,J,O){let q,ne,se=s[Q];O.state=e.NOMATCH;let ae=se.string.length;if(ae===0){O.state=e.EMPTY;return}if(J+ae<=g){for(q=0;q<ae;q+=1)if(ne=f[J+q],ne>=65&&ne<=90&&(ne+=32),ne!==se.string[q])return;O.state=e.MATCH,O.phraseLength=ae}},V=function(Q,J,O){O.state=e.NOMATCH,O.phraseLength=0,O.state=J===0?e.EMPTY:e.NOMATCH},ue=function(Q,J,O){O.state=e.NOMATCH,O.phraseLength=0,O.state=J===f.length?e.EMPTY:e.NOMATCH},X=function(Q,J,O){let q,ne,se,ae,de=s[Q];O.state=e.NOMATCH,de.index<I.length?ae=I[de.index].lower:ae=$[de.index-I.length].lower;let Xe=de.bkrMode===e.BKR_MODE_PM?O.pFrame.getPhrase(ae):O.uFrame.getPhrase(ae),ye=de.bkrCase===e.BKR_MODE_CI;if(Xe===null)return;let pe=Xe.phraseIndex,Qe=Xe.phraseLength;if(Qe===0){O.state=e.EMPTY;return}if(J+Qe<=g){if(ye){for(q=0;q<Qe;q+=1)if(ne=f[J+q],se=f[pe+q],ne>=65&&ne<=90&&(ne+=32),se>=65&&se<=90&&(se+=32),ne!==se)return;O.state=e.MATCH,O.phraseLength=Qe}else for(q=0;q<Qe;q+=1)if(ne=f[J+q],se=f[pe+q],ne!==se)return;O.state=e.MATCH,O.phraseLength=Qe}},oe=function(Q,J,O){switch(w.push({lookAround:e.LOOKAROUND_BEHIND,anchor:J}),o(Q+1,J,O),w.pop(),O.phraseLength=0,O.state){case e.EMPTY:O.state=e.EMPTY;break;case e.MATCH:O.state=e.EMPTY;break;case e.NOMATCH:O.state=e.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${O.state}`)}},U=function(Q,J,O){switch(w.push({lookAround:e.LOOKAROUND_BEHIND,anchor:J}),o(Q+1,J,O),w.pop(),O.phraseLength=0,O.state){case e.EMPTY:case e.MATCH:O.state=e.NOMATCH;break;case e.NOMATCH:O.state=e.EMPTY;break;default:throw new Error(`opBKN: invalid state ${O.state}`)}},re=function(Q,J,O){let q,ne,se,ae,de=s[Q],Xe=O.uFrame.length(),ye=O.pFrame.length();i.ast&&(ne=i.ast.getLength()),q=!0,se=J,ae=0;for(let pe=de.children.length-1;pe>=0;pe-=1)if(o(de.children[pe],se,O),se-=O.phraseLength,ae+=O.phraseLength,O.state===e.NOMATCH){q=!1;break}q?(O.state=ae===0?e.EMPTY:e.MATCH,O.phraseLength=ae):(O.state=e.NOMATCH,O.phraseLength=0,O.uFrame.pop(Xe),O.pFrame.pop(ye),i.ast&&i.ast.setLength(ne))},he=function(Q,J,O){let q,ne,se,ae,de=s[Q];ne=J,se=0,ae=0;let Xe=O.uFrame.length(),ye=O.pFrame.length();i.ast&&(q=i.ast.getLength());let pe=!0;for(;pe&&!(ne<=0||(o(Q+1,ne,O),O.state===e.NOMATCH)||O.state===e.EMPTY||(ae+=1,se+=O.phraseLength,ne-=O.phraseLength,ae===de.max)););O.state===e.EMPTY||ae>=de.min?(O.state=se===0?e.EMPTY:e.MATCH,O.phraseLength=se):(O.state=e.NOMATCH,O.phraseLength=0,O.uFrame.pop(Xe),O.pFrame.pop(ye),i.ast&&i.ast.setLength(q))},xe=function(Q,J,O){let q=s[Q];if(O.state=e.NOMATCH,O.phraseLength=0,J>0){let ne=f[J-1];q.min<=ne&&ne<=q.max&&(O.state=e.MATCH,O.phraseLength=1)}},ge=function(Q,J,O){let q,ne=s[Q];O.state=e.NOMATCH;let se=ne.string.length,ae=J-se;if(ae>=0){for(q=0;q<se;q+=1)if(f[ae+q]!==ne.string[q])return;O.state=e.MATCH,O.phraseLength=se}},_e=function(Q,J,O){let q,ne=s[Q];O.state=e.NOMATCH;let se=ne.string.length;if(se===0){O.state=e.EMPTY;return}let ae=J-se;if(ae>=0){for(let de=0;de<se;de+=1)if(q=f[ae+de],q>=65&&q<=90&&(q+=32),q!==ne.string[de])return;O.state=e.MATCH,O.phraseLength=se}},Jt=function(Q,J,O){let q,ne,se,ae,de=s[Q];O.state=e.NOMATCH,O.phraseLength=0,de.index<I.length?ae=I[de.index].lower:ae=$[de.index-I.length].lower;let Xe=de.bkrMode===e.BKR_MODE_PM?O.pFrame.getPhrase(ae):O.uFrame.getPhrase(ae),ye=de.bkrCase===e.BKR_MODE_CI;if(Xe===null)return;let pe=Xe.phraseIndex,Qe=Xe.phraseLength;if(Qe===0){O.state=e.EMPTY,O.phraseLength=0;return}let Ee=J-Qe;if(Ee>=0){if(ye){for(q=0;q<Qe;q+=1)if(ne=f[Ee+q],se=f[pe+q],ne>=65&&ne<=90&&(ne+=32),se>=65&&se<=90&&(se+=32),ne!==se)return;O.state=e.MATCH,O.phraseLength=Qe}else for(q=0;q<Qe;q+=1)if(ne=f[Ee+q],se=f[pe+q],ne!==se)return;O.state=e.MATCH,O.phraseLength=Qe}};o=function(J,O,q){let ne=!0,se=s[J];if(M+=1,M>B)throw new Error(`parser: maximum number of node hits exceeded: ${B}`);if(T+=1,T>C&&(C=T,C>W))throw new Error(`parser: maximum parse tree depth exceeded: ${W}`);if(q.refresh(),i.trace!==null){let ae=p();i.trace.down(se,q.state,O,q.phraseLength,ae.anchor,ae.lookAround)}if(a())switch(se.type){case e.ALT:A(J,O,q);break;case e.CAT:re(J,O,q);break;case e.REP:he(J,O,q);break;case e.RNM:Y(J,O,q);break;case e.UDT:R(J,O,q);break;case e.AND:K(J,O,q);break;case e.NOT:G(J,O,q);break;case e.TRG:xe(J,O,q);break;case e.TBS:ge(J,O,q);break;case e.TLS:_e(J,O,q);break;case e.BKR:Jt(J,O,q);break;case e.BKA:oe(J,O,q);break;case e.BKN:U(J,O,q);break;case e.ABG:V(J,O,q);break;case e.AEN:ue(J,O,q);break;default:ne=!1;break}else switch(se.type){case e.ALT:A(J,O,q);break;case e.CAT:te(J,O,q);break;case e.REP:S(J,O,q);break;case e.RNM:Y(J,O,q);break;case e.UDT:R(J,O,q);break;case e.AND:K(J,O,q);break;case e.NOT:G(J,O,q);break;case e.TRG:Z(J,O,q);break;case e.TBS:ce(J,O,q);break;case e.TLS:ie(J,O,q);break;case e.BKR:X(J,O,q);break;case e.BKA:oe(J,O,q);break;case e.BKN:U(J,O,q);break;case e.ABG:V(J,O,q);break;case e.AEN:ue(J,O,q);break;default:ne=!1;break}if(!l()&&O+q.phraseLength>H&&(H=O+q.phraseLength),i.stats!==null&&i.stats.collect(se,q),i.trace!==null){let ae=p();i.trace.up(se,q.state,O,q.phraseLength,ae.anchor,ae.lookAround)}return T-=1,ne}}});var zb=le((CR,Hb)=>{Hb.exports=function(){let e=Kr(),t=oo(),n=pa(),i="stats.js: ",o=[],s=[],f=[],h,b=[],g=[];this.statsObject="statsObject";let w="stats",T=function(B,P){return B.lower<P.lower?-1:B.lower>P.lower?1:0},C=function(B,P){return B.total<P.total?1:B.total>P.total?-1:T(B,P)},M=function(B,P){return B.index<P.index?-1:B.index>P.index?1:0},k=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},F=function(){f.length=0,h=new k,f[e.ALT]=new k,f[e.CAT]=new k,f[e.REP]=new k,f[e.RNM]=new k,f[e.TRG]=new k,f[e.TBS]=new k,f[e.TLS]=new k,f[e.UDT]=new k,f[e.AND]=new k,f[e.NOT]=new k,f[e.BKR]=new k,f[e.BKA]=new k,f[e.BKN]=new k,f[e.ABG]=new k,f[e.AEN]=new k,b.length=0;for(let B=0;B<o.length;B+=1)b.push({empty:0,match:0,nomatch:0,total:0,name:o[B].name,lower:o[B].lower,index:o[B].index});if(s.length>0){g.length=0;for(let B=0;B<s.length;B+=1)g.push({empty:0,match:0,nomatch:0,total:0,name:s[B].name,lower:s[B].lower,index:s[B].index})}},I=function(B,P){switch(B.total+=1,P){case e.EMPTY:B.empty+=1;break;case e.MATCH:B.match+=1;break;case e.NOMATCH:B.nomatch+=1;break;default:throw new Error(`${i}collect(): incStat(): unrecognized state: ${P}`)}},$=function(B,P){let L="";return L+="<tr>",L+=`<td class="${n.CLASS_ACTIVE}">${B}</td>`,L+=`<td class="${n.CLASS_EMPTY}">${P.empty}</td>`,L+=`<td class="${n.CLASS_MATCH}">${P.match}</td>`,L+=`<td class="${n.CLASS_NOMATCH}">${P.nomatch}</td>`,L+=`<td class="${n.CLASS_ACTIVE}">${P.total}</td>`,L+=`</tr>
`,L},j=function(){let B="";return B+=$("ALT",f[e.ALT]),B+=$("CAT",f[e.CAT]),B+=$("REP",f[e.REP]),B+=$("RNM",f[e.RNM]),B+=$("TRG",f[e.TRG]),B+=$("TBS",f[e.TBS]),B+=$("TLS",f[e.TLS]),B+=$("UDT",f[e.UDT]),B+=$("AND",f[e.AND]),B+=$("NOT",f[e.NOT]),B+=$("BKR",f[e.BKR]),B+=$("BKA",f[e.BKA]),B+=$("BKN",f[e.BKN]),B+=$("ABG",f[e.ABG]),B+=$("AEN",f[e.AEN]),B+=$("totals",h),B},H=function(){let B="";B+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,B+=`<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>
`;for(let P=0;P<o.length;P+=1)b[P].total>0&&(B+="<tr>",B+=`<td class="${n.CLASS_ACTIVE}">${b[P].name}</td>`,B+=`<td class="${n.CLASS_EMPTY}">${b[P].empty}</td>`,B+=`<td class="${n.CLASS_MATCH}">${b[P].match}</td>`,B+=`<td class="${n.CLASS_NOMATCH}">${b[P].nomatch}</td>`,B+=`<td class="${n.CLASS_ACTIVE}">${b[P].total}</td>`,B+=`</tr>
`);if(s.length>0){B+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,B+=`<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>
`;for(let P=0;P<s.length;P+=1)g[P].total>0&&(B+="<tr>",B+=`<td class="${n.CLASS_ACTIVE}">${g[P].name}</td>`,B+=`<td class="${n.CLASS_EMPTY}">${g[P].empty}</td>`,B+=`<td class="${n.CLASS_MATCH}">${g[P].match}</td>`,B+=`<td class="${n.CLASS_NOMATCH}">${g[P].nomatch}</td>`,B+=`<td class="${n.CLASS_ACTIVE}">${g[P].total}</td>`,B+=`</tr>
`)}return B};this.validate=function(B){let P=!1;return typeof B=="string"&&w===B&&(P=!0),P},this.init=function(B,P){o=B,s=P,F()},this.collect=function(B,P){I(h,P.state,P.phraseLength),I(f[B.type],P.state,P.phraseLength),B.type===e.RNM&&I(b[B.index],P.state,P.phraseLength),B.type===e.UDT&&I(g[B.index],P.state,P.phraseLength)},this.toHtml=function(B,P){let L="";L+=`<table class="${n.CLASS_STATS}">
`,typeof P=="string"&&(L+=`<caption>${P}</caption>
`),L+=`<tr><th class="${n.CLASS_ACTIVE}">ops</th>
`,L+=`<th class="${n.CLASS_EMPTY}">EMPTY</th>
`,L+=`<th class="${n.CLASS_MATCH}">MATCH</th>
`,L+=`<th class="${n.CLASS_NOMATCH}">NOMATCH</th>
`,L+=`<th class="${n.CLASS_ACTIVE}">totals</th></tr>
`;let ee=!0;for(;ee;){if(B===void 0){L+=j();break}if(B===null){L+=j();break}if(B==="ops"){L+=j();break}if(B==="index"){b.sort(M),g.length>0&&g.sort(M),L+=j(),L+=H();break}if(B==="hits"){b.sort(C),g.length>0&&g.sort(M),L+=j(),L+=H();break}if(B==="alpha"){b.sort(T),g.length>0&&g.sort(T),L+=j(),L+=H();break}break}return L+=`</table>
`,L},this.toHtmlPage=function(B,P,L){return t.htmlToPage(this.toHtml(B,P),L)}}});var jb=le((DR,Kb)=>{Kb.exports=function(){let e=oo(),t=pa(),n=new(Oh()),i=Kr(),o="trace.js: ",s=this,f=16,h=10,b=8,g=32,w=80,T=5,C=[],M=5e3,k=-1,F=0,I=0,$=[],j=null,H=null,W=null,B=[],P=[],L=`<span class="${t.CLASS_LINEEND}">&bull;</span>`,ee=`<span class="${t.CLASS_LINEEND}">&hellip;</span>`,E=`<span class="${t.CLASS_EMPTY}">&#120634;</span>`,c=function(){let N=function(K){B[i.ALT]=K,B[i.CAT]=K,B[i.REP]=K,B[i.TLS]=K,B[i.TBS]=K,B[i.TRG]=K,B[i.AND]=K,B[i.NOT]=K,B[i.BKR]=K,B[i.BKA]=K,B[i.BKN]=K,B[i.ABG]=K,B[i.AEN]=K},R=0;for(let K in s.filter.operators)R+=1;if(R===0){N(!1);return}for(let K in s.filter.operators){let G=K.toUpperCase();if(G==="<ALL>"){N(!0);return}if(G==="<NONE>"){N(!1);return}}N(!1);for(let K in s.filter.operators){let G=K.toUpperCase();if(G==="ALT")B[i.ALT]=s.filter.operators[K]===!0;else if(G==="CAT")B[i.CAT]=s.filter.operators[K]===!0;else if(G==="REP")B[i.REP]=s.filter.operators[K]===!0;else if(G==="AND")B[i.AND]=s.filter.operators[K]===!0;else if(G==="NOT")B[i.NOT]=s.filter.operators[K]===!0;else if(G==="TLS")B[i.TLS]=s.filter.operators[K]===!0;else if(G==="TBS")B[i.TBS]=s.filter.operators[K]===!0;else if(G==="TRG")B[i.TRG]=s.filter.operators[K]===!0;else if(G==="BKR")B[i.BKR]=s.filter.operators[K]===!0;else if(G==="BKA")B[i.BKA]=s.filter.operators[K]===!0;else if(G==="BKN")B[i.BKN]=s.filter.operators[K]===!0;else if(G==="ABG")B[i.ABG]=s.filter.operators[K]===!0;else if(G==="AEN")B[i.AEN]=s.filter.operators[K]===!0;else throw new Error(`${o}initOpratorFilter: '${K}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`)}},p=function(){let N=function(Z){B[i.RNM]=Z,B[i.UDT]=Z;let ce=H.length+W.length;P.length=0;for(let ie=0;ie<ce;ie+=1)P.push(Z)},R,K,G=[];for(K=0;K<H.length;K+=1)G.push(H[K].lower);for(K=0;K<W.length;K+=1)G.push(W[K].lower);P.length=0,R=0;for(let Z in s.filter.rules)R+=1;if(R===0){N(!0);return}for(let Z in s.filter.rules){let ce=Z.toLowerCase();if(ce==="<all>"){N(!0);return}if(ce==="<none>"){N(!1);return}}N(!1),B[i.RNM]=!0,B[i.UDT]=!0;for(let Z in s.filter.rules){let ce=Z.toLowerCase();if(K=G.indexOf(ce),K<0)throw new Error(`${o}initRuleFilter: '${Z}' not a valid rule or udt name`);P[K]=s.filter.rules[Z]===!0}};this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(N,R){if(k=-1,typeof N=="number"&&N>0)M=Math.ceil(N);else{M=0;return}typeof R=="number"&&(k=Math.floor(R),k<0&&(k=-1))},this.getMaxRecords=function(){return M},this.getLastRecord=function(){return k},this.init=function(N,R,K){C.length=0,$.length=0,F=0,I=0,j=K,H=N,W=R,c(),p(),n.init(M)};let l=function(N){let R=!1;return N.type===i.RNM?B[N.type]&&P[N.index]?R=!0:R=!1:N.type===i.UDT?B[N.type]&&P[H.length+N.index]?R=!0:R=!1:R=B[N.type],R},a=function(N){return k===-1||N<=k};this.down=function(N,R,K,G,Z,ce){a(F)&&l(N)&&($.push(F),C[n.increment()]={dirUp:!1,depth:I,thisLine:F,thatLine:void 0,opcode:N,state:R,phraseIndex:K,phraseLength:G,lookAnchor:Z,lookAround:ce},F+=1,I+=1)},this.up=function(N,R,K,G,Z,ce){if(a(F)&&l(N)){let ie=F,V=$.pop(),ue=n.getListIndex(V);ue!==-1&&(C[ue].thatLine=ie),I-=1,C[n.increment()]={dirUp:!0,depth:I,thisLine:ie,thatLine:V,opcode:N,state:R,phraseIndex:K,phraseLength:G,lookAnchor:Z,lookAround:ce},F+=1}};let u=function(){function N(O,q){let ne,se,ae;if(q)switch(O.op={id:q.type,name:e.opcodeToString(q.type)},O.opData=void 0,q.type){case i.RNM:O.opData=H[q.index].name;break;case i.UDT:O.opData=W[q.index].name;break;case i.BKR:q.index<H.length?ne=H[q.index].name:ne=W[q.index-H.length].name,se=q.bkrCase===i.BKR_MODE_CI?"%i":"%s",ae=q.bkrMode===i.BKR_MODE_UM?"%u":"%p",O.opData=`\\\\${se}${ae}${ne}`;break;case i.TLS:O.opData=[];for(let de=0;de<q.string.length;de+=1)O.opData.push(q.string[de]);break;case i.TBS:O.opData=[];for(let de=0;de<q.string.length;de+=1)O.opData.push(q.string[de]);break;case i.TRG:O.opData=[q.min,q.max];break;case i.REP:O.opData=[q.min,q.max];break;default:throw new Error("unrecognized opcode")}else O.op={id:void 0,name:void 0},O.opData=void 0}function R(O,q,ne){return O===i.MATCH?{index:q,length:ne}:O===i.NOMATCH?{index:q,length:0}:O===i.EMPTY?{index:q,length:0}:null}let K=-1;function G(O,q,ne){let se={id:K++,branch:-1,parent:O,up:!1,down:!1,depth:ne,children:[]};return q?(se.down=!0,se.state={id:q.state,name:e.stateToString(q.state)},se.phrase=null,N(se,q.opcode)):(se.state={id:void 0,name:void 0},se.phrase=R(),N(se,void 0)),se}function Z(O,q){q&&(O.up=!0,O.state={id:q.state,name:e.stateToString(q.state)},O.phrase=R(q.state,q.phraseIndex,q.phraseLength),O.down||N(O,q.opcode))}let ce=0,ie=-1,V=1;function ue(O){if(ie+=1,O.branch=V,ie>I&&(I=ie),O.children.length===0)ce+=1;else for(let q=0;q<O.children.length;q+=1)q>0&&(V+=1),O.children[q].leftMost=!1,O.children[q].rightMost=!1,O.leftMost&&(O.children[q].leftMost=q===0),O.rightMost&&(O.children[q].rightMost=q===O.children.length-1),ue(O.children[q]);ie-=1}function X(O,q){let ne,se={};if(se.id=O.id,se.branch=O.branch,se.leftMost=O.leftMost,se.rightMost=O.rightMost,ne=O.state.name?O.state.name:"ACTIVE",se.state={id:O.state.id,name:ne},ne=O.op.name?O.op.name:"?",se.op={id:O.op.id,name:ne},typeof O.opData=="string")se.opData=O.opData;else if(Array.isArray(O.opData)){se.opData=[];for(let ae=0;ae<O.opData.length;ae+=1)se.opData[ae]=O.opData[ae]}else se.opData=void 0;O.phrase?se.phrase={index:O.phrase.index,length:O.phrase.length}:se.phrase=null,se.depth=O.depth,se.children=[];for(let ae=0;ae<O.children.length;ae+=1){let de=ae!==O.children.length-1;se.children[ae]=X(O.children[ae],q,de)}return se}let oe=[],U,re,he,xe,ge=!0,_e=G(null,null,-1);for(oe.push(_e),re=_e,n.forEach(O=>{if(xe=C[O],ge&&(ge=!1,xe.depth>0)){let q=xe.dirUp?xe.depth+1:xe.depth;for(let ne=0;ne<q;ne+=1)he=re,re=G(re,null,ne),oe.push(re),he.children.push(re)}xe.dirUp?(re=oe.pop(),Z(re,xe),re=oe[oe.length-1]):(he=re,re=G(re,xe,xe.depth),oe.push(re),he.children.push(re))});oe.length>1;)re=oe.pop(),Z(re,null);if(_e.children.length===0)throw new Error("trace.toTree(): parse tree has no nodes");if(oe.length===0)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");U=_e.children[0];let Jt=U;for(;U&&!U.down&&!U.up;)Jt=U,U=U.children[0];U=Jt,U.leftMost=!0,U.rightMost=!0,ue(U),U.branch=0;let Q={};Q.string=[];for(let O=0;O<j.length;O+=1)Q.string[O]=j[O];Q.rules=[];for(let O=0;O<H.length;O+=1)Q.rules[O]=H[O].name;Q.udts=[];for(let O=0;O<W.length;O+=1)Q.udts[O]=W[O].name;Q.id={},Q.id.ALT={id:i.ALT,name:"ALT"},Q.id.CAT={id:i.CAT,name:"CAT"},Q.id.REP={id:i.REP,name:"REP"},Q.id.RNM={id:i.RNM,name:"RNM"},Q.id.TLS={id:i.TLS,name:"TLS"},Q.id.TBS={id:i.TBS,name:"TBS"},Q.id.TRG={id:i.TRG,name:"TRG"},Q.id.UDT={id:i.UDT,name:"UDT"},Q.id.AND={id:i.AND,name:"AND"},Q.id.NOT={id:i.NOT,name:"NOT"},Q.id.BKR={id:i.BKR,name:"BKR"},Q.id.BKA={id:i.BKA,name:"BKA"},Q.id.BKN={id:i.BKN,name:"BKN"},Q.id.ABG={id:i.ABG,name:"ABG"},Q.id.AEN={id:i.AEN,name:"AEN"},Q.id.ACTIVE={id:i.ACTIVE,name:"ACTIVE"},Q.id.MATCH={id:i.MATCH,name:"MATCH"},Q.id.EMPTY={id:i.EMPTY,name:"EMPTY"},Q.id.NOMATCH={id:i.NOMATCH,name:"NOMATCH"},Q.treeDepth=I,Q.leafNodes=ce;let J;return U.down?U.up?J="none":J="right":U.up?J="left":J="both",Q.branchesIncomplete=J,Q.tree=X(U,U.depth,!1),Q};this.toTree=function(N){let R=u();return N?JSON.stringify(R):R},this.toHtmlPage=function(N,R,K){return e.htmlToPage(this.toHtml(N,R),K)};let v=function(N,R){let K;switch(N){case f:K="hexadecimal";break;case h:K="decimal";break;case b:K="ASCII";break;case g:K="UNICODE";break;default:throw new Error(`${o}htmlHeader: unrecognized mode: ${N}`)}let G="";return G+=`<p>display mode: ${K}</p>
`,G+=`<table class="${t.CLASS_TRACE}">
`,typeof R=="string"&&(G+=`<caption>${R}</caption>`),G},x=function(){let N="";return N+=`</table>
`,N+=`<p class="${t.CLASS_MONOSPACE}">legend:<br>
`,N+=`(a)&nbsp;-&nbsp;line number<br>
`,N+=`(b)&nbsp;-&nbsp;matching line number<br>
`,N+=`(c)&nbsp;-&nbsp;phrase offset<br>
`,N+=`(d)&nbsp;-&nbsp;phrase length<br>
`,N+=`(e)&nbsp;-&nbsp;tree depth<br>
`,N+=`(f)&nbsp;-&nbsp;operator state<br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">&uarr;M</span> phrase matched<br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>
`,N+=`operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>
`,N+=`phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to ${w} characters of the phrase being matched<br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">matched characters</span><br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${E} empty string<br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${L} end of input string<br>
`,N+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${ee} input string display truncated<br>
`,N+=`</p>
`,N+=`<p class="${t.CLASS_MONOSPACE}">
`,N+=`<sup>&dagger;</sup>original ABNF operators:<br>
`,N+=`ALT - alternation<br>
`,N+=`CAT - concatenation<br>
`,N+=`REP - repetition<br>
`,N+=`RNM - rule name<br>
`,N+=`TRG - terminal range<br>
`,N+=`TLS - terminal literal string (case insensitive)<br>
`,N+=`TBS - terminal binary string (case sensitive)<br>
`,N+=`<br>
`,N+=`<sup>&Dagger;</sup>super set SABNF operators:<br>
`,N+=`UDT - user-defined terminal<br>
`,N+=`AND - positive look ahead<br>
`,N+=`NOT - negative look ahead<br>
`,N+=`BKA - positive look behind<br>
`,N+=`BKN - negative look behind<br>
`,N+=`BKR - back reference<br>
`,N+=`ABG - anchor - begin of input string<br>
`,N+=`AEN - anchor - end of input string<br>
`,N+=`</p>
`,N};this.indent=function(N){let R="";for(let K=0;K<N;K+=1)R+=".";return R};let y=function(N,R){let K="";if(R.type===i.TRG)if(N===f||N===g){let G=R.min.toString(16).toUpperCase();G.length%2!==0&&(G=`0${G}`),K+=N===f?"%x":"U+",K+=G,G=R.max.toString(16).toUpperCase(),G.length%2!==0&&(G=`0${G}`),K+=`&ndash;${G}`}else K=`%d${R.min.toString(10)}&ndash;${R.max.toString(10)}`;return K},d=function(N,R){let K="";if(R.type===i.REP)if(N===f){let G=R.min.toString(16).toUpperCase();G.length%2!==0&&(G=`0${G}`),K=`x${G}`,R.max<1/0?(G=R.max.toString(16).toUpperCase(),G.length%2!==0&&(G=`0${G}`)):G="inf",K+=`&ndash;${G}`}else R.max<1/0?K=`${R.min.toString(10)}&ndash;${R.max.toString(10)}`:K=`${R.min.toString(10)}&ndash;inf`;return K},_=function(N,R){let K="";if(R.type===i.TBS){let G=Math.min(R.string.length,T*2);if(N===f||N===g){K+=N===f?"%x":"U+";for(let Z=0;Z<G;Z+=1){let ce;Z>0&&(K+="."),ce=R.string[Z].toString(16).toUpperCase(),ce.length%2!==0&&(ce=`0${ce}`),K+=ce}}else{K="%d";for(let Z=0;Z<G;Z+=1)Z>0&&(K+="."),K+=R.string[Z].toString(10)}G<R.string.length&&(K+=ee)}return K},D=function(N,R){let K="";if(R.type===i.TLS){let G=Math.min(R.string.length,T);if(N===f||N===h){let Z,ce,ie;N===f?(K="%x",ie=16):(K="%d",ie=10);for(let V=0;V<G;V+=1)V>0&&(K+="."),ce=R.string[V],ce>=97&&ce<=122?(Z=ce-32,K+=`${Z.toString(ie)}/${ce.toString(ie)}`.toUpperCase()):ce>=65&&ce<=90?(Z=ce,ce+=32,K+=`${Z.toString(ie)}/${ce.toString(ie)}`.toUpperCase()):K+=ce.toString(ie).toUpperCase();G<R.string.length&&(K+=ee)}else{K='"';for(let Z=0;Z<G;Z+=1)K+=e.asciiChars[R.string[Z]];G<R.string.length&&(K+=ee),K+='"'}}return K},m=function(N,R,K,G,Z){if(G===0)return"";let ce="",ie=Z?",":"";switch(N){case f:ce=ie+e.charsToHex(R,K,G);break;case h:if(Z)return`,${e.charsToDec(R,K,G)}`;ce=ie+e.charsToDec(R,K,G);break;case g:ce=e.charsToUnicode(R,K,G);break;case b:default:ce=e.charsToAsciiHtml(R,K,G);break}return ce},A=function(N,R,K,G,Z,ce){let ie="",V,ue,X,oe,U=L,re=`<span class="${t.CLASS_LOOKBEHIND}">`,he=`<span class="${t.CLASS_REMAINDER}">`,xe="</span>",ge=!1;switch(K){case i.EMPTY:ie+=E;case i.NOMATCH:case i.MATCH:case i.ACTIVE:V=G-Z,ue=ce-V,X=ce,oe=R.length-X;break;default:throw new Error("unrecognized state")}return U=L,ue>w?(ue=w,U=ee,oe=0):ue+oe>w&&(U=ee,oe=w-ue),ue>0&&(ie+=re,ie+=m(N,R,V,ue,ge),ie+=xe,ge=!0),oe>0&&(ie+=he,ie+=m(N,R,X,oe,ge),ie+=xe),ie+U},te=function(N,R,K,G,Z,ce){let ie="",V,ue,X,oe,U=L,re=`<span class="${t.CLASS_REMAINDER}">`,he="</span>",xe=!1;switch(K){case i.EMPTY:ie+=E;case i.NOMATCH:case i.ACTIVE:V=G,ue=0,X=G,oe=R.length-X;break;case i.MATCH:V=G,ue=Z,X=G+ue,oe=R.length-X;break;default:throw new Error("unrecognized state")}return U=L,ue>w?(ue=w,U=ee,oe=0):ue+oe>w&&(U=ee,oe=w-ue),ue>0&&(ie+=ce,ie+=m(N,R,V,ue,xe),ie+=he,xe=!0),oe>0&&(ie+=re,ie+=m(N,R,X,oe,xe),ie+=he),ie+U},S=function(N,R,K,G,Z){let ce=`<span class="${t.CLASS_LOOKAHEAD}">`;return te(N,R,K,G,Z,ce)},z=function(N,R,K,G,Z){let ce=`<span class="${t.CLASS_MATCH}">`;return te(N,R,K,G,Z,ce)},Y=function(N){if(H===null)return"";let R="",K,G,Z,ce,ie,V;return R+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",R+=`<th>operator</th><th>phrase</th></tr>
`,n.forEach(ue=>{let X=C[ue];switch(K=X.thisLine,G=X.thatLine!==void 0?X.thatLine:"--",Z=!1,ce=!1,ie=!1,X.lookAround===i.LOOKAROUND_AHEAD&&(Z=!0,ie=!0,V=X.lookAnchor),(X.opcode.type===i.AND||X.opcode.type===i.NOT)&&(Z=!0,ie=!0,V=X.phraseIndex),X.lookAround===i.LOOKAROUND_BEHIND&&(ce=!0,ie=!0,V=X.lookAnchor),(X.opcode.type===i.BKA||X.opcode.type===i.BKN)&&(ce=!0,ie=!0,V=X.phraseIndex),R+="<tr>",R+=`<td>${K}</td><td>${G}</td>`,R+=`<td>${X.phraseIndex}</td>`,R+=`<td>${X.phraseLength}</td>`,R+=`<td>${X.depth}</td>`,R+="<td>",X.state){case i.ACTIVE:R+=`<span class="${t.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case i.MATCH:R+=`<span class="${t.CLASS_MATCH}">&uarr;M</span>`;break;case i.NOMATCH:R+=`<span class="${t.CLASS_NOMATCH}">&uarr;N</span>`;break;case i.EMPTY:R+=`<span class="${t.CLASS_EMPTY}">&uarr;E</span>`;break;default:R+=`<span class="${t.CLASS_ACTIVE}">--</span>`;break}if(R+="</td>",R+="<td>",R+=s.indent(X.depth),Z?R+=`<span class="${t.CLASS_LOOKAHEAD}">`:ce&&(R+=`<span class="${t.CLASS_LOOKBEHIND}">`),R+=e.opcodeToString(X.opcode.type),X.opcode.type===i.RNM&&(R+=`(${H[X.opcode.index].name}) `),X.opcode.type===i.BKR){let oe=X.opcode.bkrCase===i.BKR_MODE_CI?"%i":"%s",U=X.opcode.bkrMode===i.BKR_MODE_UM?"%u":"%p";R+=`(\\${oe}${U}${H[X.opcode.index].name}) `}X.opcode.type===i.UDT&&(R+=`(${W[X.opcode.index].name}) `),X.opcode.type===i.TRG&&(R+=`(${y(N,X.opcode)}) `),X.opcode.type===i.TBS&&(R+=`(${_(N,X.opcode)}) `),X.opcode.type===i.TLS&&(R+=`(${D(N,X.opcode)}) `),X.opcode.type===i.REP&&(R+=`(${d(N,X.opcode)}) `),ie&&(R+="</span>"),R+="</td>",R+="<td>",ce?R+=A(N,j,X.state,X.phraseIndex,X.phraseLength,V):Z?R+=S(N,j,X.state,X.phraseIndex,X.phraseLength):R+=z(N,j,X.state,X.phraseIndex,X.phraseLength),R+=`</td></tr>
`}),R+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",R+=`<th>operator</th><th>phrase</th></tr>
`,R+=`</table>
`,R};this.toHtml=function(N,R){let K=b;if(typeof N=="string"&&N.length>=3){let Z=N.toLowerCase().slice(0,3);Z==="hex"?K=f:Z==="dec"?K=h:Z==="uni"&&(K=g)}let G="";return G+=v(K,R),G+=Y(K),G+=x(),G}}});var so=le((IR,Gb)=>{Gb.exports={ast:Ub(),circular:Oh(),ids:Kr(),parser:qb(),stats:zb(),trace:jb(),utils:oo(),emitcss:Dh(),style:pa()}});var Vb=le((OR,Jb)=>{Jb.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"file",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"line",lower:"line",index:1,isBkr:!1},this.rules[2]={name:"line-text",lower:"line-text",index:2,isBkr:!1},this.rules[3]={name:"last-line",lower:"last-line",index:3,isBkr:!1},this.rules[4]={name:"valid",lower:"valid",index:4,isBkr:!1},this.rules[5]={name:"invalid",lower:"invalid",index:5,isBkr:!1},this.rules[6]={name:"end",lower:"end",index:6,isBkr:!1},this.rules[7]={name:"CRLF",lower:"crlf",index:7,isBkr:!1},this.rules[8]={name:"LF",lower:"lf",index:8,isBkr:!1},this.rules[9]={name:"CR",lower:"cr",index:9,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,3]},this.rules[0].opcodes[1]={type:3,min:0,max:1/0},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:3,min:0,max:1},this.rules[0].opcodes[4]={type:4,index:3},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:4,index:2},this.rules[1].opcodes[2]={type:4,index:6},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:0,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:4},this.rules[2].opcodes[3]={type:4,index:5},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3]},this.rules[3].opcodes[2]={type:4,index:4},this.rules[3].opcodes[3]={type:4,index:5},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:32,max:126},this.rules[4].opcodes[2]={type:6,string:[9]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[5].opcodes[1]={type:5,min:0,max:8},this.rules[5].opcodes[2]={type:5,min:11,max:12},this.rules[5].opcodes[3]={type:5,min:14,max:31},this.rules[5].opcodes[4]={type:5,min:127,max:4294967295},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3]},this.rules[6].opcodes[1]={type:4,index:7},this.rules[6].opcodes[2]={type:4,index:8},this.rules[6].opcodes[3]={type:4,index:9},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[13,10]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:6,string:[10]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[13]},this.toString=function(){let t="";return t+=`file = *line [last-line]
`,t+=`line = line-text end
`,t+=`line-text = *(valid/invalid)
`,t+=`last-line = 1*(valid/invalid)
`,t+=`valid = %d32-126 / %d9
`,t+=`invalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff
`,t+=`end = CRLF / LF / CR
`,t+=`CRLF = %d13.10
`,t+=`LF = %d10
`,t+=`CR = %d13
`,t}}});var Wb=le(Yb=>{var Ft=Kr(),b9=oo();function g9(r,e,t,n,i){return r===Ft.SEM_PRE?(i.endLength=0,i.textLength=0,i.invalidCount=0):i.lines.push({lineNo:i.lines.length,beginChar:t,length:n,textLength:i.textLength,endType:i.endType,invalidChars:i.invalidCount}),Ft.SEM_OK}function v9(r,e,t,n,i){return r===Ft.SEM_PRE&&(i.textLength=n),Ft.SEM_OK}function y9(r,e,t,n,i){return r===Ft.SEM_PRE?(i.endLength=0,i.textLength=0,i.invalidCount=0):i.strict?(i.lines.push({lineNo:i.lines.length,beginChar:t,length:n,textLength:n,endType:"none",invalidChars:i.invalidCount}),i.errors.push({line:i.lineNo,char:t+n,msg:"no line end on last line - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})):(e.push(10),i.lines.push({lineNo:i.lines.length,beginChar:t,length:n+1,textLength:n,endType:"LF",invalidChars:i.invalidCount})),Ft.SEM_OK}function x9(r,e,t,n,i){return r===Ft.SEM_PRE&&i.errors.push({line:i.lineNo,char:t,msg:`invalid character found '\\x${b9.charToHex(e[t])}'`}),Ft.SEM_OK}function w9(r,e,t,n,i){return r===Ft.SEM_POST&&(i.lineNo+=1),Ft.SEM_OK}function E9(r,e,t,n,i){return r===Ft.SEM_PRE&&(i.endType="LF",i.strict&&i.errors.push({line:i.lineNo,char:t,msg:"line end character LF(\\n, \\x0A) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),Ft.SEM_OK}function _9(r,e,t,n,i){return r===Ft.SEM_PRE&&(i.endType="CR",i.strict&&i.errors.push({line:i.lineNo,char:t,msg:"line end character CR(\\r, \\x0D) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),Ft.SEM_OK}function A9(r,e,t,n,i){return r===Ft.SEM_PRE&&(i.endType="CRLF"),Ft.SEM_OK}var Ln=[];Ln.line=g9;Ln["line-text"]=v9;Ln["last-line"]=y9;Ln.invalid=x9;Ln.end=w9;Ln.lf=E9;Ln.cr=_9;Ln.crlf=A9;Yb.callbacks=Ln});var Zb=le((RR,Xb)=>{Xb.exports=function(e,t,n,i){let o="scanner.js: ",s=so(),f=new(Vb()),{callbacks:h}=Wb(),b=[],g=new s.parser;if(g.ast=new s.ast,g.ast.callbacks=h,i){if(i.traceObject!=="traceObject")throw new TypeError(`${o}trace argument is not a trace object`);g.trace=i}if(g.parse(f,"file",e).success!==!0){t.push({line:0,char:0,msg:"syntax analysis error analyzing input SABNF grammar"});return}let T={lines:b,lineNo:0,errors:t,strict:!!n};return g.ast.translate(T),b}});var e2=le((PR,Qb)=>{Qb.exports=function(){let e="syntax-callbacks.js: ",t=so(),n=t.ids,i,o=function(D,m,A,te){switch(D.state){case n.ACTIVE:te.altStack=[],te.repCount=0;break;case n.EMPTY:te.errors.push({line:0,char:0,msg:"grammar file is empty"});break;case n.MATCH:te.ruleCount===0&&te.errors.push({line:0,char:0,msg:"no rules defined"});break;case n.NOMATCH:throw new Error(`${e}synFile: grammar file NOMATCH: design error: should never happen.`);default:throw new Error(`${e}synFile: unrecognized case.`)}},s=function(_,D,m,A){switch(_.state){case n.ACTIVE:A.altStack.length=0,i={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},A.altStack.push(i);break;case n.EMPTY:throw new Error(`${e}synRule: EMPTY: rule cannot be empty`);case n.NOMATCH:break;case n.MATCH:A.ruleCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},f=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:"Unrecognized SABNF line. Invalid rule, comment or blank line."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},h=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:"Rule names must be alphanum and begin with alphabetic character."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},b=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:"Expected '=' or '=/'. Not found."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},g=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:"AND operator(&) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},w=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:"NOT operator(!) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},T=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:"Positive look-behind operator(&&) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},C=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:"Negative look-behind operator(!!) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},M=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:"Beginning of string anchor(%^) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},k=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:"End of string anchor(%$) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},F=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(A.strict){let te=t.utils.charsToString(D,m,_.phraseLength);A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:`Back reference operator(${te}) found - strict ABNF specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},I=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(A.strict){let te=t.utils.charsToString(D,m,_.phraseLength);A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:`UDT operator found(${te}) - strict ABNF specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},$=function(_,D,m){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.tlsOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},j=function(_,D,m,A){switch(_.state){case n.ACTIVE:A.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.stringTabChar!==!1&&A.errors.push({line:A.findLine(A.lines,A.stringTabChar),char:A.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},H=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.stringTabChar=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},W=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.errors.push({line:A.findLine(A.lines,i.tlsOpen),char:i.tlsOpen,msg:'Case-insensitive literal string("...") opened but not closed.'}),i.basicError=!0,i.tlsOpen=null;break;case n.MATCH:i.tlsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},B=function(_,D,m){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.clsOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},P=function(_,D,m,A){switch(_.state){case n.ACTIVE:A.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.stringTabChar!==!1&&A.errors.push({line:A.findLine(A.lines,A.stringTabChar),char:A.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},L=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.errors.push({line:A.findLine(A.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive literal string('...') opened but not closed."}),i.clsOpen=null,i.basicError=!0;break;case n.MATCH:A.strict&&A.errors.push({line:A.findLine(A.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive string operator('...') found - strict ABNF specified."}),i.clsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},ee=function(_,D,m){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.prosValOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},E=function(_,D,m,A){switch(_.state){case n.ACTIVE:A.stringTabChar=!1;break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.stringTabChar!==!1&&A.errors.push({line:A.findLine(A.lines,A.stringTabChar),char:A.stringTabChar,msg:"Tab character (\\t, x09) not allowed in prose value string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},c=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.errors.push({line:A.findLine(A.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) opened but not closed."}),i.basicError=!0,i.prosValOpen=null;break;case n.MATCH:A.errors.push({line:A.findLine(A.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) found. The ABNF syntax is valid, but a parser cannot be generated from this grammar."}),i.prosValOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},p=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i={groupOpen:m,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},A.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},l=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.errors.push({line:A.findLine(A.lines,i.groupOpen),char:i.groupOpen,msg:'Group "(...)" opened but not closed.'}),i=A.altStack.pop(),i.groupError=!0;break;case n.MATCH:i=A.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},a=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i={groupOpen:null,groupError:!1,optionOpen:m,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},A.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},u=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.errors.push({line:A.findLine(A.lines,i.optionOpen),char:i.optionOpen,msg:'Option "[...]" opened but not closed.'}),i=A.altStack.pop(),i.optionError=!0;break;case n.MATCH:i=A.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},v=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:i.basicError===!1&&A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:"Unrecognized SABNF element."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},x=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:if(_.phraseLength===1&&A.strict){let te=D[m]===13?"CR":"LF";A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:`Line end '${te}' found - strict ABNF specified, only CRLF allowed.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},y=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:break;case n.MATCH:A.errors.push({line:A.findLine(A.lines,m,A.charsLength),char:m,msg:"Unrecognized grammar element or characters."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},d=function(_,D,m,A){switch(_.state){case n.ACTIVE:break;case n.EMPTY:break;case n.NOMATCH:A.repCount+=1;break;case n.MATCH:A.repCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}};this.callbacks=[],this.callbacks.andop=g,this.callbacks.basicelementerr=v,this.callbacks.clsclose=L,this.callbacks.clsopen=B,this.callbacks.clsstring=P,this.callbacks.definedaserror=b,this.callbacks.file=o,this.callbacks.groupclose=l,this.callbacks.groupopen=p,this.callbacks.lineenderror=y,this.callbacks.lineend=x,this.callbacks.notop=w,this.callbacks.optionclose=u,this.callbacks.optionopen=a,this.callbacks.prosvalclose=c,this.callbacks.prosvalopen=ee,this.callbacks.prosvalstring=E,this.callbacks.repetition=d,this.callbacks.rule=s,this.callbacks.ruleerror=f,this.callbacks.rulenameerror=h,this.callbacks.stringtab=H,this.callbacks.tlsclose=W,this.callbacks.tlsopen=$,this.callbacks.tlsstring=j,this.callbacks.udtop=I,this.callbacks.bkaop=T,this.callbacks.bknop=C,this.callbacks.bkrop=F,this.callbacks.abgop=M,this.callbacks.aenop=k}});var r2=le((BR,t2)=>{t2.exports=function(){let e=so(),t=e.ids,n=function(){this.names=[],this.add=function(X){let oe=-1;return this.get(X)===-1&&(oe={name:X,lower:X.toLowerCase(),index:this.names.length},this.names.push(oe)),oe},this.get=function(X){let oe=-1,U=X.toLowerCase();for(let re=0;re<this.names.length;re+=1)if(this.names[re].lower===U){oe=this.names[re];break}return oe}},i=function(ue,X,oe){let U=0;for(let re=X;re<X+oe;re+=1)U=10*U+ue[re]-48;return U},o=function(ue,X,oe){let U=0;for(let re=X;re<X+oe;re+=1)U=2*U+ue[re]-48;return U},s=function(ue,X,oe){let U=0;for(let re=X;re<X+oe;re+=1){let he=ue[re];if(he>=48&&he<=57)he-=48;else if(he>=65&&he<=70)he-=55;else if(he>=97&&he<=102)he-=87;else throw new Error("hexnum out of range");U=16*U+he}return U};function f(V,ue,X,oe,U){let re=t.SEM_OK;if(V===t.SEM_PRE)U.ruleNames=new n,U.udtNames=new n,U.rules=[],U.udts=[],U.rulesLineMap=[],U.opcodes=[],U.altStack=[],U.topStack=null,U.topRule=null;else if(V===t.SEM_POST){let he;U.rules.forEach(xe=>{xe.isBkr=!1,xe.opcodes.forEach(ge=>{ge.type===t.RNM&&(he=U.ruleNames.get(ge.index.name),he===-1?(U.errors.push({line:U.findLine(U.lines,ge.index.phraseIndex,U.charsLength),char:ge.index.phraseIndex,msg:`Rule name '${ge.index.name}' used but not defined.`}),ge.index=-1):ge.index=he.index)})}),U.udts.forEach(xe=>{xe.isBkr=!1}),U.rules.forEach(xe=>{xe.opcodes.forEach(ge=>{ge.type===t.BKR&&(xe.hasBkr=!0,he=U.ruleNames.get(ge.index.name),he!==-1?(U.rules[he.index].isBkr=!0,ge.index=he.index):(he=U.udtNames.get(ge.index.name),he!==-1?(U.udts[he.index].isBkr=!0,ge.index=U.rules.length+he.index):(U.errors.push({line:U.findLine(U.lines,ge.index.phraseIndex,U.charsLength),char:ge.index.phraseIndex,msg:`Back reference name '${ge.index.name}' refers to undefined rule or unamed UDT.`}),ge.index=-1)))})})}return re}function h(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_PRE&&(U.altStack.length=0,U.topStack=null,U.rulesLineMap.push({line:U.findLine(U.lines,X,U.charsLength),char:X})),re}function b(V,ue,X,oe,U){let re=t.SEM_OK;if(V===t.SEM_PRE)U.ruleName="",U.definedas="";else if(V===t.SEM_POST){let he;U.definedas==="="?(he=U.ruleNames.add(U.ruleName),he===-1?(U.definedas=null,U.errors.push({line:U.findLine(U.lines,X,U.charsLength),char:X,msg:`Rule name '${U.ruleName}' previously defined.`})):(U.topRule={name:he.name,lower:he.lower,opcodes:[],index:he.index},U.rules.push(U.topRule),U.opcodes=U.topRule.opcodes)):(he=U.ruleNames.get(U.ruleName),he===-1?(U.definedas=null,U.errors.push({line:U.findLine(U.lines,X,U.charsLength),char:X,msg:`Rule name '${U.ruleName}' for incremental alternate not previously defined.`})):(U.topRule=U.rules[he.index],U.opcodes=U.topRule.opcodes))}return re}function g(V,ue,X,oe,U){let re=t.SEM_OK;if(V===t.SEM_PRE)for(;;){if(U.definedas===null){re=t.SEM_SKIP;break}if(U.topStack===null){if(U.definedas==="="){U.topStack={alt:{type:t.ALT,children:[]},cat:null},U.altStack.push(U.topStack),U.opcodes.push(U.topStack.alt);break}U.topStack={alt:U.opcodes[0],cat:null},U.altStack.push(U.topStack);break}U.topStack={alt:{type:t.ALT,children:[]},cat:null},U.altStack.push(U.topStack),U.opcodes.push(U.topStack.alt);break}else V===t.SEM_POST&&(U.altStack.pop(),U.altStack.length>0?U.topStack=U.altStack[U.altStack.length-1]:U.topStack=null);return re}function w(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_PRE?(U.topStack.alt.children.push(U.opcodes.length),U.topStack.cat={type:t.CAT,children:[]},U.opcodes.push(U.topStack.cat)):V===t.SEM_POST&&(U.topStack.cat=null),re}function T(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_PRE&&U.topStack.cat.children.push(U.opcodes.length),re}function C(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.REP,min:0,max:1,char:X}),re}function M(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_PRE&&(U.ruleName=e.utils.charsToString(ue,X,oe)),re}function k(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.definedas="="),re}function F(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.definedas="=/"),re}function I(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_PRE?(U.min=0,U.max=1/0,U.topRep={type:t.REP,min:0,max:1/0},U.opcodes.push(U.topRep)):V===t.SEM_POST&&(U.min>U.max&&U.errors.push({line:U.findLine(U.lines,X,U.charsLength),char:X,msg:`repetition min cannot be greater than max: min: ${U.min}: max: ${U.max}`}),U.topRep.min=U.min,U.topRep.max=U.max),re}function $(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.min=i(ue,X,oe)),re}function j(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.max=i(ue,X,oe)),re}function H(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.max=i(ue,X,oe),U.min=U.max),re}function W(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.AND}),re}function B(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.NOT}),re}function P(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.RNM,index:{phraseIndex:X,name:e.utils.charsToString(ue,X,oe)}}),re}function L(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.ABG}),re}function ee(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.AEN}),re}function E(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.BKA}),re}function c(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.opcodes.push({type:t.BKN}),re}function p(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_PRE?(U.ci=!0,U.cs=!1,U.um=!0,U.pm=!1):V===t.SEM_POST&&U.opcodes.push({type:t.BKR,bkrCase:U.cs===!0?t.BKR_MODE_CS:t.BKR_MODE_CI,bkrMode:U.pm===!0?t.BKR_MODE_PM:t.BKR_MODE_UM,index:{phraseIndex:U.bkrname.phraseIndex,name:e.utils.charsToString(ue,U.bkrname.phraseIndex,U.bkrname.phraseLength)}}),re}function l(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.ci=!0),re}function a(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.cs=!0),re}function u(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.um=!0),re}function v(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.pm=!0),re}function x(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.bkrname={phraseIndex:X,phraseLength:oe}),re}function y(V,ue,X,oe,U){let re=t.SEM_OK;if(V===t.SEM_POST){let he=e.utils.charsToString(ue,X,oe),xe=U.udtNames.add(he);if(xe===-1){if(xe=U.udtNames.get(he),xe===-1)throw new Error("semUdtEmpty: name look up error")}else U.udts.push({name:xe.name,lower:xe.lower,index:xe.index,empty:!0});U.opcodes.push({type:t.UDT,empty:!0,index:xe.index})}return re}function d(V,ue,X,oe,U){let re=t.SEM_OK;if(V===t.SEM_POST){let he=e.utils.charsToString(ue,X,oe),xe=U.udtNames.add(he);if(xe===-1){if(xe=U.udtNames.get(he),xe===-1)throw new Error("semUdtNonEmpty: name look up error")}else U.udts.push({name:xe.name,lower:xe.lower,index:xe.index,empty:!1});U.opcodes.push({type:t.UDT,empty:!1,index:xe.index,syntax:null,semantic:null})}return re}function _(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_PRE&&(U.tlscase=!0),re}function D(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&oe>0&&(ue[X+1]===83||ue[X+1]===115)&&(U.tlscase=!1),re}function m(V,ue,X,oe,U){let re=t.SEM_OK;if(V===t.SEM_POST)if(U.tlscase){let he=ue.slice(X,X+oe);for(let xe=0;xe<he.length;xe+=1)he[xe]>=65&&he[xe]<=90&&(he[xe]+=32);U.opcodes.push({type:t.TLS,string:he})}else U.opcodes.push({type:t.TBS,string:ue.slice(X,X+oe)});return re}function A(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(oe<=2?U.opcodes.push({type:t.TLS,string:[]}):U.opcodes.push({type:t.TBS,string:ue.slice(X+1,X+oe-1)})),re}function te(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_PRE?U.tbsstr=[]:V===t.SEM_POST&&U.opcodes.push({type:t.TBS,string:U.tbsstr}),re}function S(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_PRE?(U.min=0,U.max=0):V===t.SEM_POST&&(U.min>U.max&&U.errors.push({line:U.findLine(U.lines,X,U.charsLength),char:X,msg:`TRG, (%dmin-max), min cannot be greater than max: min: ${U.min}: max: ${U.max}`}),U.opcodes.push({type:t.TRG,min:U.min,max:U.max})),re}function z(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.min=i(ue,X,oe)),re}function Y(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.max=i(ue,X,oe)),re}function N(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.min=o(ue,X,oe)),re}function R(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.max=o(ue,X,oe)),re}function K(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.min=s(ue,X,oe)),re}function G(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&(U.max=s(ue,X,oe)),re}function Z(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.tbsstr.push(i(ue,X,oe)),re}function ce(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.tbsstr.push(o(ue,X,oe)),re}function ie(V,ue,X,oe,U){let re=t.SEM_OK;return V===t.SEM_POST&&U.tbsstr.push(s(ue,X,oe)),re}this.callbacks=[],this.callbacks.abgop=L,this.callbacks.aenop=ee,this.callbacks.alternation=g,this.callbacks.andop=W,this.callbacks.bmax=R,this.callbacks.bmin=N,this.callbacks.bkaop=E,this.callbacks.bknop=c,this.callbacks.bkrop=p,this.callbacks["bkr-name"]=x,this.callbacks.bstring=ce,this.callbacks.clsop=A,this.callbacks.ci=l,this.callbacks.cs=a,this.callbacks.um=u,this.callbacks.pm=v,this.callbacks.concatenation=w,this.callbacks.defined=k,this.callbacks.dmax=Y,this.callbacks.dmin=z,this.callbacks.dstring=Z,this.callbacks.file=f,this.callbacks.incalt=F,this.callbacks.notop=B,this.callbacks.optionopen=C,this.callbacks["rep-max"]=j,this.callbacks["rep-min"]=$,this.callbacks["rep-min-max"]=H,this.callbacks.repetition=T,this.callbacks.repop=I,this.callbacks.rnmop=P,this.callbacks.rule=h,this.callbacks.rulelookup=b,this.callbacks.rulename=M,this.callbacks.tbsop=te,this.callbacks.tlscase=D,this.callbacks.tlsstring=m,this.callbacks.tlsop=_,this.callbacks.trgop=S,this.callbacks["udt-empty"]=y,this.callbacks["udt-non-empty"]=d,this.callbacks.xmax=G,this.callbacks.xmin=K,this.callbacks.xstring=ie}});var i2=le((LR,n2)=>{n2.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"File",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"BlankLine",lower:"blankline",index:1,isBkr:!1},this.rules[2]={name:"Rule",lower:"rule",index:2,isBkr:!1},this.rules[3]={name:"RuleLookup",lower:"rulelookup",index:3,isBkr:!1},this.rules[4]={name:"RuleNameTest",lower:"rulenametest",index:4,isBkr:!1},this.rules[5]={name:"RuleName",lower:"rulename",index:5,isBkr:!1},this.rules[6]={name:"RuleNameError",lower:"rulenameerror",index:6,isBkr:!1},this.rules[7]={name:"DefinedAsTest",lower:"definedastest",index:7,isBkr:!1},this.rules[8]={name:"DefinedAsError",lower:"definedaserror",index:8,isBkr:!1},this.rules[9]={name:"DefinedAs",lower:"definedas",index:9,isBkr:!1},this.rules[10]={name:"Defined",lower:"defined",index:10,isBkr:!1},this.rules[11]={name:"IncAlt",lower:"incalt",index:11,isBkr:!1},this.rules[12]={name:"RuleError",lower:"ruleerror",index:12,isBkr:!1},this.rules[13]={name:"LineEndError",lower:"lineenderror",index:13,isBkr:!1},this.rules[14]={name:"Alternation",lower:"alternation",index:14,isBkr:!1},this.rules[15]={name:"Concatenation",lower:"concatenation",index:15,isBkr:!1},this.rules[16]={name:"Repetition",lower:"repetition",index:16,isBkr:!1},this.rules[17]={name:"Modifier",lower:"modifier",index:17,isBkr:!1},this.rules[18]={name:"Predicate",lower:"predicate",index:18,isBkr:!1},this.rules[19]={name:"BasicElement",lower:"basicelement",index:19,isBkr:!1},this.rules[20]={name:"BasicElementErr",lower:"basicelementerr",index:20,isBkr:!1},this.rules[21]={name:"Group",lower:"group",index:21,isBkr:!1},this.rules[22]={name:"GroupError",lower:"grouperror",index:22,isBkr:!1},this.rules[23]={name:"GroupOpen",lower:"groupopen",index:23,isBkr:!1},this.rules[24]={name:"GroupClose",lower:"groupclose",index:24,isBkr:!1},this.rules[25]={name:"Option",lower:"option",index:25,isBkr:!1},this.rules[26]={name:"OptionError",lower:"optionerror",index:26,isBkr:!1},this.rules[27]={name:"OptionOpen",lower:"optionopen",index:27,isBkr:!1},this.rules[28]={name:"OptionClose",lower:"optionclose",index:28,isBkr:!1},this.rules[29]={name:"RnmOp",lower:"rnmop",index:29,isBkr:!1},this.rules[30]={name:"BkrOp",lower:"bkrop",index:30,isBkr:!1},this.rules[31]={name:"bkrModifier",lower:"bkrmodifier",index:31,isBkr:!1},this.rules[32]={name:"cs",lower:"cs",index:32,isBkr:!1},this.rules[33]={name:"ci",lower:"ci",index:33,isBkr:!1},this.rules[34]={name:"um",lower:"um",index:34,isBkr:!1},this.rules[35]={name:"pm",lower:"pm",index:35,isBkr:!1},this.rules[36]={name:"bkr-name",lower:"bkr-name",index:36,isBkr:!1},this.rules[37]={name:"rname",lower:"rname",index:37,isBkr:!1},this.rules[38]={name:"uname",lower:"uname",index:38,isBkr:!1},this.rules[39]={name:"ename",lower:"ename",index:39,isBkr:!1},this.rules[40]={name:"UdtOp",lower:"udtop",index:40,isBkr:!1},this.rules[41]={name:"udt-non-empty",lower:"udt-non-empty",index:41,isBkr:!1},this.rules[42]={name:"udt-empty",lower:"udt-empty",index:42,isBkr:!1},this.rules[43]={name:"RepOp",lower:"repop",index:43,isBkr:!1},this.rules[44]={name:"AltOp",lower:"altop",index:44,isBkr:!1},this.rules[45]={name:"CatOp",lower:"catop",index:45,isBkr:!1},this.rules[46]={name:"StarOp",lower:"starop",index:46,isBkr:!1},this.rules[47]={name:"AndOp",lower:"andop",index:47,isBkr:!1},this.rules[48]={name:"NotOp",lower:"notop",index:48,isBkr:!1},this.rules[49]={name:"BkaOp",lower:"bkaop",index:49,isBkr:!1},this.rules[50]={name:"BknOp",lower:"bknop",index:50,isBkr:!1},this.rules[51]={name:"AbgOp",lower:"abgop",index:51,isBkr:!1},this.rules[52]={name:"AenOp",lower:"aenop",index:52,isBkr:!1},this.rules[53]={name:"TrgOp",lower:"trgop",index:53,isBkr:!1},this.rules[54]={name:"TbsOp",lower:"tbsop",index:54,isBkr:!1},this.rules[55]={name:"TlsOp",lower:"tlsop",index:55,isBkr:!1},this.rules[56]={name:"TlsCase",lower:"tlscase",index:56,isBkr:!1},this.rules[57]={name:"TlsOpen",lower:"tlsopen",index:57,isBkr:!1},this.rules[58]={name:"TlsClose",lower:"tlsclose",index:58,isBkr:!1},this.rules[59]={name:"TlsString",lower:"tlsstring",index:59,isBkr:!1},this.rules[60]={name:"StringTab",lower:"stringtab",index:60,isBkr:!1},this.rules[61]={name:"ClsOp",lower:"clsop",index:61,isBkr:!1},this.rules[62]={name:"ClsOpen",lower:"clsopen",index:62,isBkr:!1},this.rules[63]={name:"ClsClose",lower:"clsclose",index:63,isBkr:!1},this.rules[64]={name:"ClsString",lower:"clsstring",index:64,isBkr:!1},this.rules[65]={name:"ProsVal",lower:"prosval",index:65,isBkr:!1},this.rules[66]={name:"ProsValOpen",lower:"prosvalopen",index:66,isBkr:!1},this.rules[67]={name:"ProsValString",lower:"prosvalstring",index:67,isBkr:!1},this.rules[68]={name:"ProsValClose",lower:"prosvalclose",index:68,isBkr:!1},this.rules[69]={name:"rep-min",lower:"rep-min",index:69,isBkr:!1},this.rules[70]={name:"rep-min-max",lower:"rep-min-max",index:70,isBkr:!1},this.rules[71]={name:"rep-max",lower:"rep-max",index:71,isBkr:!1},this.rules[72]={name:"rep-num",lower:"rep-num",index:72,isBkr:!1},this.rules[73]={name:"dString",lower:"dstring",index:73,isBkr:!1},this.rules[74]={name:"xString",lower:"xstring",index:74,isBkr:!1},this.rules[75]={name:"bString",lower:"bstring",index:75,isBkr:!1},this.rules[76]={name:"Dec",lower:"dec",index:76,isBkr:!1},this.rules[77]={name:"Hex",lower:"hex",index:77,isBkr:!1},this.rules[78]={name:"Bin",lower:"bin",index:78,isBkr:!1},this.rules[79]={name:"dmin",lower:"dmin",index:79,isBkr:!1},this.rules[80]={name:"dmax",lower:"dmax",index:80,isBkr:!1},this.rules[81]={name:"bmin",lower:"bmin",index:81,isBkr:!1},this.rules[82]={name:"bmax",lower:"bmax",index:82,isBkr:!1},this.rules[83]={name:"xmin",lower:"xmin",index:83,isBkr:!1},this.rules[84]={name:"xmax",lower:"xmax",index:84,isBkr:!1},this.rules[85]={name:"dnum",lower:"dnum",index:85,isBkr:!1},this.rules[86]={name:"bnum",lower:"bnum",index:86,isBkr:!1},this.rules[87]={name:"xnum",lower:"xnum",index:87,isBkr:!1},this.rules[88]={name:"alphanum",lower:"alphanum",index:88,isBkr:!1},this.rules[89]={name:"owsp",lower:"owsp",index:89,isBkr:!1},this.rules[90]={name:"wsp",lower:"wsp",index:90,isBkr:!1},this.rules[91]={name:"space",lower:"space",index:91,isBkr:!1},this.rules[92]={name:"comment",lower:"comment",index:92,isBkr:!1},this.rules[93]={name:"LineEnd",lower:"lineend",index:93,isBkr:!1},this.rules[94]={name:"LineContinue",lower:"linecontinue",index:94,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3,4]},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:4,index:2},this.rules[0].opcodes[4]={type:4,index:12},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,5,7]},this.rules[1].opcodes[1]={type:3,min:0,max:1/0},this.rules[1].opcodes[2]={type:1,children:[3,4]},this.rules[1].opcodes[3]={type:6,string:[32]},this.rules[1].opcodes[4]={type:6,string:[9]},this.rules[1].opcodes[5]={type:3,min:0,max:1},this.rules[1].opcodes[6]={type:4,index:92},this.rules[1].opcodes[7]={type:4,index:93},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[2].opcodes[1]={type:4,index:3},this.rules[2].opcodes[2]={type:4,index:89},this.rules[2].opcodes[3]={type:4,index:14},this.rules[2].opcodes[4]={type:1,children:[5,8]},this.rules[2].opcodes[5]={type:2,children:[6,7]},this.rules[2].opcodes[6]={type:4,index:89},this.rules[2].opcodes[7]={type:4,index:93},this.rules[2].opcodes[8]={type:2,children:[9,10]},this.rules[2].opcodes[9]={type:4,index:13},this.rules[2].opcodes[10]={type:4,index:93},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:2,children:[1,2,3]},this.rules[3].opcodes[1]={type:4,index:4},this.rules[3].opcodes[2]={type:4,index:89},this.rules[3].opcodes[3]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:5},this.rules[4].opcodes[2]={type:4,index:6},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:4,index:88},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:1,max:1/0},this.rules[6].opcodes[1]={type:1,children:[2,3]},this.rules[6].opcodes[2]={type:5,min:33,max:60},this.rules[6].opcodes[3]={type:5,min:62,max:126},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:1,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:9},this.rules[7].opcodes[2]={type:4,index:8},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:2},this.rules[8].opcodes[1]={type:5,min:33,max:126},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2]},this.rules[9].opcodes[1]={type:4,index:11},this.rules[9].opcodes[2]={type:4,index:10},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[61]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:6,string:[61,47]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:2,children:[1,6]},this.rules[12].opcodes[1]={type:3,min:1,max:1/0},this.rules[12].opcodes[2]={type:1,children:[3,4,5]},this.rules[12].opcodes[3]={type:5,min:32,max:126},this.rules[12].opcodes[4]={type:6,string:[9]},this.rules[12].opcodes[5]={type:4,index:94},this.rules[12].opcodes[6]={type:4,index:93},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:3,min:1,max:1/0},this.rules[13].opcodes[1]={type:1,children:[2,3,4]},this.rules[13].opcodes[2]={type:5,min:32,max:126},this.rules[13].opcodes[3]={type:6,string:[9]},this.rules[13].opcodes[4]={type:4,index:94},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2]},this.rules[14].opcodes[1]={type:4,index:15},this.rules[14].opcodes[2]={type:3,min:0,max:1/0},this.rules[14].opcodes[3]={type:2,children:[4,5,6]},this.rules[14].opcodes[4]={type:4,index:89},this.rules[14].opcodes[5]={type:4,index:44},this.rules[14].opcodes[6]={type:4,index:15},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:2,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:16},this.rules[15].opcodes[2]={type:3,min:0,max:1/0},this.rules[15].opcodes[3]={type:2,children:[4,5]},this.rules[15].opcodes[4]={type:4,index:45},this.rules[15].opcodes[5]={type:4,index:16},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:2,children:[1,3]},this.rules[16].opcodes[1]={type:3,min:0,max:1},this.rules[16].opcodes[2]={type:4,index:17},this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[16].opcodes[4]={type:4,index:21},this.rules[16].opcodes[5]={type:4,index:25},this.rules[16].opcodes[6]={type:4,index:19},this.rules[16].opcodes[7]={type:4,index:20},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:1,children:[1,5]},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:18},this.rules[17].opcodes[3]={type:3,min:0,max:1},this.rules[17].opcodes[4]={type:4,index:43},this.rules[17].opcodes[5]={type:4,index:43},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[18].opcodes[1]={type:4,index:49},this.rules[18].opcodes[2]={type:4,index:50},this.rules[18].opcodes[3]={type:4,index:47},this.rules[18].opcodes[4]={type:4,index:48},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]},this.rules[19].opcodes[1]={type:4,index:40},this.rules[19].opcodes[2]={type:4,index:29},this.rules[19].opcodes[3]={type:4,index:53},this.rules[19].opcodes[4]={type:4,index:54},this.rules[19].opcodes[5]={type:4,index:55},this.rules[19].opcodes[6]={type:4,index:61},this.rules[19].opcodes[7]={type:4,index:30},this.rules[19].opcodes[8]={type:4,index:51},this.rules[19].opcodes[9]={type:4,index:52},this.rules[19].opcodes[10]={type:4,index:65},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:1,max:1/0},this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[20].opcodes[2]={type:5,min:33,max:40},this.rules[20].opcodes[3]={type:5,min:42,max:46},this.rules[20].opcodes[4]={type:5,min:48,max:92},this.rules[20].opcodes[5]={type:5,min:94,max:126},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2,3]},this.rules[21].opcodes[1]={type:4,index:23},this.rules[21].opcodes[2]={type:4,index:14},this.rules[21].opcodes[3]={type:1,children:[4,5]},this.rules[21].opcodes[4]={type:4,index:24},this.rules[21].opcodes[5]={type:4,index:22},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:3,min:1,max:1/0},this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[22].opcodes[2]={type:5,min:33,max:40},this.rules[22].opcodes[3]={type:5,min:42,max:46},this.rules[22].opcodes[4]={type:5,min:48,max:92},this.rules[22].opcodes[5]={type:5,min:94,max:126},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,2]},this.rules[23].opcodes[1]={type:6,string:[40]},this.rules[23].opcodes[2]={type:4,index:89},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:4,index:89},this.rules[24].opcodes[2]={type:6,string:[41]},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3]},this.rules[25].opcodes[1]={type:4,index:27},this.rules[25].opcodes[2]={type:4,index:14},this.rules[25].opcodes[3]={type:1,children:[4,5]},this.rules[25].opcodes[4]={type:4,index:28},this.rules[25].opcodes[5]={type:4,index:26},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:3,min:1,max:1/0},this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[26].opcodes[2]={type:5,min:33,max:40},this.rules[26].opcodes[3]={type:5,min:42,max:46},this.rules[26].opcodes[4]={type:5,min:48,max:92},this.rules[26].opcodes[5]={type:5,min:94,max:126},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:6,string:[91]},this.rules[27].opcodes[2]={type:4,index:89},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2]},this.rules[28].opcodes[1]={type:4,index:89},this.rules[28].opcodes[2]={type:6,string:[93]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:4,index:88},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,4]},this.rules[30].opcodes[1]={type:6,string:[92]},this.rules[30].opcodes[2]={type:3,min:0,max:1},this.rules[30].opcodes[3]={type:4,index:31},this.rules[30].opcodes[4]={type:4,index:36},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]},this.rules[31].opcodes[1]={type:2,children:[2,3]},this.rules[31].opcodes[2]={type:4,index:32},this.rules[31].opcodes[3]={type:3,min:0,max:1},this.rules[31].opcodes[4]={type:1,children:[5,6]},this.rules[31].opcodes[5]={type:4,index:34},this.rules[31].opcodes[6]={type:4,index:35},this.rules[31].opcodes[7]={type:2,children:[8,9]},this.rules[31].opcodes[8]={type:4,index:33},this.rules[31].opcodes[9]={type:3,min:0,max:1},this.rules[31].opcodes[10]={type:1,children:[11,12]},this.rules[31].opcodes[11]={type:4,index:34},this.rules[31].opcodes[12]={type:4,index:35},this.rules[31].opcodes[13]={type:2,children:[14,15]},this.rules[31].opcodes[14]={type:4,index:34},this.rules[31].opcodes[15]={type:3,min:0,max:1},this.rules[31].opcodes[16]={type:1,children:[17,18]},this.rules[31].opcodes[17]={type:4,index:32},this.rules[31].opcodes[18]={type:4,index:33},this.rules[31].opcodes[19]={type:2,children:[20,21]},this.rules[31].opcodes[20]={type:4,index:35},this.rules[31].opcodes[21]={type:3,min:0,max:1},this.rules[31].opcodes[22]={type:1,children:[23,24]},this.rules[31].opcodes[23]={type:4,index:32},this.rules[31].opcodes[24]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:6,string:[37,115]},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:6,string:[37,105]},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:6,string:[37,117]},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:6,string:[37,112]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:1,children:[1,2,3]},this.rules[36].opcodes[1]={type:4,index:38},this.rules[36].opcodes[2]={type:4,index:39},this.rules[36].opcodes[3]={type:4,index:37},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:4,index:88},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2]},this.rules[38].opcodes[1]={type:6,string:[117,95]},this.rules[38].opcodes[2]={type:4,index:88},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2]},this.rules[39].opcodes[1]={type:6,string:[101,95]},this.rules[39].opcodes[2]={type:4,index:88},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:1,children:[1,2]},this.rules[40].opcodes[1]={type:4,index:42},this.rules[40].opcodes[2]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2]},this.rules[41].opcodes[1]={type:6,string:[117,95]},this.rules[41].opcodes[2]={type:4,index:88},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:2,children:[1,2]},this.rules[42].opcodes[1]={type:6,string:[101,95]},this.rules[42].opcodes[2]={type:4,index:88},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]},this.rules[43].opcodes[1]={type:2,children:[2,3,4]},this.rules[43].opcodes[2]={type:4,index:69},this.rules[43].opcodes[3]={type:4,index:46},this.rules[43].opcodes[4]={type:4,index:71},this.rules[43].opcodes[5]={type:2,children:[6,7]},this.rules[43].opcodes[6]={type:4,index:69},this.rules[43].opcodes[7]={type:4,index:46},this.rules[43].opcodes[8]={type:2,children:[9,10]},this.rules[43].opcodes[9]={type:4,index:46},this.rules[43].opcodes[10]={type:4,index:71},this.rules[43].opcodes[11]={type:4,index:46},this.rules[43].opcodes[12]={type:4,index:70},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:2,children:[1,2]},this.rules[44].opcodes[1]={type:6,string:[47]},this.rules[44].opcodes[2]={type:4,index:89},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:4,index:90},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:6,string:[42]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:6,string:[38]},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:6,string:[33]},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:6,string:[38,38]},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:6,string:[33,33]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:6,string:[37,94]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:6,string:[37,36]},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:2,children:[1,2]},this.rules[53].opcodes[1]={type:6,string:[37]},this.rules[53].opcodes[2]={type:1,children:[3,8,13]},this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]},this.rules[53].opcodes[4]={type:4,index:76},this.rules[53].opcodes[5]={type:4,index:79},this.rules[53].opcodes[6]={type:6,string:[45]},this.rules[53].opcodes[7]={type:4,index:80},this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[53].opcodes[9]={type:4,index:77},this.rules[53].opcodes[10]={type:4,index:83},this.rules[53].opcodes[11]={type:6,string:[45]},this.rules[53].opcodes[12]={type:4,index:84},this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]},this.rules[53].opcodes[14]={type:4,index:78},this.rules[53].opcodes[15]={type:4,index:81},this.rules[53].opcodes[16]={type:6,string:[45]},this.rules[53].opcodes[17]={type:4,index:82},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:2,children:[1,2]},this.rules[54].opcodes[1]={type:6,string:[37]},this.rules[54].opcodes[2]={type:1,children:[3,10,17]},this.rules[54].opcodes[3]={type:2,children:[4,5,6]},this.rules[54].opcodes[4]={type:4,index:76},this.rules[54].opcodes[5]={type:4,index:73},this.rules[54].opcodes[6]={type:3,min:0,max:1/0},this.rules[54].opcodes[7]={type:2,children:[8,9]},this.rules[54].opcodes[8]={type:6,string:[46]},this.rules[54].opcodes[9]={type:4,index:73},this.rules[54].opcodes[10]={type:2,children:[11,12,13]},this.rules[54].opcodes[11]={type:4,index:77},this.rules[54].opcodes[12]={type:4,index:74},this.rules[54].opcodes[13]={type:3,min:0,max:1/0},this.rules[54].opcodes[14]={type:2,children:[15,16]},this.rules[54].opcodes[15]={type:6,string:[46]},this.rules[54].opcodes[16]={type:4,index:74},this.rules[54].opcodes[17]={type:2,children:[18,19,20]},this.rules[54].opcodes[18]={type:4,index:78},this.rules[54].opcodes[19]={type:4,index:75},this.rules[54].opcodes[20]={type:3,min:0,max:1/0},this.rules[54].opcodes[21]={type:2,children:[22,23]},this.rules[54].opcodes[22]={type:6,string:[46]},this.rules[54].opcodes[23]={type:4,index:75},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[55].opcodes[1]={type:4,index:56},this.rules[55].opcodes[2]={type:4,index:57},this.rules[55].opcodes[3]={type:4,index:59},this.rules[55].opcodes[4]={type:4,index:58},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1},this.rules[56].opcodes[1]={type:1,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[37,105]},this.rules[56].opcodes[3]={type:7,string:[37,115]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:6,string:[34]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:6,string:[34]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:5,min:32,max:33},this.rules[59].opcodes[3]={type:5,min:35,max:126},this.rules[59].opcodes[4]={type:4,index:60},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:6,string:[9]},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:2,children:[1,2,3]},this.rules[61].opcodes[1]={type:4,index:62},this.rules[61].opcodes[2]={type:4,index:64},this.rules[61].opcodes[3]={type:4,index:63},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:6,string:[39]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:6,string:[39]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:0,max:1/0},this.rules[64].opcodes[1]={type:1,children:[2,3,4]},this.rules[64].opcodes[2]={type:5,min:32,max:38},this.rules[64].opcodes[3]={type:5,min:40,max:126},this.rules[64].opcodes[4]={type:4,index:60},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:4,index:67},this.rules[65].opcodes[3]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:6,string:[60]},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:1,children:[2,3,4]},this.rules[67].opcodes[2]={type:5,min:32,max:61},this.rules[67].opcodes[3]={type:5,min:63,max:126},this.rules[67].opcodes[4]={type:4,index:60},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:6,string:[62]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:72},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:72},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:4,index:72},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:1,max:1/0},this.rules[72].opcodes[1]={type:5,min:48,max:57},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:85},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:87},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:86},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:1,children:[1,2]},this.rules[76].opcodes[1]={type:6,string:[68]},this.rules[76].opcodes[2]={type:6,string:[100]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:6,string:[88]},this.rules[77].opcodes[2]={type:6,string:[120]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:1,children:[1,2]},this.rules[78].opcodes[1]={type:6,string:[66]},this.rules[78].opcodes[2]={type:6,string:[98]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:4,index:85},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:4,index:85},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:4,index:86},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:4,index:86},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:4,index:87},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:4,index:87},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:3,min:1,max:1/0},this.rules[85].opcodes[1]={type:5,min:48,max:57},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:3,min:1,max:1/0},this.rules[86].opcodes[1]={type:5,min:48,max:49},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:3,min:1,max:1/0},this.rules[87].opcodes[1]={type:1,children:[2,3,4]},this.rules[87].opcodes[2]={type:5,min:48,max:57},this.rules[87].opcodes[3]={type:5,min:65,max:70},this.rules[87].opcodes[4]={type:5,min:97,max:102},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:2,children:[1,4]},this.rules[88].opcodes[1]={type:1,children:[2,3]},this.rules[88].opcodes[2]={type:5,min:97,max:122},this.rules[88].opcodes[3]={type:5,min:65,max:90},this.rules[88].opcodes[4]={type:3,min:0,max:1/0},this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]},this.rules[88].opcodes[6]={type:5,min:97,max:122},this.rules[88].opcodes[7]={type:5,min:65,max:90},this.rules[88].opcodes[8]={type:5,min:48,max:57},this.rules[88].opcodes[9]={type:6,string:[45]},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:0,max:1/0},this.rules[89].opcodes[1]={type:4,index:91},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:3,min:1,max:1/0},this.rules[90].opcodes[1]={type:4,index:91},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[91].opcodes[1]={type:6,string:[32]},this.rules[91].opcodes[2]={type:6,string:[9]},this.rules[91].opcodes[3]={type:4,index:92},this.rules[91].opcodes[4]={type:4,index:94},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:2,children:[1,2]},this.rules[92].opcodes[1]={type:6,string:[59]},this.rules[92].opcodes[2]={type:3,min:0,max:1/0},this.rules[92].opcodes[3]={type:1,children:[4,5]},this.rules[92].opcodes[4]={type:5,min:32,max:126},this.rules[92].opcodes[5]={type:6,string:[9]},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:1,children:[1,2,3]},this.rules[93].opcodes[1]={type:6,string:[13,10]},this.rules[93].opcodes[2]={type:6,string:[10]},this.rules[93].opcodes[3]={type:6,string:[13]},this.rules[94].opcodes=[],this.rules[94].opcodes[0]={type:2,children:[1,5]},this.rules[94].opcodes[1]={type:1,children:[2,3,4]},this.rules[94].opcodes[2]={type:6,string:[13,10]},this.rules[94].opcodes[3]={type:6,string:[10]},this.rules[94].opcodes[4]={type:6,string:[13]},this.rules[94].opcodes[5]={type:1,children:[6,7]},this.rules[94].opcodes[6]={type:6,string:[32]},this.rules[94].opcodes[7]={type:6,string:[9]},this.toString=function(){let t="";return t+=`;
`,t+=`; ABNF for JavaScript APG 2.0 SABNF
`,t+=`; RFC 5234 with some restrictions and additions.
`,t+=`; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation
`,t+=`;  - accepts %s"string" as a case-sensitive string
`,t+=`;  - accepts %i"string" as a case-insensitive string
`,t+=`;  - accepts "string" as a case-insensitive string
`,t+=`;
`,t+=`; Some restrictions:
`,t+=`;   1. Rules must begin at first character of each line.
`,t+=`;      Indentations on first rule and rules thereafter are not allowed.
`,t+=`;   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.
`,t+=`;   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.
`,t+=`;      However, a working parser cannot be generated from them.
`,t+=`;
`,t+=`; Super set (SABNF) additions:
`,t+=`;   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.
`,t+=`;      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found
`,t+=`;      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found
`,t+=`;      e.g. &%d13 or &rule or !(A / B)
`,t+=`;   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.
`,t+=`;      'name' is alpha followed by alpha/num/hyphen just like a rule name.
`,t+=`;      u_name may be used as an element but no rule definition is given.
`,t+=`;      e.g. rule = A / u_myUdt
`,t+=`;           A = "a"
`,t+=`;      would be a valid grammar.
`,t+=`;   3. Case-sensitive, single-quoted strings are accepted.
`,t+=`;      e.g. 'abc' would be equivalent to %d97.98.99
`,t+=`;      (kept for backward compatibility, but superseded by %s"abc")  
`,t+=`; New 12/26/2015
`,t+=`;   4. Look-behind operators are accepted as element prefixes.
`,t+=`;      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found
`,t+=`;      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found
`,t+=`;      e.g. &&%d13 or &&rule or !!(A / B)
`,t+=`;   5. Back reference operators, i.e. \\rulename, are accepted.
`,t+=`;      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts
`,t+=`;      to match is a phrase previously matched by the rule 'rulename'.
`,t+=`;      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.
`,t+=`;      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.
`,t+=`;      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.
`,t+=`;      Back reference modifiers can be used to specify case and mode.
`,t+=`;      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA
`,t+=`;      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.
`,t+=`;      Modifiers %u and %p determine universal mode and parent frame mode, respectively.
`,t+=`;      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. 
`,t+=`;   7. String begin anchor, ABG(%^) matches the beginning of the input string location.
`,t+=`;      Returns EMPTY or NOMATCH. Never consumes any characters.
`,t+=`;   8. String end anchor, AEN(%$) matches the end of the input string location.
`,t+=`;      Returns EMPTY or NOMATCH. Never consumes any characters.
`,t+=`;
`,t+=`File            = *(BlankLine / Rule / RuleError)
`,t+=`BlankLine       = *(%d32/%d9) [comment] LineEnd
`,t+=`Rule            = RuleLookup owsp Alternation ((owsp LineEnd)
`,t+=`                / (LineEndError LineEnd))
`,t+=`RuleLookup      = RuleNameTest owsp DefinedAsTest
`,t+=`RuleNameTest    = RuleName/RuleNameError
`,t+=`RuleName        = alphanum
`,t+=`RuleNameError   = 1*(%d33-60/%d62-126)
`,t+=`DefinedAsTest   = DefinedAs / DefinedAsError
`,t+=`DefinedAsError  = 1*2%d33-126
`,t+=`DefinedAs       = IncAlt / Defined
`,t+=`Defined         = %d61
`,t+=`IncAlt          = %d61.47
`,t+=`RuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd
`,t+=`LineEndError    = 1*(%d32-126 / %d9  / LineContinue)
`,t+=`Alternation     = Concatenation *(owsp AltOp Concatenation)
`,t+=`Concatenation   = Repetition *(CatOp Repetition)
`,t+=`Repetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)
`,t+=`Modifier        = (Predicate [RepOp])
`,t+=`                / RepOp
`,t+=`Predicate       = BkaOp
`,t+=`                / BknOp
`,t+=`                / AndOp
`,t+=`                / NotOp
`,t+=`BasicElement    = UdtOp
`,t+=`                / RnmOp
`,t+=`                / TrgOp
`,t+=`                / TbsOp
`,t+=`                / TlsOp
`,t+=`                / ClsOp
`,t+=`                / BkrOp
`,t+=`                / AbgOp
`,t+=`                / AenOp
`,t+=`                / ProsVal
`,t+=`BasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)
`,t+=`Group           = GroupOpen  Alternation (GroupClose / GroupError)
`,t+=`GroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr
`,t+=`GroupOpen       = %d40 owsp
`,t+=`GroupClose      = owsp %d41
`,t+=`Option          = OptionOpen Alternation (OptionClose / OptionError)
`,t+=`OptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr
`,t+=`OptionOpen      = %d91 owsp
`,t+=`OptionClose     = owsp %d93
`,t+=`RnmOp           = alphanum
`,t+=`BkrOp           = %d92 [bkrModifier] bkr-name
`,t+=`bkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])
`,t+=`cs              = '%s'
`,t+=`ci              = '%i'
`,t+=`um              = '%u'
`,t+=`pm              = '%p'
`,t+=`bkr-name        = uname / ename / rname
`,t+=`rname           = alphanum
`,t+=`uname           = %d117.95 alphanum
`,t+=`ename           = %d101.95 alphanum
`,t+=`UdtOp           = udt-empty
`,t+=`                / udt-non-empty
`,t+=`udt-non-empty   = %d117.95 alphanum
`,t+=`udt-empty       = %d101.95 alphanum
`,t+=`RepOp           = (rep-min StarOp rep-max)
`,t+=`                / (rep-min StarOp)
`,t+=`                / (StarOp rep-max)
`,t+=`                / StarOp
`,t+=`                / rep-min-max
`,t+=`AltOp           = %d47 owsp
`,t+=`CatOp           = wsp
`,t+=`StarOp          = %d42
`,t+=`AndOp           = %d38
`,t+=`NotOp           = %d33
`,t+=`BkaOp           = %d38.38
`,t+=`BknOp           = %d33.33
`,t+=`AbgOp           = %d37.94
`,t+=`AenOp           = %d37.36
`,t+=`TrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))
`,t+=`TbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))
`,t+=`TlsOp           = TlsCase TlsOpen TlsString TlsClose
`,t+=`TlsCase         = ["%i" / "%s"]
`,t+=`TlsOpen         = %d34
`,t+=`TlsClose        = %d34
`,t+=`TlsString       = *(%d32-33/%d35-126/StringTab)
`,t+=`StringTab       = %d9
`,t+=`ClsOp           = ClsOpen ClsString ClsClose
`,t+=`ClsOpen         = %d39
`,t+=`ClsClose        = %d39
`,t+=`ClsString       = *(%d32-38/%d40-126/StringTab)
`,t+=`ProsVal         = ProsValOpen ProsValString ProsValClose
`,t+=`ProsValOpen     = %d60
`,t+=`ProsValString   = *(%d32-61/%d63-126/StringTab)
`,t+=`ProsValClose    = %d62
`,t+=`rep-min         = rep-num
`,t+=`rep-min-max     = rep-num
`,t+=`rep-max         = rep-num
`,t+=`rep-num         = 1*(%d48-57)
`,t+=`dString         = dnum
`,t+=`xString         = xnum
`,t+=`bString         = bnum
`,t+=`Dec             = (%d68/%d100)
`,t+=`Hex             = (%d88/%d120)
`,t+=`Bin             = (%d66/%d98)
`,t+=`dmin            = dnum
`,t+=`dmax            = dnum
`,t+=`bmin            = bnum
`,t+=`bmax            = bnum
`,t+=`xmin            = xnum
`,t+=`xmax            = xnum
`,t+=`dnum            = 1*(%d48-57)
`,t+=`bnum            = 1*%d48-49
`,t+=`xnum            = 1*(%d48-57 / %d65-70 / %d97-102)
`,t+=`;
`,t+=`; Basics
`,t+=`alphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)
`,t+=`owsp            = *space
`,t+=`wsp             = 1*space
`,t+=`space           = %d32
`,t+=`                / %d9
`,t+=`                / comment
`,t+=`                / LineContinue
`,t+=`comment         = %d59 *(%d32-126 / %d9)
`,t+=`LineEnd         = %d13.10
`,t+=`                / %d10
`,t+=`                / %d13
`,t+=`LineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)
`,t}}});var s2=le((UR,o2)=>{o2.exports=function(){let e="parser: ",t=so(),n=t.ids,i=new(e2()),o=new(r2()),s=new(i2()),f=new t.parser;f.ast=new t.ast,f.callbacks=i.callbacks,f.ast.callbacks=o.callbacks;let h=function(T,C,M){if(C<0||C>=M)return-1;for(let k=0;k<T.length;k+=1)if(C>=T[k].beginChar&&C<T[k].beginChar+T[k].length)return k;return-1},b=function(T,C){let M=-1;if(C<T.length){for(let k=C;k<T.length;k+=1)if(T[k]!==null){M=T[k];break}}return M},g=function(T){T.forEach(C=>{let M=[],k=[],F=0;C.opcodes.forEach(I=>{I.type===n.ALT&&I.children.length===1||I.type===n.CAT&&I.children.length===1||I.type===n.REP&&I.min===1&&I.max===1?k.push(null):(k.push(F),M.push(I),F+=1)}),k.push(F),M.forEach(I=>{if(I.type===n.ALT||I.type===n.CAT)for(let $=0;$<I.children.length;$+=1)I.children[$]=b(k,I.children[$])}),C.opcodes=M})};this.syntax=function(T,C,M,k,F){if(F){if(F.traceObject!=="traceObject")throw new TypeError(`${e}trace argument is not a trace object`);f.trace=F}let I={};I.errors=M,I.strict=!!k,I.lines=C,I.findLine=h,I.charsLength=T.length,I.ruleCount=0,f.parse(s,"file",T,I).success||M.push({line:0,char:0,msg:"syntax analysis of input grammar failed"})},this.semantic=function(T,C,M){let k={};return k.errors=M,k.lines=C,k.findLine=h,k.charsLength=T.length,f.ast.translate(k),M.length?null:(g(k.rules),{rules:k.rules,udts:k.udts,lineMap:k.rulesLineMap})},this.generateSource=function(T,C,M,k,F){let I="",$,j,H,W=0,B=1/0,P=0,L=[],ee=[],E=0,c=0,p=0,l=0,a=0,u=0,v=0,x=0,y=0,d=0,_=0,D=0,m=0,A=0,te=0;M.forEach(Y=>{L.push(Y.lower),W+=Y.opcodes.length,Y.opcodes.forEach(N=>{switch(N.type){case n.ALT:E+=1;break;case n.CAT:c+=1;break;case n.RNM:p+=1;break;case n.UDT:l+=1;break;case n.REP:a+=1;break;case n.AND:u+=1;break;case n.NOT:v+=1;break;case n.BKA:D+=1;break;case n.BKN:m+=1;break;case n.BKR:_+=1;break;case n.ABG:A+=1;break;case n.AEN:te+=1;break;case n.TLS:for(x+=1,$=0;$<N.string.length;$+=1)N.string[$]<B&&(B=N.string[$]),N.string[$]>P&&(P=N.string[$]);break;case n.TBS:for(y+=1,$=0;$<N.string.length;$+=1)N.string[$]<B&&(B=N.string[$]),N.string[$]>P&&(P=N.string[$]);break;case n.TRG:d+=1,N.min<B&&(B=N.min),N.max>P&&(P=N.max);break;default:throw new Error("generateSource: unrecognized opcode")}})}),L.sort(),k.length>0&&(k.forEach(Y=>{ee.push(Y.lower)}),ee.sort());let S="module.exports";F&&typeof F=="string"&&(S=`let ${F}`),I+=`// copyright: Copyright (c) 2021 Lowell D. Thomas, all rights reserved<br>
`,I+=`//   license: BSD-2-Clause (https://opensource.org/licenses/BSD-2-Clause)<br>
`,I+=`//
`,I+=`// Generated by apg-js, Version 4.0.0 [apg-js](https://github.com/ldthomas/apg-js)
`,I+=`${S} = function grammar(){
`,I+="  // ```\n",I+=`  // SUMMARY
`,I+=`  //      rules = ${M.length}
`,I+=`  //       udts = ${k.length}
`,I+=`  //    opcodes = ${W}
`,I+=`  //        ---   ABNF original opcodes
`,I+=`  //        ALT = ${E}
`,I+=`  //        CAT = ${c}
`,I+=`  //        REP = ${a}
`,I+=`  //        RNM = ${p}
`,I+=`  //        TLS = ${x}
`,I+=`  //        TBS = ${y}
`,I+=`  //        TRG = ${d}
`,I+=`  //        ---   SABNF superset opcodes
`,I+=`  //        UDT = ${l}
`,I+=`  //        AND = ${u}
`,I+=`  //        NOT = ${v}
`,I+=`  //        BKA = ${D}
`,I+=`  //        BKN = ${m}
`,I+=`  //        BKR = ${_}
`,I+=`  //        ABG = ${A}
`,I+=`  //        AEN = ${te}
`,I+="  // characters = [",x+y+d===0?I+=" none defined ]":I+=`${B} - ${P}]`,l>0&&(I+=" + user defined"),I+=`
`,I+="  // ```\n",I+=`  /* OBJECT IDENTIFIER (for internal parser use) */
`,I+=`  this.grammarObject = 'grammarObject';
`,I+=`
`,I+=`  /* RULES */
`,I+=`  this.rules = [];
`,M.forEach((Y,N)=>{let R="  this.rules[";R+=N,R+="] = {name: '",R+=Y.name,R+="', lower: '",R+=Y.lower,R+="', index: ",R+=Y.index,R+=", isBkr: ",R+=Y.isBkr,R+=`};
`,I+=R}),I+=`
`,I+=`  /* UDTS */
`,I+=`  this.udts = [];
`,k.length>0&&k.forEach((Y,N)=>{let R="  this.udts[";R+=N,R+="] = {name: '",R+=Y.name,R+="', lower: '",R+=Y.lower,R+="', index: ",R+=Y.index,R+=", empty: ",R+=Y.empty,R+=", isBkr: ",R+=Y.isBkr,R+=`};
`,I+=R}),I+=`
`,I+=`  /* OPCODES */
`,M.forEach((Y,N)=>{N>0&&(I+=`
`),I+=`  /* ${Y.name} */
`,I+=`  this.rules[${N}].opcodes = [];
`,Y.opcodes.forEach((R,K)=>{let G;switch(R.type){case n.ALT:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}, children: [${R.children.toString()}]};// ALT
`;break;case n.CAT:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}, children: [${R.children.toString()}]};// CAT
`;break;case n.RNM:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}, index: ${R.index}};// RNM(${M[R.index].name})
`;break;case n.BKR:R.index>=M.length?(j=k[R.index-M.length].name,H=k[R.index-M.length].lower):(j=M[R.index].name,H=M[R.index].lower),G="%i",R.bkrCase===n.BKR_MODE_CS&&(G="%s"),R.bkrMode===n.BKR_MODE_UM?G+="%u":G+="%p",j=G+j,I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}, index: ${R.index}, lower: '${H}', bkrCase: ${R.bkrCase}, bkrMode: ${R.bkrMode}};// BKR(\\${j})
`;break;case n.UDT:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}, empty: ${R.empty}, index: ${R.index}};// UDT(${k[R.index].name})
`;break;case n.REP:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}, min: ${R.min}, max: ${R.max}};// REP
`;break;case n.AND:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}};// AND
`;break;case n.NOT:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}};// NOT
`;break;case n.ABG:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}};// ABG(%^)
`;break;case n.AEN:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}};// AEN(%$)
`;break;case n.BKA:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}};// BKA
`;break;case n.BKN:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}};// BKN
`;break;case n.TLS:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}, string: [${R.string.toString()}]};// TLS
`;break;case n.TBS:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}, string: [${R.string.toString()}]};// TBS
`;break;case n.TRG:I+=`  this.rules[${N}].opcodes[${K}] = {type: ${R.type}, min: ${R.min}, max: ${R.max}};// TRG
`;break;default:throw new Error("parser.js: ~143: unrecognized opcode")}})}),I+=`
`,I+="  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n",I+=`  this.toString = function toString(){
`,I+=`    let str = "";
`;let z;return C.forEach(Y=>{let N=Y.beginChar+Y.length;z="",I+='    str += "';for(let R=Y.beginChar;R<N;R+=1){switch(T[R]){case 9:z=" ";break;case 10:z="\\n";break;case 13:z="\\r";break;case 34:z='\\"';break;case 92:z="\\\\";break;default:z=String.fromCharCode(T[R]);break}I+=z}I+=`";
`}),I+=`    return str;
`,I+=`  }
`,I+=`}
`,I},this.generateObject=function(T,C,M){let k={},F=[],I=[],$=T.slice(0);return k.grammarObject="grammarObject",C.forEach(j=>{F.push(j.lower)}),F.sort(),M.length>0&&(M.forEach(j=>{I.push(j.lower)}),I.sort()),k.callbacks=[],F.forEach(j=>{k.callbacks[j]=!1}),M.length>0&&I.forEach(j=>{k.callbacks[j]=!1}),k.rules=C,k.udts=M,k.toString=function(){return $},k}}});var f2=le(($R,a2)=>{a2.exports=function(){let e=Kr(),t="rule-attributes.js",n=null;function i(E){return E.left||E.nested||E.right||E.cyclic?!1:E.empty}function o(E){return!!(E.left||E.nested||E.right||E.cyclic)}function s(E,c){let p=0,l=0,a=0;for(p=0;p<c;p+=1)if(E[p].nested)return!0;for(p=0;p<c;p+=1)if(E[p].right&&!E[p].leaf){for(l=p+1;l<c;l+=1)if(!i(E[l]))return!0}for(p=c-1;p>=0;p-=1)if(E[p].left&&!E[p].leaf){for(l=p-1;l>=0;l-=1)if(!i(E[l]))return!0}for(p=0;p<c;p+=1)if(!E[p].empty&&!o(E[p])){for(l=p+1;l<c;l+=1)if(o(E[l])){for(a=l+1;a<c;a+=1)if(!E[a].empty&&!o(E[a]))return!0}}return!1}function f(E,c){for(let p=0;p<c;p+=1)if(!E[p].cyclic)return!1;return!0}function h(E,c){for(let p=0;p<c;p+=1){if(E[p].left)return!0;if(!E[p].empty)return!1}return!1}function b(E,c){for(let p=c-1;p>=0;p-=1){if(E[p].right)return!0;if(!E[p].empty)return!1}return!1}function g(E,c){for(let p=0;p<c;p+=1)if(!E[p].empty)return!1;return!0}function w(E,c){for(let p=0;p<c;p+=1)if(!E[p].finite)return!1;return!0}function T(E,c,p,l){let a=0,u=c[p],v=u.children.length,x=[];for(a=0;a<v;a+=1)x.push(E.attrGen());for(a=0;a<v;a+=1)k(E,c,u.children[a],x[a]);l.left=h(x,v),l.right=b(x,v),l.nested=s(x,v),l.empty=g(x,v),l.finite=w(x,v),l.cyclic=f(x,v)}function C(E,c,p,l){let a=0,u=c[p],v=u.children.length,x=[];for(a=0;a<v;a+=1)x.push(E.attrGen());for(a=0;a<v;a+=1)k(E,c,u.children[a],x[a]);for(l.left=!1,l.right=!1,l.nested=!1,l.empty=!1,l.finite=!1,l.cyclic=!1,a=0;a<v;a+=1)x[a].left&&(l.left=!0),x[a].nested&&(l.nested=!0),x[a].right&&(l.right=!0),x[a].empty&&(l.empty=!0),x[a].finite&&(l.finite=!0),x[a].cyclic&&(l.cyclic=!0)}function M(E,c,p,l){let a=c[p];a.index>=E.ruleCount?(l.empty=E.udts[a.index-E.ruleCount].empty,l.finite=!0):(F(E,a.index,l),l.left=!1,l.nested=!1,l.right=!1,l.cyclic=!1)}function k(E,c,p,l){E.attrInit(l);let a=c[p];switch(a.type){case e.ALT:C(E,c,p,l);break;case e.CAT:T(E,c,p,l);break;case e.REP:k(E,c,p+1,l),a.min===0&&(l.empty=!0,l.finite=!0);break;case e.RNM:F(E,c[p].index,l);break;case e.BKR:M(E,c,p,l);break;case e.AND:case e.NOT:case e.BKA:case e.BKN:k(E,c,p+1,l),l.empty=!0;break;case e.TLS:l.empty=!c[p].string.length,l.finite=!0,l.cyclic=!1;break;case e.TBS:case e.TRG:l.empty=!1,l.finite=!0,l.cyclic=!1;break;case e.UDT:l.empty=a.empty,l.finite=!0,l.cyclic=!1;break;case e.ABG:case e.AEN:l.empty=!0,l.finite=!0,l.cyclic=!1;break;default:throw new Error(`unknown opcode type: ${a}`)}}function F(E,c,p){let l=E.attrsWorking[c];l.isComplete?E.attrCopy(p,l):l.isOpen?c===E.startRule?c===E.startRule&&(p.left=!0,p.right=!0,p.cyclic=!0,p.leaf=!0):p.finite=!0:(l.isOpen=!0,k(E,l.rule.opcodes,0,p),l.left=p.left,l.right=p.right,l.nested=p.nested,l.empty=p.empty,l.finite=p.finite,l.cyclic=p.cyclic,l.leaf=!1,l.isOpen=!1,l.isComplete=!0)}let I=E=>{n=E;let c=0,p=0,l=n.attrGen();for(c=0;c<n.ruleCount;c+=1){for(p=0;p<n.ruleCount;p+=1)n.attrInit(n.attrsWorking[p]);n.startRule=c,F(n,c,l),n.attrCopy(n.attrs[c],n.attrsWorking[c])}n.attributesComplete=!0;let a=null;for(c=0;c<n.ruleCount;c+=1)if(a=n.attrs[c],a.left||!a.finite||a.cyclic){let u=n.attrGen(a.rule);n.attrCopy(u,a),n.attrsErrors.push(u),n.attrsErrorCount+=1}},$=E=>E?"t":"f",j=E=>E?"e":"f",H=E=>E?"t":"e",W=(E,c,p,l)=>{let a=`${E}:${c}:`;return a+=`${j(p.left)} `,a+=`${$(p.nested)} `,a+=`${$(p.right)} `,a+=`${j(p.cyclic)} `,a+=`${H(p.finite)} `,a+=`${$(p.empty)}:`,a+=`${n.typeToString(l.recursiveType)}:`,a+=l.recursiveType===e.ATTR_MR?l.groupNumber:"-",a+=`:${p.rule.name}
`,a},B=()=>{let E=`LEGEND - t=true, f=false, e=error
`;return E+=`sequence:rule index:left nested right cyclic finite empty:type:group number:rule name
`,E},P=()=>{let E=null,c=null,p="";if(p+=`RULE ATTRIBUTES WITH ERRORS
`,p+=B(),n.attrsErrorCount)for(let l=0;l<n.attrsErrorCount;l+=1)E=n.attrsErrors[l],c=n.ruleDeps[E.rule.index],p+=W(l,E.rule.index,E,c);else p+=`<none>
`;return p},L=E=>{let c=0,p=0,l=null,a=null,u="",{ruleIndexes:v}=n;for(E===97?v=n.ruleAlphaIndexes:E===116&&(v=n.ruleTypeIndexes),c=0;c<n.ruleCount;c+=1)p=v[c],l=n.attrs[p],a=n.ruleDeps[p],u+=W(c,p,l,a);return u};return{ruleAttributes:I,showAttributes:(E="index")=>{if(!n.attributesComplete)throw new Error(`${t}:showAttributes: attributes not available`);let c="",p=`RULE ATTRIBUTES
`;return E.charCodeAt(0)===97?(c+=`alphabetical by rule name
`,c+=p,c+=B(),c+=L(97)):E.charCodeAt(0)===116?(c+=`ordered by rule type
`,c+=p,c+=B(),c+=L(116)):(c+=`ordered by rule index
`,c+=p,c+=B(),c+=L()),c},showAttributeErrors:P}}()});var u2=le((FR,c2)=>{c2.exports=(()=>{let r=Kr(),e=null,t=(s,f,h,b)=>{let g=0,w=0,T=f[h];b[h]=!0;let C=T.rule.opcodes;for(g=0;g<C.length;g+=1){let M=C[g];if(M.type===r.RNM)for(T.refersTo[M.index]=!0,b[M.index]||t(s,f,M.index,b),w=0;w<s;w+=1)f[M.index].refersTo[w]&&(T.refersTo[w]=!0);else M.type===r.UDT?T.refersToUdt[M.index]=!0:M.type===r.BKR&&(M.index<s?(T.refersTo[M.index]=!0,b[M.index]||t(s,f,M.index,b)):T.refersToUdt[s-M.index]=!0)}},n=s=>{e=s;let f=0,h=0,b=0,g=null,w=null,T=!1;e.dependenciesComplete=!1;let C=e.falseArray(e.ruleCount);for(f=0;f<e.ruleCount;f+=1)e.falsifyArray(C),t(e.ruleCount,e.ruleDeps,f,C);for(f=0;f<e.ruleCount;f+=1)for(h=0;h<e.ruleCount;h+=1)f!==h&&e.ruleDeps[h].refersTo[f]&&(e.ruleDeps[f].referencedBy[h]=!0);for(f=0;f<e.ruleCount;f+=1)e.ruleDeps[f].recursiveType=r.ATTR_N,e.ruleDeps[f].refersTo[f]&&(e.ruleDeps[f].recursiveType=r.ATTR_R);for(b=-1,f=0;f<e.ruleCount;f+=1)if(g=e.ruleDeps[f],g.recursiveType===r.ATTR_R)for(T=!0,h=0;h<e.ruleCount;h+=1)f!==h&&(w=e.ruleDeps[h],w.recursiveType===r.ATTR_R&&g.refersTo[h]&&w.refersTo[f]&&(T&&(b+=1,g.recursiveType=r.ATTR_MR,g.groupNumber=b,T=!1),w.recursiveType=r.ATTR_MR,w.groupNumber=b));e.isMutuallyRecursive=b>-1,e.ruleAlphaIndexes.sort(e.compRulesAlpha),e.ruleTypeIndexes.sort(e.compRulesAlpha),e.ruleTypeIndexes.sort(e.compRulesType),e.isMutuallyRecursive&&e.ruleTypeIndexes.sort(e.compRulesGroup),e.udtCount&&e.udtAlphaIndexes.sort(e.compUdtsAlpha),e.dependenciesComplete=!0},i=(s=null)=>{let f=0,h=0,b=0,g=0,w=e.ruleCount-1,T=e.udtCount-1,C=100,M="",k="",F="=> ",I="<= ",$=!1,j=null,{ruleIndexes:H}=e,{udtIndexes:W}=e;for(s===97?(H=e.ruleAlphaIndexes,W=e.udtAlphaIndexes):s===116&&(H=e.ruleTypeIndexes,W=e.udtAlphaIndexes),f=0;f<e.ruleCount;f+=1){for(j=e.ruleDeps[H[f]],k=`${H[f]}:${e.typeToString(j.recursiveType)}:`,e.isMutuallyRecursive&&(k+=j.groupNumber>-1?j.groupNumber:"-",k+=":"),k+=" ",M+=`${k+e.rules[H[f]].name}
`,$=!0,b=0,g=M.length,M+=k,h=0;h<e.ruleCount;h+=1)j.refersTo[H[h]]&&($?(M+=F,$=!1,M+=e.ruleDeps[H[h]].rule.name):M+=`, ${e.ruleDeps[H[h]].rule.name}`,b+=1),M.length-g>C&&h!==w&&(M+=`
${k}${F}`,g=M.length);if(e.udtCount)for(h=0;h<e.udtCount;h+=1)j.refersToUdt[W[h]]&&($?(M+=F,$=!1,M+=e.udts[W[h]].name):M+=`, ${e.udts[W[h]].name}`,b+=1),M.length-g>C&&h!==T&&(M+=`
${k}${F}`,g=M.length);for(b===0&&(M+=`=> <none>
`),$===!1&&(M+=`
`),$=!0,b=0,g=M.length,M+=k,h=0;h<e.ruleCount;h+=1)j.referencedBy[H[h]]&&($?(M+=I,$=!1,M+=e.ruleDeps[H[h]].rule.name):M+=`, ${e.ruleDeps[H[h]].rule.name}`,b+=1),M.length-g>C&&h!==w&&(M+=`
${k}${F}`,g=M.length);b===0&&(M+=`<= <none>
`),$===!1&&(M+=`
`),M+=`
`}return M};return{ruleDependencies:n,showRuleDependencies:(s="index")=>{let f=`RULE DEPENDENCIES(index:type:[group number:])
`;return f+=`=> refers to rule names
`,f+=`<= referenced by rule names
`,e.dependenciesComplete&&(s.charCodeAt(0)===97?(f+=`alphabetical by rule name
`,f+=i(97)):s.charCodeAt(0)===116?(f+=`ordered by rule type
`,f+=i(116)):(f+=`ordered by rule index
`,f+=i(null))),f}}})()});var h2=le((qR,l2)=>{l2.exports=function(){let e=Kr(),{ruleAttributes:t,showAttributes:n,showAttributeErrors:i}=f2(),{ruleDependencies:o,showRuleDependencies:s}=u2();class f{constructor(g,w){this.rules=g,this.udts=w,this.ruleCount=g.length,this.udtCount=w.length,this.startRule=0,this.dependenciesComplete=!1,this.attributesComplete=!1,this.isMutuallyRecursive=!1,this.ruleIndexes=this.indexArray(this.ruleCount),this.ruleAlphaIndexes=this.indexArray(this.ruleCount),this.ruleTypeIndexes=this.indexArray(this.ruleCount),this.udtIndexes=this.indexArray(this.udtCount),this.udtAlphaIndexes=this.indexArray(this.udtCount),this.attrsErrorCount=0,this.attrs=[],this.attrsErrors=[],this.attrsWorking=[],this.ruleDeps=[];for(let T=0;T<this.ruleCount;T+=1)this.attrs.push(this.attrGen(this.rules[T])),this.attrsWorking.push(this.attrGen(this.rules[T])),this.ruleDeps.push(this.rdGen(g[T],this.ruleCount,this.udtCount));this.compRulesAlpha=this.compRulesAlpha.bind(this),this.compUdtsAlpha=this.compUdtsAlpha.bind(this),this.compRulesType=this.compRulesType.bind(this),this.compRulesGroup=this.compRulesGroup.bind(this)}attrGen(g){return{left:!1,nested:!1,right:!1,empty:!1,finite:!1,cyclic:!1,leaf:!1,isOpen:!1,isComplete:!1,rule:g}}attrInit(g){g.left=!1,g.nested=!1,g.right=!1,g.empty=!1,g.finite=!1,g.cyclic=!1,g.leaf=!1,g.isOpen=!1,g.isComplete=!1}attrCopy(g,w){g.left=w.left,g.nested=w.nested,g.right=w.right,g.empty=w.empty,g.finite=w.finite,g.cyclic=w.cyclic,g.leaf=w.leaf,g.isOpen=w.isOpen,g.isComplete=w.isComplete,g.rule=w.rule}rdGen(g,w,T){return{rule:g,recursiveType:e.ATTR_N,groupNumber:-1,refersTo:this.falseArray(w),refersToUdt:this.falseArray(T),referencedBy:this.falseArray(w)}}typeToString(g){switch(g){case e.ATTR_N:return" N";case e.ATTR_R:return" R";case e.ATTR_MR:return"MR";default:return"UNKNOWN"}}falseArray(g){let w=[];if(g>0)for(let T=0;T<g;T+=1)w.push(!1);return w}falsifyArray(g){for(let w=0;w<g.length;w+=1)g[w]=!1}indexArray(g){let w=[];if(g>0)for(let T=0;T<g;T+=1)w.push(T);return w}compRulesAlpha(g,w){return this.rules[g].lower<this.rules[w].lower?-1:this.rules[g].lower>this.rules[w].lower?1:0}compUdtsAlpha(g,w){return this.udts[g].lower<this.udts[w].lower?-1:this.udts[g].lower>this.udts[w].lower?1:0}compRulesType(g,w){return this.ruleDeps[g].recursiveType<this.ruleDeps[w].recursiveType?-1:this.ruleDeps[g].recursiveType>this.ruleDeps[w].recursiveType?1:0}compRulesGroup(g,w){if(this.ruleDeps[g].recursiveType===e.ATTR_MR&&this.ruleDeps[w].recursiveType===e.ATTR_MR){if(this.ruleDeps[g].groupNumber<this.ruleDeps[w].groupNumber)return-1;if(this.ruleDeps[g].groupNumber>this.ruleDeps[w].groupNumber)return 1}return 0}}return{attributes:function(g=[],w=[],T=[],C=[]){let M=new f(g,w);return o(M),t(M),M.attrsErrorCount&&C.push({line:0,char:0,msg:`${M.attrsErrorCount} attribute errors`}),M.attrsErrorCount},showAttributes:n,showAttributeErrors:i,showRuleDependencies:s}}()});var p2=le((HR,d2)=>{d2.exports=function(){let e="show-rules.js";return function(i=[],o=[],s="index"){let f="showRules",h=[],b=[],g=[],w=[],T=i,C=o,M=i.length,k=o.length,F="RULE/UDT NAMES",I;function $(H,W){return T[H].lower<T[W].lower?-1:T[H].lower>T[W].lower?1:0}function j(H,W){return C[H].lower<C[W].lower?-1:C[H].lower>C[W].lower?1:0}if(!(Array.isArray(i)&&i.length))throw new Error(`${e}:${f}: rules arg must be array with length > 0`);if(!Array.isArray(o))throw new Error(`${e}:${f}: udts arg must be array`);for(I=0;I<M;I+=1)g.push(I);if(h=g.slice(0),h.sort($),k){for(I=0;I<k;I+=1)w.push(I);b=w.slice(0),b.sort(j)}if(s.charCodeAt(0)===97){for(F+=` - alphabetical by rule/UDT name
`,I=0;I<M;I+=1)F+=`${I}: ${h[I]}: ${T[h[I]].name}
`;if(k)for(I=0;I<k;I+=1)F+=`${I}: ${b[I]}: ${C[b[I]].name}
`}else{for(F+=` - ordered by rule/UDT index
`,I=0;I<M;I+=1)F+=`${I}: ${T[I].name}
`;if(k)for(I=0;I<k;I+=1)F+=`${I}: ${C[I].name}
`}return F}}()});var b2=le((zR,m2)=>{m2.exports=function(e){let t="api.js: ",n=this,i=so(),o=Ch(),s=Zb(),f=new(s2()),{attributes:h,showAttributes:b,showAttributeErrors:g,showRuleDependencies:w}=h2(),T=p2(),C=function(E,c,p){let v=`<span class="${i.style.CLASS_CTRLCHAR}">`,x="</span>",y=`<span class="${i.style.CLASS_NOMATCH}">`,d="</span>",_,D="",m=!0;for(;m&&!(!Array.isArray(E)||E.length===0);){if(typeof c!="number")throw new Error("abnfToHtml: beg must be type number");if(c>=E.length)break;typeof p!="number"||c+p>=E.length?_=E.length:_=c+p;let A=0;for(let te=c;te<_;te+=1){let S=E[te];if(S>=32&&S<=126)switch(A===1?(D+=x,A=0):A===2&&(D+=d,A=0),S){case 32:D+="&nbsp;";break;case 60:D+="&lt;";break;case 62:D+="&gt;";break;case 38:D+="&amp;";break;case 34:D+="&quot;";break;case 39:D+="&#039;";break;case 92:D+="&#092;";break;default:D+=String.fromCharCode(S);break}else S===9||S===10||S===13?(A===0?(D+=v,A=1):A===2&&(D+=d+v,A=1),S===9&&(D+="TAB"),S===10&&(D+="LF"),S===13&&(D+="CR")):(A===0?(D+=y,A=2):A===1&&(D+=x+y,A=2),D+=`\\x${i.utils.charToHex(S)}`)}A===2&&(D+=d),A===1&&(D+=x);break}return D},M=function(E,c,p){let l="";for(let a=c;a<c+p;a+=1){let u=E[a];if(u>=32&&u<=126)l+=String.fromCharCode(u);else switch(u){case 9:l+="\\t";break;case 10:l+="\\n";break;case 13:l+="\\r";break;default:l+="\\unknown";break}}return l},k=function(E){let c="Annotated Input Grammar";return E.forEach(p=>{c+=`
`,c+=`line no: ${p.lineNo}`,c+=` : char index: ${p.beginChar}`,c+=` : length: ${p.length}`,c+=` : abnf: ${M(n.chars,p.beginChar,p.length)}`}),c+=`
`,c},F=function(E){let c="";return c+=`<table class="${i.style.CLASS_GRAMMAR}">
`,c+=`<caption>Annotated Input Grammar</caption>
`,c+="<tr>",c+="<th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th>",c+=`</tr>
`,E.forEach(l=>{c+="<tr>",c+=`<td>${l.lineNo}`,c+=`</td><td>${l.beginChar}`,c+=`</td><td>${l.length}`,c+=`</td><td>${C(n.chars,l.beginChar,l.length)}`,c+="</td>",c+=`</tr>
`}),c+=`</table>
`,c},I=function(E,c,p,l){let[a]=i,u="",v=`<span class="${a.CLASS_NOMATCH}">&raquo;</span>`;return u+=`<p><table class="${a.CLASS_GRAMMAR}">
`,l&&typeof l=="string"&&(u+=`<caption>${l}</caption>
`),u+=`<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>
`,E.forEach(x=>{let y,d,_,D,m,A="",te="";c.length===0?(m=v,d=0):(y=c[x.line],_=y.beginChar,x.char>_&&(A=C(p,_,x.char-_)),_=x.char,D=y.beginChar+y.length,_<D&&(te=C(p,_,D-_)),m=A+v+te,d=x.char-y.beginChar,u+="<tr>",u+=`<td>${x.line}</td><td>${y.beginChar}</td><td>${d}</td><td>${m}</td>`,u+=`</tr>
`,u+="<tr>",u+=`<td colspan="3"></td><td>&uarr;:&nbsp;${i.utils.stringToAsciiHtml(x.msg)}</td>`,u+=`</tr>
`)}),u+=`</table></p>
`,u},$=function(E,c,p){let l,a,u,v;return l="",E.forEach(x=>{a=c[x.line],l+=`${a.lineNo}: `,l+=`${a.beginChar}: `,l+=`${x.char-a.beginChar}: `,u=a.beginChar,v=x.char-a.beginChar,l+=M(p,u,v),l+=" >> ",u=x.char,v=a.beginChar+a.length-x.char,l+=M(p,u,v),l+=`
`,l+=`${a.lineNo}: `,l+=`${a.beginChar}: `,l+=`${x.char-a.beginChar}: `,l+="error: ",l+=x.msg,l+=`
`}),l},j=!1,H=!1,W=!1,B=!1,P=0,L;if(this.errors=[],global.Buffer.isBuffer(e))this.chars=o.decode("BINARY",e);else if(Array.isArray(e))this.chars=e.slice();else if(typeof e=="string")this.chars=o.decode("STRING",e);else throw new Error(`${t}input source is not a string, byte Buffer or character array`);this.sabnf=o.encode("STRING",this.chars),this.scan=function(E,c){this.lines=s(this.chars,this.errors,E,c),j=!0},this.parse=function(E,c){if(!j)throw new Error(`${t}grammar not scanned`);f.syntax(this.chars,this.lines,this.errors,E,c),H=!0},this.translate=function(){if(!H)throw new Error(`${t}grammar not scanned and parsed`);let E=f.semantic(this.chars,this.lines,this.errors);this.errors.length===0&&(this.rules=E.rules,this.udts=E.udts,L=E.lineMap,W=!0)},this.attributes=function(){if(!W)throw new Error(`${t}grammar not scanned, parsed and translated`);return P=h(this.rules,this.udts,L,this.errors),B=!0,P},this.generate=function(E){if(this.lines=s(this.chars,this.errors,E),this.errors.length||(f.syntax(this.chars,this.lines,this.errors,E),this.errors.length))return;let c=f.semantic(this.chars,this.lines,this.errors);this.errors.length||(this.rules=c.rules,this.udts=c.udts,L=c.lineMap,P=h(this.rules,this.udts,L,this.errors),B=!0)},this.displayRules=function(E="index"){if(!W)throw new Error(`${t}grammar not scanned, parsed and translated`);return T(this.rules,this.udts,E)},this.displayRuleDependencies=function(E="index"){if(!B)throw new Error(`${t}no attributes - must be preceeded by call to attributes()`);return w(E)},this.displayAttributes=function(E="index"){if(!B)throw new Error(`${t}no attributes - must be preceeded by call to attributes()`);return P&&g(E),b(E)},this.displayAttributeErrors=function(){if(!B)throw new Error(`${t}no attributes - must be preceeded by call to attributes()`);return g()},this.toSource=function(E){if(!B)throw new Error(`${t}can't generate parser source - must be preceeded by call to attributes()`);if(P)throw new Error(`${t}can't generate parser source - attributes have ${P} errors`);return f.generateSource(this.chars,this.lines,this.rules,this.udts,E)},this.toObject=function(){if(!B)throw new Error(`${t}can't generate parser source - must be preceeded by call to attributes()`);if(P)throw new Error(`${t}can't generate parser source - attributes have ${P} errors`);return f.generateObject(this.sabnf,this.rules,this.udts)},this.errorsToAscii=function(){return $(this.errors,this.lines,this.chars)},this.errorsToHtml=function(E){return I(this.errors,this.lines,this.chars,E)},this.linesToAscii=function(){return k(this.lines)},this.linesToHtml=function(){return F(this.lines)}}});var $h=le(()=>{});var qh=le((I2,Fh)=>{(function(r,e){"use strict";function t(l,a){if(!l)throw new Error(a||"Assertion failed")}function n(l,a){l.super_=a;var u=function(){};u.prototype=a.prototype,l.prototype=new u,l.prototype.constructor=l}function i(l,a,u){if(i.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(l||0,a||10,u||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=$h().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,v){if(typeof a=="number")return this._initNumber(a,u,v);if(typeof a=="object")return this._initArray(a,u,v);u==="hex"&&(u=16),t(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var x=0;a[0]==="-"&&(x++,this.negative=1),x<a.length&&(u===16?this._parseHex(a,x,v):(this._parseBase(a,u,x),v==="le"&&this._initArray(this.toArray(),u,v)))},i.prototype._initNumber=function(a,u,v){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(t(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),u,v)},i.prototype._initArray=function(a,u,v){if(t(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var y,d,_=0;if(v==="be")for(x=a.length-1,y=0;x>=0;x-=3)d=a[x]|a[x-1]<<8|a[x-2]<<16,this.words[y]|=d<<_&67108863,this.words[y+1]=d>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);else if(v==="le")for(x=0,y=0;x<a.length;x+=3)d=a[x]|a[x+1]<<8|a[x+2]<<16,this.words[y]|=d<<_&67108863,this.words[y+1]=d>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);return this._strip()};function s(l,a){var u=l.charCodeAt(a);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;t(!1,"Invalid character in "+l)}function f(l,a,u){var v=s(l,u);return u-1>=a&&(v|=s(l,u-1)<<4),v}i.prototype._parseHex=function(a,u,v){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var y=0,d=0,_;if(v==="be")for(x=a.length-1;x>=u;x-=2)_=f(a,u,x)<<y,this.words[d]|=_&67108863,y>=18?(y-=18,d+=1,this.words[d]|=_>>>26):y+=8;else{var D=a.length-u;for(x=D%2===0?u+1:u;x<a.length;x+=2)_=f(a,u,x)<<y,this.words[d]|=_&67108863,y>=18?(y-=18,d+=1,this.words[d]|=_>>>26):y+=8}this._strip()};function h(l,a,u,v){for(var x=0,y=0,d=Math.min(l.length,u),_=a;_<d;_++){var D=l.charCodeAt(_)-48;x*=v,D>=49?y=D-49+10:D>=17?y=D-17+10:y=D,t(D>=0&&y<v,"Invalid character"),x+=y}return x}i.prototype._parseBase=function(a,u,v){this.words=[0],this.length=1;for(var x=0,y=1;y<=67108863;y*=u)x++;x--,y=y/u|0;for(var d=a.length-v,_=d%x,D=Math.min(d,d-_)+v,m=0,A=v;A<D;A+=x)m=h(a,A,A+x,u),this.imuln(y),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(_!==0){var te=1;for(m=h(a,A,a.length,u),A=0;A<_;A++)te*=u;this.imuln(te),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red};function b(l,a){l.words=a.words,l.length=a.length,l.negative=a.negative,l.red=a.red}if(i.prototype._move=function(a){b(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{i.prototype.inspect=g}else i.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var v;if(a===16||a==="hex"){v="";for(var x=0,y=0,d=0;d<this.length;d++){var _=this.words[d],D=((_<<x|y)&16777215).toString(16);y=_>>>24-x&16777215,x+=2,x>=26&&(x-=26,d--),y!==0||d!==this.length-1?v=w[6-D.length]+D+v:v=D+v}for(y!==0&&(v=y.toString(16)+v);v.length%u!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(a===(a|0)&&a>=2&&a<=36){var m=T[a],A=C[a];v="";var te=this.clone();for(te.negative=0;!te.isZero();){var S=te.modrn(A).toString(a);te=te.idivn(A),te.isZero()?v=S+v:v=w[m-S.length]+S+v}for(this.isZero()&&(v="0"+v);v.length%u!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(a,u){return this.toArrayLike(o,a,u)}),i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)};var M=function(a,u){return a.allocUnsafe?a.allocUnsafe(u):new a(u)};i.prototype.toArrayLike=function(a,u,v){this._strip();var x=this.byteLength(),y=v||Math.max(1,x);t(x<=y,"byte array longer than desired length"),t(y>0,"Requested array length <= 0");var d=M(a,y),_=u==="le"?"LE":"BE";return this["_toArrayLike"+_](d,x),d},i.prototype._toArrayLikeLE=function(a,u){for(var v=0,x=0,y=0,d=0;y<this.length;y++){var _=this.words[y]<<d|x;a[v++]=_&255,v<a.length&&(a[v++]=_>>8&255),v<a.length&&(a[v++]=_>>16&255),d===6?(v<a.length&&(a[v++]=_>>24&255),x=0,d=0):(x=_>>>24,d+=2)}if(v<a.length)for(a[v++]=x;v<a.length;)a[v++]=0},i.prototype._toArrayLikeBE=function(a,u){for(var v=a.length-1,x=0,y=0,d=0;y<this.length;y++){var _=this.words[y]<<d|x;a[v--]=_&255,v>=0&&(a[v--]=_>>8&255),v>=0&&(a[v--]=_>>16&255),d===6?(v>=0&&(a[v--]=_>>24&255),x=0,d=0):(x=_>>>24,d+=2)}if(v>=0)for(a[v--]=x;v>=0;)a[v--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,v=0;return u>=4096&&(v+=13,u>>>=13),u>=64&&(v+=7,u>>>=7),u>=8&&(v+=4,u>>>=4),u>=2&&(v+=2,u>>>=2),v+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,v=0;return u&8191||(v+=13,u>>>=13),u&127||(v+=7,u>>>=7),u&15||(v+=4,u>>>=4),u&3||(v+=2,u>>>=2),u&1||v++,v},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function k(l){for(var a=new Array(l.bitLength()),u=0;u<a.length;u++){var v=u/26|0,x=u%26;a[u]=l.words[v]>>>x&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var v=this._zeroBits(this.words[u]);if(a+=v,v!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this._strip()},i.prototype.ior=function(a){return t((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var v=0;v<u.length;v++)this.words[v]=this.words[v]&a.words[v];return this.length=u.length,this._strip()},i.prototype.iand=function(a){return t((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,v;this.length>a.length?(u=this,v=a):(u=a,v=this);for(var x=0;x<v.length;x++)this.words[x]=u.words[x]^v.words[x];if(this!==u)for(;x<u.length;x++)this.words[x]=u.words[x];return this.length=u.length,this._strip()},i.prototype.ixor=function(a){return t((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){t(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,v=a%26;this._expand(u),v>0&&u--;for(var x=0;x<u;x++)this.words[x]=~this.words[x]&67108863;return v>0&&(this.words[x]=~this.words[x]&67108863>>26-v),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){t(typeof a=="number"&&a>=0);var v=a/26|0,x=a%26;return this._expand(v+1),u?this.words[v]=this.words[v]|1<<x:this.words[v]=this.words[v]&~(1<<x),this._strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var v,x;this.length>a.length?(v=this,x=a):(v=a,x=this);for(var y=0,d=0;d<x.length;d++)u=(v.words[d]|0)+(x.words[d]|0)+y,this.words[d]=u&67108863,y=u>>>26;for(;y!==0&&d<v.length;d++)u=(v.words[d]|0)+y,this.words[d]=u&67108863,y=u>>>26;if(this.length=v.length,y!==0)this.words[this.length]=y,this.length++;else if(v!==this)for(;d<v.length;d++)this.words[d]=v.words[d];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var v=this.cmp(a);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,y;v>0?(x=this,y=a):(x=a,y=this);for(var d=0,_=0;_<y.length;_++)u=(x.words[_]|0)-(y.words[_]|0)+d,d=u>>26,this.words[_]=u&67108863;for(;d!==0&&_<x.length;_++)u=(x.words[_]|0)+d,d=u>>26,this.words[_]=u&67108863;if(d===0&&_<x.length&&x!==this)for(;_<x.length;_++)this.words[_]=x.words[_];return this.length=Math.max(this.length,_),x!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function F(l,a,u){u.negative=a.negative^l.negative;var v=l.length+a.length|0;u.length=v,v=v-1|0;var x=l.words[0]|0,y=a.words[0]|0,d=x*y,_=d&67108863,D=d/67108864|0;u.words[0]=_;for(var m=1;m<v;m++){for(var A=D>>>26,te=D&67108863,S=Math.min(m,a.length-1),z=Math.max(0,m-l.length+1);z<=S;z++){var Y=m-z|0;x=l.words[Y]|0,y=a.words[z]|0,d=x*y+te,A+=d/67108864|0,te=d&67108863}u.words[m]=te|0,D=A|0}return D!==0?u.words[m]=D|0:u.length--,u._strip()}var I=function(a,u,v){var x=a.words,y=u.words,d=v.words,_=0,D,m,A,te=x[0]|0,S=te&8191,z=te>>>13,Y=x[1]|0,N=Y&8191,R=Y>>>13,K=x[2]|0,G=K&8191,Z=K>>>13,ce=x[3]|0,ie=ce&8191,V=ce>>>13,ue=x[4]|0,X=ue&8191,oe=ue>>>13,U=x[5]|0,re=U&8191,he=U>>>13,xe=x[6]|0,ge=xe&8191,_e=xe>>>13,Jt=x[7]|0,Q=Jt&8191,J=Jt>>>13,O=x[8]|0,q=O&8191,ne=O>>>13,se=x[9]|0,ae=se&8191,de=se>>>13,Xe=y[0]|0,ye=Xe&8191,pe=Xe>>>13,Qe=y[1]|0,Ee=Qe&8191,Se=Qe>>>13,Qr=y[2]|0,Me=Qr&8191,Te=Qr>>>13,en=y[3]|0,ke=en&8191,Ce=en>>>13,tn=y[4]|0,De=tn&8191,Ie=tn>>>13,rn=y[5]|0,Oe=rn&8191,Ne=rn>>>13,nn=y[6]|0,Re=nn&8191,Pe=nn>>>13,on=y[7]|0,Be=on&8191,Le=on>>>13,sn=y[8]|0,Ue=sn&8191,$e=sn>>>13,Rr=y[9]|0,nt=Rr&8191,it=Rr>>>13;v.negative=a.negative^u.negative,v.length=19,D=Math.imul(S,ye),m=Math.imul(S,pe),m=m+Math.imul(z,ye)|0,A=Math.imul(z,pe);var pr=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(pr>>>26)|0,pr&=67108863,D=Math.imul(N,ye),m=Math.imul(N,pe),m=m+Math.imul(R,ye)|0,A=Math.imul(R,pe),D=D+Math.imul(S,Ee)|0,m=m+Math.imul(S,Se)|0,m=m+Math.imul(z,Ee)|0,A=A+Math.imul(z,Se)|0;var mr=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(mr>>>26)|0,mr&=67108863,D=Math.imul(G,ye),m=Math.imul(G,pe),m=m+Math.imul(Z,ye)|0,A=Math.imul(Z,pe),D=D+Math.imul(N,Ee)|0,m=m+Math.imul(N,Se)|0,m=m+Math.imul(R,Ee)|0,A=A+Math.imul(R,Se)|0,D=D+Math.imul(S,Me)|0,m=m+Math.imul(S,Te)|0,m=m+Math.imul(z,Me)|0,A=A+Math.imul(z,Te)|0;var br=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(br>>>26)|0,br&=67108863,D=Math.imul(ie,ye),m=Math.imul(ie,pe),m=m+Math.imul(V,ye)|0,A=Math.imul(V,pe),D=D+Math.imul(G,Ee)|0,m=m+Math.imul(G,Se)|0,m=m+Math.imul(Z,Ee)|0,A=A+Math.imul(Z,Se)|0,D=D+Math.imul(N,Me)|0,m=m+Math.imul(N,Te)|0,m=m+Math.imul(R,Me)|0,A=A+Math.imul(R,Te)|0,D=D+Math.imul(S,ke)|0,m=m+Math.imul(S,Ce)|0,m=m+Math.imul(z,ke)|0,A=A+Math.imul(z,Ce)|0;var gr=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(gr>>>26)|0,gr&=67108863,D=Math.imul(X,ye),m=Math.imul(X,pe),m=m+Math.imul(oe,ye)|0,A=Math.imul(oe,pe),D=D+Math.imul(ie,Ee)|0,m=m+Math.imul(ie,Se)|0,m=m+Math.imul(V,Ee)|0,A=A+Math.imul(V,Se)|0,D=D+Math.imul(G,Me)|0,m=m+Math.imul(G,Te)|0,m=m+Math.imul(Z,Me)|0,A=A+Math.imul(Z,Te)|0,D=D+Math.imul(N,ke)|0,m=m+Math.imul(N,Ce)|0,m=m+Math.imul(R,ke)|0,A=A+Math.imul(R,Ce)|0,D=D+Math.imul(S,De)|0,m=m+Math.imul(S,Ie)|0,m=m+Math.imul(z,De)|0,A=A+Math.imul(z,Ie)|0;var vr=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(vr>>>26)|0,vr&=67108863,D=Math.imul(re,ye),m=Math.imul(re,pe),m=m+Math.imul(he,ye)|0,A=Math.imul(he,pe),D=D+Math.imul(X,Ee)|0,m=m+Math.imul(X,Se)|0,m=m+Math.imul(oe,Ee)|0,A=A+Math.imul(oe,Se)|0,D=D+Math.imul(ie,Me)|0,m=m+Math.imul(ie,Te)|0,m=m+Math.imul(V,Me)|0,A=A+Math.imul(V,Te)|0,D=D+Math.imul(G,ke)|0,m=m+Math.imul(G,Ce)|0,m=m+Math.imul(Z,ke)|0,A=A+Math.imul(Z,Ce)|0,D=D+Math.imul(N,De)|0,m=m+Math.imul(N,Ie)|0,m=m+Math.imul(R,De)|0,A=A+Math.imul(R,Ie)|0,D=D+Math.imul(S,Oe)|0,m=m+Math.imul(S,Ne)|0,m=m+Math.imul(z,Oe)|0,A=A+Math.imul(z,Ne)|0;var Si=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(Si>>>26)|0,Si&=67108863,D=Math.imul(ge,ye),m=Math.imul(ge,pe),m=m+Math.imul(_e,ye)|0,A=Math.imul(_e,pe),D=D+Math.imul(re,Ee)|0,m=m+Math.imul(re,Se)|0,m=m+Math.imul(he,Ee)|0,A=A+Math.imul(he,Se)|0,D=D+Math.imul(X,Me)|0,m=m+Math.imul(X,Te)|0,m=m+Math.imul(oe,Me)|0,A=A+Math.imul(oe,Te)|0,D=D+Math.imul(ie,ke)|0,m=m+Math.imul(ie,Ce)|0,m=m+Math.imul(V,ke)|0,A=A+Math.imul(V,Ce)|0,D=D+Math.imul(G,De)|0,m=m+Math.imul(G,Ie)|0,m=m+Math.imul(Z,De)|0,A=A+Math.imul(Z,Ie)|0,D=D+Math.imul(N,Oe)|0,m=m+Math.imul(N,Ne)|0,m=m+Math.imul(R,Oe)|0,A=A+Math.imul(R,Ne)|0,D=D+Math.imul(S,Re)|0,m=m+Math.imul(S,Pe)|0,m=m+Math.imul(z,Re)|0,A=A+Math.imul(z,Pe)|0;var Mi=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,D=Math.imul(Q,ye),m=Math.imul(Q,pe),m=m+Math.imul(J,ye)|0,A=Math.imul(J,pe),D=D+Math.imul(ge,Ee)|0,m=m+Math.imul(ge,Se)|0,m=m+Math.imul(_e,Ee)|0,A=A+Math.imul(_e,Se)|0,D=D+Math.imul(re,Me)|0,m=m+Math.imul(re,Te)|0,m=m+Math.imul(he,Me)|0,A=A+Math.imul(he,Te)|0,D=D+Math.imul(X,ke)|0,m=m+Math.imul(X,Ce)|0,m=m+Math.imul(oe,ke)|0,A=A+Math.imul(oe,Ce)|0,D=D+Math.imul(ie,De)|0,m=m+Math.imul(ie,Ie)|0,m=m+Math.imul(V,De)|0,A=A+Math.imul(V,Ie)|0,D=D+Math.imul(G,Oe)|0,m=m+Math.imul(G,Ne)|0,m=m+Math.imul(Z,Oe)|0,A=A+Math.imul(Z,Ne)|0,D=D+Math.imul(N,Re)|0,m=m+Math.imul(N,Pe)|0,m=m+Math.imul(R,Re)|0,A=A+Math.imul(R,Pe)|0,D=D+Math.imul(S,Be)|0,m=m+Math.imul(S,Le)|0,m=m+Math.imul(z,Be)|0,A=A+Math.imul(z,Le)|0;var Ti=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,D=Math.imul(q,ye),m=Math.imul(q,pe),m=m+Math.imul(ne,ye)|0,A=Math.imul(ne,pe),D=D+Math.imul(Q,Ee)|0,m=m+Math.imul(Q,Se)|0,m=m+Math.imul(J,Ee)|0,A=A+Math.imul(J,Se)|0,D=D+Math.imul(ge,Me)|0,m=m+Math.imul(ge,Te)|0,m=m+Math.imul(_e,Me)|0,A=A+Math.imul(_e,Te)|0,D=D+Math.imul(re,ke)|0,m=m+Math.imul(re,Ce)|0,m=m+Math.imul(he,ke)|0,A=A+Math.imul(he,Ce)|0,D=D+Math.imul(X,De)|0,m=m+Math.imul(X,Ie)|0,m=m+Math.imul(oe,De)|0,A=A+Math.imul(oe,Ie)|0,D=D+Math.imul(ie,Oe)|0,m=m+Math.imul(ie,Ne)|0,m=m+Math.imul(V,Oe)|0,A=A+Math.imul(V,Ne)|0,D=D+Math.imul(G,Re)|0,m=m+Math.imul(G,Pe)|0,m=m+Math.imul(Z,Re)|0,A=A+Math.imul(Z,Pe)|0,D=D+Math.imul(N,Be)|0,m=m+Math.imul(N,Le)|0,m=m+Math.imul(R,Be)|0,A=A+Math.imul(R,Le)|0,D=D+Math.imul(S,Ue)|0,m=m+Math.imul(S,$e)|0,m=m+Math.imul(z,Ue)|0,A=A+Math.imul(z,$e)|0;var ki=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(ki>>>26)|0,ki&=67108863,D=Math.imul(ae,ye),m=Math.imul(ae,pe),m=m+Math.imul(de,ye)|0,A=Math.imul(de,pe),D=D+Math.imul(q,Ee)|0,m=m+Math.imul(q,Se)|0,m=m+Math.imul(ne,Ee)|0,A=A+Math.imul(ne,Se)|0,D=D+Math.imul(Q,Me)|0,m=m+Math.imul(Q,Te)|0,m=m+Math.imul(J,Me)|0,A=A+Math.imul(J,Te)|0,D=D+Math.imul(ge,ke)|0,m=m+Math.imul(ge,Ce)|0,m=m+Math.imul(_e,ke)|0,A=A+Math.imul(_e,Ce)|0,D=D+Math.imul(re,De)|0,m=m+Math.imul(re,Ie)|0,m=m+Math.imul(he,De)|0,A=A+Math.imul(he,Ie)|0,D=D+Math.imul(X,Oe)|0,m=m+Math.imul(X,Ne)|0,m=m+Math.imul(oe,Oe)|0,A=A+Math.imul(oe,Ne)|0,D=D+Math.imul(ie,Re)|0,m=m+Math.imul(ie,Pe)|0,m=m+Math.imul(V,Re)|0,A=A+Math.imul(V,Pe)|0,D=D+Math.imul(G,Be)|0,m=m+Math.imul(G,Le)|0,m=m+Math.imul(Z,Be)|0,A=A+Math.imul(Z,Le)|0,D=D+Math.imul(N,Ue)|0,m=m+Math.imul(N,$e)|0,m=m+Math.imul(R,Ue)|0,A=A+Math.imul(R,$e)|0,D=D+Math.imul(S,nt)|0,m=m+Math.imul(S,it)|0,m=m+Math.imul(z,nt)|0,A=A+Math.imul(z,it)|0;var Ci=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,D=Math.imul(ae,Ee),m=Math.imul(ae,Se),m=m+Math.imul(de,Ee)|0,A=Math.imul(de,Se),D=D+Math.imul(q,Me)|0,m=m+Math.imul(q,Te)|0,m=m+Math.imul(ne,Me)|0,A=A+Math.imul(ne,Te)|0,D=D+Math.imul(Q,ke)|0,m=m+Math.imul(Q,Ce)|0,m=m+Math.imul(J,ke)|0,A=A+Math.imul(J,Ce)|0,D=D+Math.imul(ge,De)|0,m=m+Math.imul(ge,Ie)|0,m=m+Math.imul(_e,De)|0,A=A+Math.imul(_e,Ie)|0,D=D+Math.imul(re,Oe)|0,m=m+Math.imul(re,Ne)|0,m=m+Math.imul(he,Oe)|0,A=A+Math.imul(he,Ne)|0,D=D+Math.imul(X,Re)|0,m=m+Math.imul(X,Pe)|0,m=m+Math.imul(oe,Re)|0,A=A+Math.imul(oe,Pe)|0,D=D+Math.imul(ie,Be)|0,m=m+Math.imul(ie,Le)|0,m=m+Math.imul(V,Be)|0,A=A+Math.imul(V,Le)|0,D=D+Math.imul(G,Ue)|0,m=m+Math.imul(G,$e)|0,m=m+Math.imul(Z,Ue)|0,A=A+Math.imul(Z,$e)|0,D=D+Math.imul(N,nt)|0,m=m+Math.imul(N,it)|0,m=m+Math.imul(R,nt)|0,A=A+Math.imul(R,it)|0;var Di=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(Di>>>26)|0,Di&=67108863,D=Math.imul(ae,Me),m=Math.imul(ae,Te),m=m+Math.imul(de,Me)|0,A=Math.imul(de,Te),D=D+Math.imul(q,ke)|0,m=m+Math.imul(q,Ce)|0,m=m+Math.imul(ne,ke)|0,A=A+Math.imul(ne,Ce)|0,D=D+Math.imul(Q,De)|0,m=m+Math.imul(Q,Ie)|0,m=m+Math.imul(J,De)|0,A=A+Math.imul(J,Ie)|0,D=D+Math.imul(ge,Oe)|0,m=m+Math.imul(ge,Ne)|0,m=m+Math.imul(_e,Oe)|0,A=A+Math.imul(_e,Ne)|0,D=D+Math.imul(re,Re)|0,m=m+Math.imul(re,Pe)|0,m=m+Math.imul(he,Re)|0,A=A+Math.imul(he,Pe)|0,D=D+Math.imul(X,Be)|0,m=m+Math.imul(X,Le)|0,m=m+Math.imul(oe,Be)|0,A=A+Math.imul(oe,Le)|0,D=D+Math.imul(ie,Ue)|0,m=m+Math.imul(ie,$e)|0,m=m+Math.imul(V,Ue)|0,A=A+Math.imul(V,$e)|0,D=D+Math.imul(G,nt)|0,m=m+Math.imul(G,it)|0,m=m+Math.imul(Z,nt)|0,A=A+Math.imul(Z,it)|0;var Ii=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,D=Math.imul(ae,ke),m=Math.imul(ae,Ce),m=m+Math.imul(de,ke)|0,A=Math.imul(de,Ce),D=D+Math.imul(q,De)|0,m=m+Math.imul(q,Ie)|0,m=m+Math.imul(ne,De)|0,A=A+Math.imul(ne,Ie)|0,D=D+Math.imul(Q,Oe)|0,m=m+Math.imul(Q,Ne)|0,m=m+Math.imul(J,Oe)|0,A=A+Math.imul(J,Ne)|0,D=D+Math.imul(ge,Re)|0,m=m+Math.imul(ge,Pe)|0,m=m+Math.imul(_e,Re)|0,A=A+Math.imul(_e,Pe)|0,D=D+Math.imul(re,Be)|0,m=m+Math.imul(re,Le)|0,m=m+Math.imul(he,Be)|0,A=A+Math.imul(he,Le)|0,D=D+Math.imul(X,Ue)|0,m=m+Math.imul(X,$e)|0,m=m+Math.imul(oe,Ue)|0,A=A+Math.imul(oe,$e)|0,D=D+Math.imul(ie,nt)|0,m=m+Math.imul(ie,it)|0,m=m+Math.imul(V,nt)|0,A=A+Math.imul(V,it)|0;var Oi=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,D=Math.imul(ae,De),m=Math.imul(ae,Ie),m=m+Math.imul(de,De)|0,A=Math.imul(de,Ie),D=D+Math.imul(q,Oe)|0,m=m+Math.imul(q,Ne)|0,m=m+Math.imul(ne,Oe)|0,A=A+Math.imul(ne,Ne)|0,D=D+Math.imul(Q,Re)|0,m=m+Math.imul(Q,Pe)|0,m=m+Math.imul(J,Re)|0,A=A+Math.imul(J,Pe)|0,D=D+Math.imul(ge,Be)|0,m=m+Math.imul(ge,Le)|0,m=m+Math.imul(_e,Be)|0,A=A+Math.imul(_e,Le)|0,D=D+Math.imul(re,Ue)|0,m=m+Math.imul(re,$e)|0,m=m+Math.imul(he,Ue)|0,A=A+Math.imul(he,$e)|0,D=D+Math.imul(X,nt)|0,m=m+Math.imul(X,it)|0,m=m+Math.imul(oe,nt)|0,A=A+Math.imul(oe,it)|0;var Ni=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,D=Math.imul(ae,Oe),m=Math.imul(ae,Ne),m=m+Math.imul(de,Oe)|0,A=Math.imul(de,Ne),D=D+Math.imul(q,Re)|0,m=m+Math.imul(q,Pe)|0,m=m+Math.imul(ne,Re)|0,A=A+Math.imul(ne,Pe)|0,D=D+Math.imul(Q,Be)|0,m=m+Math.imul(Q,Le)|0,m=m+Math.imul(J,Be)|0,A=A+Math.imul(J,Le)|0,D=D+Math.imul(ge,Ue)|0,m=m+Math.imul(ge,$e)|0,m=m+Math.imul(_e,Ue)|0,A=A+Math.imul(_e,$e)|0,D=D+Math.imul(re,nt)|0,m=m+Math.imul(re,it)|0,m=m+Math.imul(he,nt)|0,A=A+Math.imul(he,it)|0;var Ri=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,D=Math.imul(ae,Re),m=Math.imul(ae,Pe),m=m+Math.imul(de,Re)|0,A=Math.imul(de,Pe),D=D+Math.imul(q,Be)|0,m=m+Math.imul(q,Le)|0,m=m+Math.imul(ne,Be)|0,A=A+Math.imul(ne,Le)|0,D=D+Math.imul(Q,Ue)|0,m=m+Math.imul(Q,$e)|0,m=m+Math.imul(J,Ue)|0,A=A+Math.imul(J,$e)|0,D=D+Math.imul(ge,nt)|0,m=m+Math.imul(ge,it)|0,m=m+Math.imul(_e,nt)|0,A=A+Math.imul(_e,it)|0;var Pi=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,D=Math.imul(ae,Be),m=Math.imul(ae,Le),m=m+Math.imul(de,Be)|0,A=Math.imul(de,Le),D=D+Math.imul(q,Ue)|0,m=m+Math.imul(q,$e)|0,m=m+Math.imul(ne,Ue)|0,A=A+Math.imul(ne,$e)|0,D=D+Math.imul(Q,nt)|0,m=m+Math.imul(Q,it)|0,m=m+Math.imul(J,nt)|0,A=A+Math.imul(J,it)|0;var Tu=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(Tu>>>26)|0,Tu&=67108863,D=Math.imul(ae,Ue),m=Math.imul(ae,$e),m=m+Math.imul(de,Ue)|0,A=Math.imul(de,$e),D=D+Math.imul(q,nt)|0,m=m+Math.imul(q,it)|0,m=m+Math.imul(ne,nt)|0,A=A+Math.imul(ne,it)|0;var ku=(_+D|0)+((m&8191)<<13)|0;_=(A+(m>>>13)|0)+(ku>>>26)|0,ku&=67108863,D=Math.imul(ae,nt),m=Math.imul(ae,it),m=m+Math.imul(de,nt)|0,A=Math.imul(de,it);var Cu=(_+D|0)+((m&8191)<<13)|0;return _=(A+(m>>>13)|0)+(Cu>>>26)|0,Cu&=67108863,d[0]=pr,d[1]=mr,d[2]=br,d[3]=gr,d[4]=vr,d[5]=Si,d[6]=Mi,d[7]=Ti,d[8]=ki,d[9]=Ci,d[10]=Di,d[11]=Ii,d[12]=Oi,d[13]=Ni,d[14]=Ri,d[15]=Pi,d[16]=Tu,d[17]=ku,d[18]=Cu,_!==0&&(d[19]=_,v.length++),v};Math.imul||(I=F);function $(l,a,u){u.negative=a.negative^l.negative,u.length=l.length+a.length;for(var v=0,x=0,y=0;y<u.length-1;y++){var d=x;x=0;for(var _=v&67108863,D=Math.min(y,a.length-1),m=Math.max(0,y-l.length+1);m<=D;m++){var A=y-m,te=l.words[A]|0,S=a.words[m]|0,z=te*S,Y=z&67108863;d=d+(z/67108864|0)|0,Y=Y+_|0,_=Y&67108863,d=d+(Y>>>26)|0,x+=d>>>26,d&=67108863}u.words[y]=_,v=d,d=x}return v!==0?u.words[y]=v:u.length--,u._strip()}function j(l,a,u){return $(l,a,u)}i.prototype.mulTo=function(a,u){var v,x=this.length+a.length;return this.length===10&&a.length===10?v=I(this,a,u):x<63?v=F(this,a,u):x<1024?v=$(this,a,u):v=j(this,a,u),v};function H(l,a){this.x=l,this.y=a}H.prototype.makeRBT=function(a){for(var u=new Array(a),v=i.prototype._countBits(a)-1,x=0;x<a;x++)u[x]=this.revBin(x,v,a);return u},H.prototype.revBin=function(a,u,v){if(a===0||a===v-1)return a;for(var x=0,y=0;y<u;y++)x|=(a&1)<<u-y-1,a>>=1;return x},H.prototype.permute=function(a,u,v,x,y,d){for(var _=0;_<d;_++)x[_]=u[a[_]],y[_]=v[a[_]]},H.prototype.transform=function(a,u,v,x,y,d){this.permute(d,a,u,v,x,y);for(var _=1;_<y;_<<=1)for(var D=_<<1,m=Math.cos(2*Math.PI/D),A=Math.sin(2*Math.PI/D),te=0;te<y;te+=D)for(var S=m,z=A,Y=0;Y<_;Y++){var N=v[te+Y],R=x[te+Y],K=v[te+Y+_],G=x[te+Y+_],Z=S*K-z*G;G=S*G+z*K,K=Z,v[te+Y]=N+K,x[te+Y]=R+G,v[te+Y+_]=N-K,x[te+Y+_]=R-G,Y!==D&&(Z=m*S-A*z,z=m*z+A*S,S=Z)}},H.prototype.guessLen13b=function(a,u){var v=Math.max(u,a)|1,x=v&1,y=0;for(v=v/2|0;v;v=v>>>1)y++;return 1<<y+1+x},H.prototype.conjugate=function(a,u,v){if(!(v<=1))for(var x=0;x<v/2;x++){var y=a[x];a[x]=a[v-x-1],a[v-x-1]=y,y=u[x],u[x]=-u[v-x-1],u[v-x-1]=-y}},H.prototype.normalize13b=function(a,u){for(var v=0,x=0;x<u/2;x++){var y=Math.round(a[2*x+1]/u)*8192+Math.round(a[2*x]/u)+v;a[x]=y&67108863,y<67108864?v=0:v=y/67108864|0}return a},H.prototype.convert13b=function(a,u,v,x){for(var y=0,d=0;d<u;d++)y=y+(a[d]|0),v[2*d]=y&8191,y=y>>>13,v[2*d+1]=y&8191,y=y>>>13;for(d=2*u;d<x;++d)v[d]=0;t(y===0),t((y&-8192)===0)},H.prototype.stub=function(a){for(var u=new Array(a),v=0;v<a;v++)u[v]=0;return u},H.prototype.mulp=function(a,u,v){var x=2*this.guessLen13b(a.length,u.length),y=this.makeRBT(x),d=this.stub(x),_=new Array(x),D=new Array(x),m=new Array(x),A=new Array(x),te=new Array(x),S=new Array(x),z=v.words;z.length=x,this.convert13b(a.words,a.length,_,x),this.convert13b(u.words,u.length,A,x),this.transform(_,d,D,m,x,y),this.transform(A,d,te,S,x,y);for(var Y=0;Y<x;Y++){var N=D[Y]*te[Y]-m[Y]*S[Y];m[Y]=D[Y]*S[Y]+m[Y]*te[Y],D[Y]=N}return this.conjugate(D,m,x),this.transform(D,m,z,d,x,y),this.conjugate(z,d,x),this.normalize13b(z,x),v.negative=a.negative^u.negative,v.length=a.length+u.length,v._strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),j(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var u=a<0;u&&(a=-a),t(typeof a=="number"),t(a<67108864);for(var v=0,x=0;x<this.length;x++){var y=(this.words[x]|0)*a,d=(y&67108863)+(v&67108863);v>>=26,v+=y/67108864|0,v+=d>>>26,this.words[x]=d&67108863}return v!==0&&(this.words[x]=v,this.length++),u?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=k(a);if(u.length===0)return new i(1);for(var v=this,x=0;x<u.length&&u[x]===0;x++,v=v.sqr());if(++x<u.length)for(var y=v.sqr();x<u.length;x++,y=y.sqr())u[x]!==0&&(v=v.mul(y));return v},i.prototype.iushln=function(a){t(typeof a=="number"&&a>=0);var u=a%26,v=(a-u)/26,x=67108863>>>26-u<<26-u,y;if(u!==0){var d=0;for(y=0;y<this.length;y++){var _=this.words[y]&x,D=(this.words[y]|0)-_<<u;this.words[y]=D|d,d=_>>>26-u}d&&(this.words[y]=d,this.length++)}if(v!==0){for(y=this.length-1;y>=0;y--)this.words[y+v]=this.words[y];for(y=0;y<v;y++)this.words[y]=0;this.length+=v}return this._strip()},i.prototype.ishln=function(a){return t(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,v){t(typeof a=="number"&&a>=0);var x;u?x=(u-u%26)/26:x=0;var y=a%26,d=Math.min((a-y)/26,this.length),_=67108863^67108863>>>y<<y,D=v;if(x-=d,x=Math.max(0,x),D){for(var m=0;m<d;m++)D.words[m]=this.words[m];D.length=d}if(d!==0)if(this.length>d)for(this.length-=d,m=0;m<this.length;m++)this.words[m]=this.words[m+d];else this.words[0]=0,this.length=1;var A=0;for(m=this.length-1;m>=0&&(A!==0||m>=x);m--){var te=this.words[m]|0;this.words[m]=A<<26-y|te>>>y,A=te&_}return D&&A!==0&&(D.words[D.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,u,v){return t(this.negative===0),this.iushrn(a,u,v)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){t(typeof a=="number"&&a>=0);var u=a%26,v=(a-u)/26,x=1<<u;if(this.length<=v)return!1;var y=this.words[v];return!!(y&x)},i.prototype.imaskn=function(a){t(typeof a=="number"&&a>=0);var u=a%26,v=(a-u)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(u!==0&&v++,this.length=Math.min(v,this.length),u!==0){var x=67108863^67108863>>>u<<u;this.words[this.length-1]&=x}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return t(typeof a=="number"),t(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(t(typeof a=="number"),t(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,v){var x=a.length+v,y;this._expand(x);var d,_=0;for(y=0;y<a.length;y++){d=(this.words[y+v]|0)+_;var D=(a.words[y]|0)*u;d-=D&67108863,_=(d>>26)-(D/67108864|0),this.words[y+v]=d&67108863}for(;y<this.length-v;y++)d=(this.words[y+v]|0)+_,_=d>>26,this.words[y+v]=d&67108863;if(_===0)return this._strip();for(t(_===-1),_=0,y=0;y<this.length;y++)d=-(this.words[y]|0)+_,_=d>>26,this.words[y]=d&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,u){var v=this.length-a.length,x=this.clone(),y=a,d=y.words[y.length-1]|0,_=this._countBits(d);v=26-_,v!==0&&(y=y.ushln(v),x.iushln(v),d=y.words[y.length-1]|0);var D=x.length-y.length,m;if(u!=="mod"){m=new i(null),m.length=D+1,m.words=new Array(m.length);for(var A=0;A<m.length;A++)m.words[A]=0}var te=x.clone()._ishlnsubmul(y,1,D);te.negative===0&&(x=te,m&&(m.words[D]=1));for(var S=D-1;S>=0;S--){var z=(x.words[y.length+S]|0)*67108864+(x.words[y.length+S-1]|0);for(z=Math.min(z/d|0,67108863),x._ishlnsubmul(y,z,S);x.negative!==0;)z--,x.negative=0,x._ishlnsubmul(y,1,S),x.isZero()||(x.negative^=1);m&&(m.words[S]=z)}return m&&m._strip(),x._strip(),u!=="div"&&v!==0&&x.iushrn(v),{div:m||null,mod:x}},i.prototype.divmod=function(a,u,v){if(t(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,y,d;return this.negative!==0&&a.negative===0?(d=this.neg().divmod(a,u),u!=="mod"&&(x=d.div.neg()),u!=="div"&&(y=d.mod.neg(),v&&y.negative!==0&&y.iadd(a)),{div:x,mod:y}):this.negative===0&&a.negative!==0?(d=this.divmod(a.neg(),u),u!=="mod"&&(x=d.div.neg()),{div:x,mod:d.mod}):this.negative&a.negative?(d=this.neg().divmod(a.neg(),u),u!=="div"&&(y=d.mod.neg(),v&&y.negative!==0&&y.isub(a)),{div:d.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var v=u.div.negative!==0?u.mod.isub(a):u.mod,x=a.ushrn(1),y=a.andln(1),d=v.cmp(x);return d<0||y===1&&d===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(a){var u=a<0;u&&(a=-a),t(a<=67108863);for(var v=(1<<26)%a,x=0,y=this.length-1;y>=0;y--)x=(v*x+(this.words[y]|0))%a;return u?-x:x},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var u=a<0;u&&(a=-a),t(a<=67108863);for(var v=0,x=this.length-1;x>=0;x--){var y=(this.words[x]|0)+v*67108864;this.words[x]=y/a|0,v=y%a}return this._strip(),u?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){t(a.negative===0),t(!a.isZero());var u=this,v=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var x=new i(1),y=new i(0),d=new i(0),_=new i(1),D=0;u.isEven()&&v.isEven();)u.iushrn(1),v.iushrn(1),++D;for(var m=v.clone(),A=u.clone();!u.isZero();){for(var te=0,S=1;!(u.words[0]&S)&&te<26;++te,S<<=1);if(te>0)for(u.iushrn(te);te-- >0;)(x.isOdd()||y.isOdd())&&(x.iadd(m),y.isub(A)),x.iushrn(1),y.iushrn(1);for(var z=0,Y=1;!(v.words[0]&Y)&&z<26;++z,Y<<=1);if(z>0)for(v.iushrn(z);z-- >0;)(d.isOdd()||_.isOdd())&&(d.iadd(m),_.isub(A)),d.iushrn(1),_.iushrn(1);u.cmp(v)>=0?(u.isub(v),x.isub(d),y.isub(_)):(v.isub(u),d.isub(x),_.isub(y))}return{a:d,b:_,gcd:v.iushln(D)}},i.prototype._invmp=function(a){t(a.negative===0),t(!a.isZero());var u=this,v=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var x=new i(1),y=new i(0),d=v.clone();u.cmpn(1)>0&&v.cmpn(1)>0;){for(var _=0,D=1;!(u.words[0]&D)&&_<26;++_,D<<=1);if(_>0)for(u.iushrn(_);_-- >0;)x.isOdd()&&x.iadd(d),x.iushrn(1);for(var m=0,A=1;!(v.words[0]&A)&&m<26;++m,A<<=1);if(m>0)for(v.iushrn(m);m-- >0;)y.isOdd()&&y.iadd(d),y.iushrn(1);u.cmp(v)>=0?(u.isub(v),x.isub(y)):(v.isub(u),y.isub(x))}var te;return u.cmpn(1)===0?te=x:te=y,te.cmpn(0)<0&&te.iadd(a),te},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),v=a.clone();u.negative=0,v.negative=0;for(var x=0;u.isEven()&&v.isEven();x++)u.iushrn(1),v.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;v.isEven();)v.iushrn(1);var y=u.cmp(v);if(y<0){var d=u;u=v,v=d}else if(y===0||v.cmpn(1)===0)break;u.isub(v)}while(!0);return v.iushln(x)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){t(typeof a=="number");var u=a%26,v=(a-u)/26,x=1<<u;if(this.length<=v)return this._expand(v+1),this.words[v]|=x,this;for(var y=x,d=v;y!==0&&d<this.length;d++){var _=this.words[d]|0;_+=y,y=_>>>26,_&=67108863,this.words[d]=_}return y!==0&&(this.words[d]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var v;if(this.length>1)v=1;else{u&&(a=-a),t(a<=67108863,"Number is too big");var x=this.words[0]|0;v=x===a?0:x<a?-1:1}return this.negative!==0?-v|0:v},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,v=this.length-1;v>=0;v--){var x=this.words[v]|0,y=a.words[v]|0;if(x!==y){x<y?u=-1:x>y&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new c(a)},i.prototype.toRed=function(a){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return t(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return t(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var W={k256:null,p224:null,p192:null,p25519:null};function B(l,a){this.name=l,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},B.prototype.ireduce=function(a){var u=a,v;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),v=u.bitLength();while(v>this.n);var x=v<this.n?-1:u.ucmp(this.p);return x===0?(u.words[0]=0,u.length=1):x>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},B.prototype.split=function(a,u){a.iushrn(this.n,0,u)},B.prototype.imulK=function(a){return a.imul(this.k)};function P(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(P,B),P.prototype.split=function(a,u){for(var v=4194303,x=Math.min(a.length,9),y=0;y<x;y++)u.words[y]=a.words[y];if(u.length=x,a.length<=9){a.words[0]=0,a.length=1;return}var d=a.words[9];for(u.words[u.length++]=d&v,y=10;y<a.length;y++){var _=a.words[y]|0;a.words[y-10]=(_&v)<<4|d>>>22,d=_}d>>>=22,a.words[y-10]=d,d===0&&a.length>10?a.length-=10:a.length-=9},P.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,v=0;v<a.length;v++){var x=a.words[v]|0;u+=x*977,a.words[v]=u&67108863,u=x*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function L(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(L,B);function ee(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ee,B);function E(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(E,B),E.prototype.imulK=function(a){for(var u=0,v=0;v<a.length;v++){var x=(a.words[v]|0)*19+u,y=x&67108863;x>>>=26,a.words[v]=y,u=x}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(W[a])return W[a];var u;if(a==="k256")u=new P;else if(a==="p224")u=new L;else if(a==="p192")u=new ee;else if(a==="p25519")u=new E;else throw new Error("Unknown prime "+a);return W[a]=u,u};function c(l){if(typeof l=="string"){var a=i._prime(l);this.m=a.p,this.prime=a}else t(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}c.prototype._verify1=function(a){t(a.negative===0,"red works only with positives"),t(a.red,"red works only with red numbers")},c.prototype._verify2=function(a,u){t((a.negative|u.negative)===0,"red works only with positives"),t(a.red&&a.red===u.red,"red works only with red numbers")},c.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(b(a,a.umod(this.m)._forceRed(this)),a)},c.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},c.prototype.add=function(a,u){this._verify2(a,u);var v=a.add(u);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},c.prototype.iadd=function(a,u){this._verify2(a,u);var v=a.iadd(u);return v.cmp(this.m)>=0&&v.isub(this.m),v},c.prototype.sub=function(a,u){this._verify2(a,u);var v=a.sub(u);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},c.prototype.isub=function(a,u){this._verify2(a,u);var v=a.isub(u);return v.cmpn(0)<0&&v.iadd(this.m),v},c.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},c.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},c.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},c.prototype.isqr=function(a){return this.imul(a,a.clone())},c.prototype.sqr=function(a){return this.mul(a,a)},c.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(t(u%2===1),u===3){var v=this.m.add(new i(1)).iushrn(2);return this.pow(a,v)}for(var x=this.m.subn(1),y=0;!x.isZero()&&x.andln(1)===0;)y++,x.iushrn(1);t(!x.isZero());var d=new i(1).toRed(this),_=d.redNeg(),D=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new i(2*m*m).toRed(this);this.pow(m,D).cmp(_)!==0;)m.redIAdd(_);for(var A=this.pow(m,x),te=this.pow(a,x.addn(1).iushrn(1)),S=this.pow(a,x),z=y;S.cmp(d)!==0;){for(var Y=S,N=0;Y.cmp(d)!==0;N++)Y=Y.redSqr();t(N<z);var R=this.pow(A,new i(1).iushln(z-N-1));te=te.redMul(R),A=R.redSqr(),S=S.redMul(A),z=N}return te},c.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},c.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var v=4,x=new Array(1<<v);x[0]=new i(1).toRed(this),x[1]=a;for(var y=2;y<x.length;y++)x[y]=this.mul(x[y-1],a);var d=x[0],_=0,D=0,m=u.bitLength()%26;for(m===0&&(m=26),y=u.length-1;y>=0;y--){for(var A=u.words[y],te=m-1;te>=0;te--){var S=A>>te&1;if(d!==x[0]&&(d=this.sqr(d)),S===0&&_===0){D=0;continue}_<<=1,_|=S,D++,!(D!==v&&(y!==0||te!==0))&&(d=this.mul(d,x[_]),D=0,_=0)}m=26}return d},c.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},c.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new p(a)};function p(l){c.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(p,c),p.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},p.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},p.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var v=a.imul(u),x=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=v.isub(x).iushrn(this.shift),d=y;return y.cmp(this.m)>=0?d=y.isub(this.m):y.cmpn(0)<0&&(d=y.iadd(this.m)),d._forceRed(this)},p.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var v=a.mul(u),x=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=v.isub(x).iushrn(this.shift),d=y;return y.cmp(this.m)>=0?d=y.isub(this.m):y.cmpn(0)<0&&(d=y.iadd(this.m)),d._forceRed(this)},p.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof Fh>"u"||Fh,I2)});var zh=le((mP,_c)=>{(function(){"use strict";var r="input is invalid type",e="finalize already called",t=typeof window=="object",n=t?window:{};n.JS_SHA3_NO_WINDOW&&(t=!1);var i=!t&&typeof self=="object",o=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?n=global:i&&(n=self);var s=!n.JS_SHA3_NO_COMMON_JS&&typeof _c=="object"&&_c.exports,f=typeof define=="function"&&define.amd,h=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",b="0123456789abcdef".split(""),g=[31,7936,2031616,520093696],w=[4,1024,262144,67108864],T=[1,256,65536,16777216],C=[6,1536,393216,100663296],M=[0,8,16,24],k=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],F=[224,256,384,512],I=[128,256],$=["hex","buffer","arrayBuffer","array","digest"],j={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(S){return Object.prototype.toString.call(S)==="[object Array]"}),h&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(S){return typeof S=="object"&&S.buffer&&S.buffer.constructor===ArrayBuffer});for(var H=function(S,z,Y){return function(N){return new m(S,z,S).update(N)[Y]()}},W=function(S,z,Y){return function(N,R){return new m(S,z,R).update(N)[Y]()}},B=function(S,z,Y){return function(N,R,K,G){return a["cshake"+S].update(N,R,K,G)[Y]()}},P=function(S,z,Y){return function(N,R,K,G){return a["kmac"+S].update(N,R,K,G)[Y]()}},L=function(S,z,Y,N){for(var R=0;R<$.length;++R){var K=$[R];S[K]=z(Y,N,K)}return S},ee=function(S,z){var Y=H(S,z,"hex");return Y.create=function(){return new m(S,z,S)},Y.update=function(N){return Y.create().update(N)},L(Y,H,S,z)},E=function(S,z){var Y=W(S,z,"hex");return Y.create=function(N){return new m(S,z,N)},Y.update=function(N,R){return Y.create(R).update(N)},L(Y,W,S,z)},c=function(S,z){var Y=j[S],N=B(S,z,"hex");return N.create=function(R,K,G){return!K&&!G?a["shake"+S].create(R):new m(S,z,R).bytepad([K,G],Y)},N.update=function(R,K,G,Z){return N.create(K,G,Z).update(R)},L(N,B,S,z)},p=function(S,z){var Y=j[S],N=P(S,z,"hex");return N.create=function(R,K,G){return new A(S,z,K).bytepad(["KMAC",G],Y).bytepad([R],Y)},N.update=function(R,K,G,Z){return N.create(R,G,Z).update(K)},L(N,P,S,z)},l=[{name:"keccak",padding:T,bits:F,createMethod:ee},{name:"sha3",padding:C,bits:F,createMethod:ee},{name:"shake",padding:g,bits:I,createMethod:E},{name:"cshake",padding:w,bits:I,createMethod:c},{name:"kmac",padding:w,bits:I,createMethod:p}],a={},u=[],v=0;v<l.length;++v)for(var x=l[v],y=x.bits,d=0;d<y.length;++d){var _=x.name+"_"+y[d];if(u.push(_),a[_]=x.createMethod(y[d],x.padding),x.name!=="sha3"){var D=x.name+y[d];u.push(D),a[D]=a[_]}}function m(S,z,Y){this.blocks=[],this.s=[],this.padding=z,this.outputBits=Y,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(S<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Y>>5,this.extraBytes=(Y&31)>>3;for(var N=0;N<50;++N)this.s[N]=0}m.prototype.update=function(S){if(this.finalized)throw new Error(e);var z,Y=typeof S;if(Y!=="string"){if(Y==="object"){if(S===null)throw new Error(r);if(h&&S.constructor===ArrayBuffer)S=new Uint8Array(S);else if(!Array.isArray(S)&&(!h||!ArrayBuffer.isView(S)))throw new Error(r)}else throw new Error(r);z=!0}for(var N=this.blocks,R=this.byteCount,K=S.length,G=this.blockCount,Z=0,ce=this.s,ie,V;Z<K;){if(this.reset)for(this.reset=!1,N[0]=this.block,ie=1;ie<G+1;++ie)N[ie]=0;if(z)for(ie=this.start;Z<K&&ie<R;++Z)N[ie>>2]|=S[Z]<<M[ie++&3];else for(ie=this.start;Z<K&&ie<R;++Z)V=S.charCodeAt(Z),V<128?N[ie>>2]|=V<<M[ie++&3]:V<2048?(N[ie>>2]|=(192|V>>6)<<M[ie++&3],N[ie>>2]|=(128|V&63)<<M[ie++&3]):V<55296||V>=57344?(N[ie>>2]|=(224|V>>12)<<M[ie++&3],N[ie>>2]|=(128|V>>6&63)<<M[ie++&3],N[ie>>2]|=(128|V&63)<<M[ie++&3]):(V=65536+((V&1023)<<10|S.charCodeAt(++Z)&1023),N[ie>>2]|=(240|V>>18)<<M[ie++&3],N[ie>>2]|=(128|V>>12&63)<<M[ie++&3],N[ie>>2]|=(128|V>>6&63)<<M[ie++&3],N[ie>>2]|=(128|V&63)<<M[ie++&3]);if(this.lastByteIndex=ie,ie>=R){for(this.start=ie-R,this.block=N[G],ie=0;ie<G;++ie)ce[ie]^=N[ie];te(ce),this.reset=!0}else this.start=ie}return this},m.prototype.encode=function(S,z){var Y=S&255,N=1,R=[Y];for(S=S>>8,Y=S&255;Y>0;)R.unshift(Y),S=S>>8,Y=S&255,++N;return z?R.push(N):R.unshift(N),this.update(R),R.length},m.prototype.encodeString=function(S){var z,Y=typeof S;if(Y!=="string"){if(Y==="object"){if(S===null)throw new Error(r);if(h&&S.constructor===ArrayBuffer)S=new Uint8Array(S);else if(!Array.isArray(S)&&(!h||!ArrayBuffer.isView(S)))throw new Error(r)}else throw new Error(r);z=!0}var N=0,R=S.length;if(z)N=R;else for(var K=0;K<S.length;++K){var G=S.charCodeAt(K);G<128?N+=1:G<2048?N+=2:G<55296||G>=57344?N+=3:(G=65536+((G&1023)<<10|S.charCodeAt(++K)&1023),N+=4)}return N+=this.encode(N*8),this.update(S),N},m.prototype.bytepad=function(S,z){for(var Y=this.encode(z),N=0;N<S.length;++N)Y+=this.encodeString(S[N]);var R=z-Y%z,K=[];return K.length=R,this.update(K),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var S=this.blocks,z=this.lastByteIndex,Y=this.blockCount,N=this.s;if(S[z>>2]|=this.padding[z&3],this.lastByteIndex===this.byteCount)for(S[0]=S[Y],z=1;z<Y+1;++z)S[z]=0;for(S[Y-1]|=2147483648,z=0;z<Y;++z)N[z]^=S[z];te(N)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var S=this.blockCount,z=this.s,Y=this.outputBlocks,N=this.extraBytes,R=0,K=0,G="",Z;K<Y;){for(R=0;R<S&&K<Y;++R,++K)Z=z[R],G+=b[Z>>4&15]+b[Z&15]+b[Z>>12&15]+b[Z>>8&15]+b[Z>>20&15]+b[Z>>16&15]+b[Z>>28&15]+b[Z>>24&15];K%S===0&&(te(z),R=0)}return N&&(Z=z[R],G+=b[Z>>4&15]+b[Z&15],N>1&&(G+=b[Z>>12&15]+b[Z>>8&15]),N>2&&(G+=b[Z>>20&15]+b[Z>>16&15])),G},m.prototype.arrayBuffer=function(){this.finalize();var S=this.blockCount,z=this.s,Y=this.outputBlocks,N=this.extraBytes,R=0,K=0,G=this.outputBits>>3,Z;N?Z=new ArrayBuffer(Y+1<<2):Z=new ArrayBuffer(G);for(var ce=new Uint32Array(Z);K<Y;){for(R=0;R<S&&K<Y;++R,++K)ce[K]=z[R];K%S===0&&te(z)}return N&&(ce[R]=z[R],Z=Z.slice(0,G)),Z},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var S=this.blockCount,z=this.s,Y=this.outputBlocks,N=this.extraBytes,R=0,K=0,G=[],Z,ce;K<Y;){for(R=0;R<S&&K<Y;++R,++K)Z=K<<2,ce=z[R],G[Z]=ce&255,G[Z+1]=ce>>8&255,G[Z+2]=ce>>16&255,G[Z+3]=ce>>24&255;K%S===0&&te(z)}return N&&(Z=K<<2,ce=z[R],G[Z]=ce&255,N>1&&(G[Z+1]=ce>>8&255),N>2&&(G[Z+2]=ce>>16&255)),G};function A(S,z,Y){m.call(this,S,z,Y)}A.prototype=new m,A.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var te=function(S){var z,Y,N,R,K,G,Z,ce,ie,V,ue,X,oe,U,re,he,xe,ge,_e,Jt,Q,J,O,q,ne,se,ae,de,Xe,ye,pe,Qe,Ee,Se,Qr,Me,Te,en,ke,Ce,tn,De,Ie,rn,Oe,Ne,nn,Re,Pe,on,Be,Le,sn,Ue,$e,Rr,nt,it,pr,mr,br,gr,vr;for(N=0;N<48;N+=2)R=S[0]^S[10]^S[20]^S[30]^S[40],K=S[1]^S[11]^S[21]^S[31]^S[41],G=S[2]^S[12]^S[22]^S[32]^S[42],Z=S[3]^S[13]^S[23]^S[33]^S[43],ce=S[4]^S[14]^S[24]^S[34]^S[44],ie=S[5]^S[15]^S[25]^S[35]^S[45],V=S[6]^S[16]^S[26]^S[36]^S[46],ue=S[7]^S[17]^S[27]^S[37]^S[47],X=S[8]^S[18]^S[28]^S[38]^S[48],oe=S[9]^S[19]^S[29]^S[39]^S[49],z=X^(G<<1|Z>>>31),Y=oe^(Z<<1|G>>>31),S[0]^=z,S[1]^=Y,S[10]^=z,S[11]^=Y,S[20]^=z,S[21]^=Y,S[30]^=z,S[31]^=Y,S[40]^=z,S[41]^=Y,z=R^(ce<<1|ie>>>31),Y=K^(ie<<1|ce>>>31),S[2]^=z,S[3]^=Y,S[12]^=z,S[13]^=Y,S[22]^=z,S[23]^=Y,S[32]^=z,S[33]^=Y,S[42]^=z,S[43]^=Y,z=G^(V<<1|ue>>>31),Y=Z^(ue<<1|V>>>31),S[4]^=z,S[5]^=Y,S[14]^=z,S[15]^=Y,S[24]^=z,S[25]^=Y,S[34]^=z,S[35]^=Y,S[44]^=z,S[45]^=Y,z=ce^(X<<1|oe>>>31),Y=ie^(oe<<1|X>>>31),S[6]^=z,S[7]^=Y,S[16]^=z,S[17]^=Y,S[26]^=z,S[27]^=Y,S[36]^=z,S[37]^=Y,S[46]^=z,S[47]^=Y,z=V^(R<<1|K>>>31),Y=ue^(K<<1|R>>>31),S[8]^=z,S[9]^=Y,S[18]^=z,S[19]^=Y,S[28]^=z,S[29]^=Y,S[38]^=z,S[39]^=Y,S[48]^=z,S[49]^=Y,U=S[0],re=S[1],Ne=S[11]<<4|S[10]>>>28,nn=S[10]<<4|S[11]>>>28,de=S[20]<<3|S[21]>>>29,Xe=S[21]<<3|S[20]>>>29,mr=S[31]<<9|S[30]>>>23,br=S[30]<<9|S[31]>>>23,De=S[40]<<18|S[41]>>>14,Ie=S[41]<<18|S[40]>>>14,Se=S[2]<<1|S[3]>>>31,Qr=S[3]<<1|S[2]>>>31,he=S[13]<<12|S[12]>>>20,xe=S[12]<<12|S[13]>>>20,Re=S[22]<<10|S[23]>>>22,Pe=S[23]<<10|S[22]>>>22,ye=S[33]<<13|S[32]>>>19,pe=S[32]<<13|S[33]>>>19,gr=S[42]<<2|S[43]>>>30,vr=S[43]<<2|S[42]>>>30,Ue=S[5]<<30|S[4]>>>2,$e=S[4]<<30|S[5]>>>2,Me=S[14]<<6|S[15]>>>26,Te=S[15]<<6|S[14]>>>26,ge=S[25]<<11|S[24]>>>21,_e=S[24]<<11|S[25]>>>21,on=S[34]<<15|S[35]>>>17,Be=S[35]<<15|S[34]>>>17,Qe=S[45]<<29|S[44]>>>3,Ee=S[44]<<29|S[45]>>>3,q=S[6]<<28|S[7]>>>4,ne=S[7]<<28|S[6]>>>4,Rr=S[17]<<23|S[16]>>>9,nt=S[16]<<23|S[17]>>>9,en=S[26]<<25|S[27]>>>7,ke=S[27]<<25|S[26]>>>7,Jt=S[36]<<21|S[37]>>>11,Q=S[37]<<21|S[36]>>>11,Le=S[47]<<24|S[46]>>>8,sn=S[46]<<24|S[47]>>>8,rn=S[8]<<27|S[9]>>>5,Oe=S[9]<<27|S[8]>>>5,se=S[18]<<20|S[19]>>>12,ae=S[19]<<20|S[18]>>>12,it=S[29]<<7|S[28]>>>25,pr=S[28]<<7|S[29]>>>25,Ce=S[38]<<8|S[39]>>>24,tn=S[39]<<8|S[38]>>>24,J=S[48]<<14|S[49]>>>18,O=S[49]<<14|S[48]>>>18,S[0]=U^~he&ge,S[1]=re^~xe&_e,S[10]=q^~se&de,S[11]=ne^~ae&Xe,S[20]=Se^~Me&en,S[21]=Qr^~Te&ke,S[30]=rn^~Ne&Re,S[31]=Oe^~nn&Pe,S[40]=Ue^~Rr&it,S[41]=$e^~nt&pr,S[2]=he^~ge&Jt,S[3]=xe^~_e&Q,S[12]=se^~de&ye,S[13]=ae^~Xe&pe,S[22]=Me^~en&Ce,S[23]=Te^~ke&tn,S[32]=Ne^~Re&on,S[33]=nn^~Pe&Be,S[42]=Rr^~it&mr,S[43]=nt^~pr&br,S[4]=ge^~Jt&J,S[5]=_e^~Q&O,S[14]=de^~ye&Qe,S[15]=Xe^~pe&Ee,S[24]=en^~Ce&De,S[25]=ke^~tn&Ie,S[34]=Re^~on&Le,S[35]=Pe^~Be&sn,S[44]=it^~mr&gr,S[45]=pr^~br&vr,S[6]=Jt^~J&U,S[7]=Q^~O&re,S[16]=ye^~Qe&q,S[17]=pe^~Ee&ne,S[26]=Ce^~De&Se,S[27]=tn^~Ie&Qr,S[36]=on^~Le&rn,S[37]=Be^~sn&Oe,S[46]=mr^~gr&Ue,S[47]=br^~vr&$e,S[8]=J^~U&he,S[9]=O^~re&xe,S[18]=Qe^~q&se,S[19]=Ee^~ne&ae,S[28]=De^~Se&Me,S[29]=Ie^~Qr&Te,S[38]=Le^~rn&Ne,S[39]=sn^~Oe&nn,S[48]=gr^~Ue&Rr,S[49]=vr^~$e&nt,S[0]^=k[N],S[1]^=k[N+1]};if(s)_c.exports=a;else{for(v=0;v<u.length;++v)n[u[v]]=a[u[v]];f&&define(function(){return a})}})()});var ui=le((JP,j2)=>{j2.exports=K2;function K2(r,e){if(!r)throw new Error(e||"Assertion failed")}K2.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}});var Sa=le((VP,Gh)=>{typeof Object.create=="function"?Gh.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Gh.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Jr=le(ft=>{"use strict";var $9=ui(),F9=Sa();ft.inherits=F9;function q9(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function H9(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var n=0,i=0;i<r.length;i++){var o=r.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):q9(r,i)?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}else for(i=0;i<r.length;i++)t[i]=r[i]|0;return t}ft.toArray=H9;function z9(r){for(var e="",t=0;t<r.length;t++)e+=J2(r[t].toString(16));return e}ft.toHex=z9;function G2(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}ft.htonl=G2;function K9(r,e){for(var t="",n=0;n<r.length;n++){var i=r[n];e==="little"&&(i=G2(i)),t+=V2(i.toString(16))}return t}ft.toHex32=K9;function J2(r){return r.length===1?"0"+r:r}ft.zero2=J2;function V2(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}ft.zero8=V2;function j9(r,e,t,n){var i=t-e;$9(i%4===0);for(var o=new Array(i/4),s=0,f=e;s<o.length;s++,f+=4){var h;n==="big"?h=r[f]<<24|r[f+1]<<16|r[f+2]<<8|r[f+3]:h=r[f+3]<<24|r[f+2]<<16|r[f+1]<<8|r[f],o[s]=h>>>0}return o}ft.join32=j9;function G9(r,e){for(var t=new Array(r.length*4),n=0,i=0;n<r.length;n++,i+=4){var o=r[n];e==="big"?(t[i]=o>>>24,t[i+1]=o>>>16&255,t[i+2]=o>>>8&255,t[i+3]=o&255):(t[i+3]=o>>>24,t[i+2]=o>>>16&255,t[i+1]=o>>>8&255,t[i]=o&255)}return t}ft.split32=G9;function J9(r,e){return r>>>e|r<<32-e}ft.rotr32=J9;function V9(r,e){return r<<e|r>>>32-e}ft.rotl32=V9;function Y9(r,e){return r+e>>>0}ft.sum32=Y9;function W9(r,e,t){return r+e+t>>>0}ft.sum32_3=W9;function X9(r,e,t,n){return r+e+t+n>>>0}ft.sum32_4=X9;function Z9(r,e,t,n,i){return r+e+t+n+i>>>0}ft.sum32_5=Z9;function Q9(r,e,t,n){var i=r[e],o=r[e+1],s=n+o>>>0,f=(s<n?1:0)+t+i;r[e]=f>>>0,r[e+1]=s}ft.sum64=Q9;function e7(r,e,t,n){var i=e+n>>>0,o=(i<e?1:0)+r+t;return o>>>0}ft.sum64_hi=e7;function t7(r,e,t,n){var i=e+n;return i>>>0}ft.sum64_lo=t7;function r7(r,e,t,n,i,o,s,f){var h=0,b=e;b=b+n>>>0,h+=b<e?1:0,b=b+o>>>0,h+=b<o?1:0,b=b+f>>>0,h+=b<f?1:0;var g=r+t+i+s+h;return g>>>0}ft.sum64_4_hi=r7;function n7(r,e,t,n,i,o,s,f){var h=e+n+o+f;return h>>>0}ft.sum64_4_lo=n7;function i7(r,e,t,n,i,o,s,f,h,b){var g=0,w=e;w=w+n>>>0,g+=w<e?1:0,w=w+o>>>0,g+=w<o?1:0,w=w+f>>>0,g+=w<f?1:0,w=w+b>>>0,g+=w<b?1:0;var T=r+t+i+s+h+g;return T>>>0}ft.sum64_5_hi=i7;function o7(r,e,t,n,i,o,s,f,h,b){var g=e+n+o+f+b;return g>>>0}ft.sum64_5_lo=o7;function s7(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}ft.rotr64_hi=s7;function a7(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ft.rotr64_lo=a7;function f7(r,e,t){return r>>>t}ft.shr64_hi=f7;function c7(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ft.shr64_lo=c7});var ds=le(W2=>{"use strict";var Y2=Jr(),u7=ui();function Ac(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}W2.BlockHash=Ac;Ac.prototype.update=function(e,t){if(e=Y2.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Y2.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Ac.prototype.digest=function(e){return this.update(this._pad()),u7(this.pending===null),this._digest(e)};Ac.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i}});var Jh=le(Un=>{"use strict";var l7=Jr(),hn=l7.rotr32;function h7(r,e,t,n){if(r===0)return X2(e,t,n);if(r===1||r===3)return Q2(e,t,n);if(r===2)return Z2(e,t,n)}Un.ft_1=h7;function X2(r,e,t){return r&e^~r&t}Un.ch32=X2;function Z2(r,e,t){return r&e^r&t^e&t}Un.maj32=Z2;function Q2(r,e,t){return r^e^t}Un.p32=Q2;function d7(r){return hn(r,2)^hn(r,13)^hn(r,22)}Un.s0_256=d7;function p7(r){return hn(r,6)^hn(r,11)^hn(r,25)}Un.s1_256=p7;function m7(r){return hn(r,7)^hn(r,18)^r>>>3}Un.g0_256=m7;function b7(r){return hn(r,17)^hn(r,19)^r>>>10}Un.g1_256=b7});var r3=le((ZP,t3)=>{"use strict";var ps=Jr(),g7=ds(),v7=Jh(),Vh=ps.rotl32,Ma=ps.sum32,y7=ps.sum32_5,x7=v7.ft_1,e3=g7.BlockHash,w7=[1518500249,1859775393,2400959708,3395469782];function dn(){if(!(this instanceof dn))return new dn;e3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ps.inherits(dn,e3);t3.exports=dn;dn.blockSize=512;dn.outSize=160;dn.hmacStrength=80;dn.padLength=64;dn.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=Vh(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],f=this.h[2],h=this.h[3],b=this.h[4];for(i=0;i<n.length;i++){var g=~~(i/20),w=y7(Vh(o,5),x7(g,s,f,h),b,n[i],w7[g]);b=h,h=f,f=Vh(s,30),s=o,o=w}this.h[0]=Ma(this.h[0],o),this.h[1]=Ma(this.h[1],s),this.h[2]=Ma(this.h[2],f),this.h[3]=Ma(this.h[3],h),this.h[4]=Ma(this.h[4],b)};dn.prototype._digest=function(e){return e==="hex"?ps.toHex32(this.h,"big"):ps.split32(this.h,"big")}});var Yh=le((QP,i3)=>{"use strict";var ms=Jr(),E7=ds(),bs=Jh(),_7=ui(),Vr=ms.sum32,A7=ms.sum32_4,S7=ms.sum32_5,M7=bs.ch32,T7=bs.maj32,k7=bs.s0_256,C7=bs.s1_256,D7=bs.g0_256,I7=bs.g1_256,n3=E7.BlockHash,O7=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pn(){if(!(this instanceof pn))return new pn;n3.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=O7,this.W=new Array(64)}ms.inherits(pn,n3);i3.exports=pn;pn.blockSize=512;pn.outSize=256;pn.hmacStrength=192;pn.padLength=64;pn.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=A7(I7(n[i-2]),n[i-7],D7(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],f=this.h[2],h=this.h[3],b=this.h[4],g=this.h[5],w=this.h[6],T=this.h[7];for(_7(this.k.length===n.length),i=0;i<n.length;i++){var C=S7(T,C7(b),M7(b,g,w),this.k[i],n[i]),M=Vr(k7(o),T7(o,s,f));T=w,w=g,g=b,b=Vr(h,C),h=f,f=s,s=o,o=Vr(C,M)}this.h[0]=Vr(this.h[0],o),this.h[1]=Vr(this.h[1],s),this.h[2]=Vr(this.h[2],f),this.h[3]=Vr(this.h[3],h),this.h[4]=Vr(this.h[4],b),this.h[5]=Vr(this.h[5],g),this.h[6]=Vr(this.h[6],w),this.h[7]=Vr(this.h[7],T)};pn.prototype._digest=function(e){return e==="hex"?ms.toHex32(this.h,"big"):ms.split32(this.h,"big")}});var a3=le((eB,s3)=>{"use strict";var Wh=Jr(),o3=Yh();function $n(){if(!(this instanceof $n))return new $n;o3.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Wh.inherits($n,o3);s3.exports=$n;$n.blockSize=512;$n.outSize=224;$n.hmacStrength=192;$n.padLength=64;$n.prototype._digest=function(e){return e==="hex"?Wh.toHex32(this.h.slice(0,7),"big"):Wh.split32(this.h.slice(0,7),"big")}});var Qh=le((tB,l3)=>{"use strict";var Zt=Jr(),N7=ds(),R7=ui(),mn=Zt.rotr64_hi,bn=Zt.rotr64_lo,f3=Zt.shr64_hi,c3=Zt.shr64_lo,li=Zt.sum64,Xh=Zt.sum64_hi,Zh=Zt.sum64_lo,P7=Zt.sum64_4_hi,B7=Zt.sum64_4_lo,L7=Zt.sum64_5_hi,U7=Zt.sum64_5_lo,u3=N7.BlockHash,$7=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Yr(){if(!(this instanceof Yr))return new Yr;u3.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=$7,this.W=new Array(160)}Zt.inherits(Yr,u3);l3.exports=Yr;Yr.blockSize=1024;Yr.outSize=512;Yr.hmacStrength=192;Yr.padLength=128;Yr.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var o=W7(n[i-4],n[i-3]),s=X7(n[i-4],n[i-3]),f=n[i-14],h=n[i-13],b=V7(n[i-30],n[i-29]),g=Y7(n[i-30],n[i-29]),w=n[i-32],T=n[i-31];n[i]=P7(o,s,f,h,b,g,w,T),n[i+1]=B7(o,s,f,h,b,g,w,T)}};Yr.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],f=this.h[3],h=this.h[4],b=this.h[5],g=this.h[6],w=this.h[7],T=this.h[8],C=this.h[9],M=this.h[10],k=this.h[11],F=this.h[12],I=this.h[13],$=this.h[14],j=this.h[15];R7(this.k.length===n.length);for(var H=0;H<n.length;H+=2){var W=$,B=j,P=G7(T,C),L=J7(T,C),ee=F7(T,C,M,k,F,I),E=q7(T,C,M,k,F,I),c=this.k[H],p=this.k[H+1],l=n[H],a=n[H+1],u=L7(W,B,P,L,ee,E,c,p,l,a),v=U7(W,B,P,L,ee,E,c,p,l,a);W=K7(i,o),B=j7(i,o),P=H7(i,o,s,f,h,b),L=z7(i,o,s,f,h,b);var x=Xh(W,B,P,L),y=Zh(W,B,P,L);$=F,j=I,F=M,I=k,M=T,k=C,T=Xh(g,w,u,v),C=Zh(w,w,u,v),g=h,w=b,h=s,b=f,s=i,f=o,i=Xh(u,v,x,y),o=Zh(u,v,x,y)}li(this.h,0,i,o),li(this.h,2,s,f),li(this.h,4,h,b),li(this.h,6,g,w),li(this.h,8,T,C),li(this.h,10,M,k),li(this.h,12,F,I),li(this.h,14,$,j)};Yr.prototype._digest=function(e){return e==="hex"?Zt.toHex32(this.h,"big"):Zt.split32(this.h,"big")};function F7(r,e,t,n,i){var o=r&t^~r&i;return o<0&&(o+=4294967296),o}function q7(r,e,t,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function H7(r,e,t,n,i){var o=r&t^r&i^t&i;return o<0&&(o+=4294967296),o}function z7(r,e,t,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function K7(r,e){var t=mn(r,e,28),n=mn(e,r,2),i=mn(e,r,7),o=t^n^i;return o<0&&(o+=4294967296),o}function j7(r,e){var t=bn(r,e,28),n=bn(e,r,2),i=bn(e,r,7),o=t^n^i;return o<0&&(o+=4294967296),o}function G7(r,e){var t=mn(r,e,14),n=mn(r,e,18),i=mn(e,r,9),o=t^n^i;return o<0&&(o+=4294967296),o}function J7(r,e){var t=bn(r,e,14),n=bn(r,e,18),i=bn(e,r,9),o=t^n^i;return o<0&&(o+=4294967296),o}function V7(r,e){var t=mn(r,e,1),n=mn(r,e,8),i=f3(r,e,7),o=t^n^i;return o<0&&(o+=4294967296),o}function Y7(r,e){var t=bn(r,e,1),n=bn(r,e,8),i=c3(r,e,7),o=t^n^i;return o<0&&(o+=4294967296),o}function W7(r,e){var t=mn(r,e,19),n=mn(e,r,29),i=f3(r,e,6),o=t^n^i;return o<0&&(o+=4294967296),o}function X7(r,e){var t=bn(r,e,19),n=bn(e,r,29),i=c3(r,e,6),o=t^n^i;return o<0&&(o+=4294967296),o}});var p3=le((rB,d3)=>{"use strict";var ed=Jr(),h3=Qh();function Fn(){if(!(this instanceof Fn))return new Fn;h3.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ed.inherits(Fn,h3);d3.exports=Fn;Fn.blockSize=1024;Fn.outSize=384;Fn.hmacStrength=192;Fn.padLength=128;Fn.prototype._digest=function(e){return e==="hex"?ed.toHex32(this.h.slice(0,12),"big"):ed.split32(this.h.slice(0,12),"big")}});var m3=le(gs=>{"use strict";gs.sha1=r3();gs.sha224=a3();gs.sha256=Yh();gs.sha384=p3();gs.sha512=Qh()});var w3=le(x3=>{"use strict";var fo=Jr(),Z7=ds(),Sc=fo.rotl32,b3=fo.sum32,Ta=fo.sum32_3,g3=fo.sum32_4,y3=Z7.BlockHash;function gn(){if(!(this instanceof gn))return new gn;y3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}fo.inherits(gn,y3);x3.ripemd160=gn;gn.blockSize=512;gn.outSize=160;gn.hmacStrength=192;gn.padLength=64;gn.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],f=this.h[4],h=n,b=i,g=o,w=s,T=f,C=0;C<80;C++){var M=b3(Sc(g3(n,v3(C,i,o,s),e[tE[C]+t],Q7(C)),nE[C]),f);n=f,f=s,s=Sc(o,10),o=i,i=M,M=b3(Sc(g3(h,v3(79-C,b,g,w),e[rE[C]+t],eE(C)),iE[C]),T),h=T,T=w,w=Sc(g,10),g=b,b=M}M=Ta(this.h[1],o,w),this.h[1]=Ta(this.h[2],s,T),this.h[2]=Ta(this.h[3],f,h),this.h[3]=Ta(this.h[4],n,b),this.h[4]=Ta(this.h[0],i,g),this.h[0]=M};gn.prototype._digest=function(e){return e==="hex"?fo.toHex32(this.h,"little"):fo.split32(this.h,"little")};function v3(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function Q7(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function eE(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var tE=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rE=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],nE=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],iE=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var _3=le((oB,E3)=>{"use strict";var oE=Jr(),sE=ui();function vs(r,e,t){if(!(this instanceof vs))return new vs(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(oE.toArray(e,t))}E3.exports=vs;vs.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),sE(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};vs.prototype.update=function(e,t){return this.inner.update(e,t),this};vs.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var ka=le(A3=>{var Ot=A3;Ot.utils=Jr();Ot.common=ds();Ot.sha=m3();Ot.ripemd=w3();Ot.hmac=_3();Ot.sha1=Ot.sha.sha1;Ot.sha256=Ot.sha.sha256;Ot.sha224=Ot.sha.sha224;Ot.sha384=Ot.sha.sha384;Ot.sha512=Ot.sha.sha512;Ot.ripemd160=Ot.ripemd.ripemd160});var $3=le(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});var ws=ro(),xs=Sr();qn.DIGEST_LENGTH=64;qn.BLOCK_SIZE=128;var U3=function(){function r(){this.digestLength=qn.DIGEST_LENGTH,this.blockSize=qn.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){xs.wipe(this._buffer),xs.wipe(this._tempHi),xs.wipe(this._tempLo),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<qn.BLOCK_SIZE&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(hd(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=hd(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,i=t/536870912|0,o=t<<3,s=t%128<112?128:256;this._buffer[n]=128;for(var f=n+1;f<s-8;f++)this._buffer[f]=0;ws.writeUint32BE(i,this._buffer,s-8),ws.writeUint32BE(o,this._buffer,s-4),hd(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(var f=0;f<this.digestLength/8;f++)ws.writeUint32BE(this._stateHi[f],e,f*8),ws.writeUint32BE(this._stateLo[f],e,f*8+4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){xs.wipe(e.stateHi),xs.wipe(e.stateLo),e.buffer&&xs.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();qn.SHA512=U3;var L3=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function hd(r,e,t,n,i,o,s){for(var f=t[0],h=t[1],b=t[2],g=t[3],w=t[4],T=t[5],C=t[6],M=t[7],k=n[0],F=n[1],I=n[2],$=n[3],j=n[4],H=n[5],W=n[6],B=n[7],P,L,ee,E,c,p,l,a;s>=128;){for(var u=0;u<16;u++){var v=8*u+o;r[u]=ws.readUint32BE(i,v),e[u]=ws.readUint32BE(i,v+4)}for(var u=0;u<80;u++){var x=f,y=h,d=b,_=g,D=w,m=T,A=C,te=M,S=k,z=F,Y=I,N=$,R=j,K=H,G=W,Z=B;if(P=M,L=B,c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=(w>>>14|j<<32-14)^(w>>>18|j<<32-18)^(j>>>41-32|w<<32-(41-32)),L=(j>>>14|w<<32-14)^(j>>>18|w<<32-18)^(w>>>41-32|j<<32-(41-32)),c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,P=w&T^~w&C,L=j&H^~j&W,c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,P=L3[u*2],L=L3[u*2+1],c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,P=r[u%16],L=e[u%16],c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,ee=l&65535|a<<16,E=c&65535|p<<16,P=ee,L=E,c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=(f>>>28|k<<32-28)^(k>>>34-32|f<<32-(34-32))^(k>>>39-32|f<<32-(39-32)),L=(k>>>28|f<<32-28)^(f>>>34-32|k<<32-(34-32))^(f>>>39-32|k<<32-(39-32)),c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,P=f&h^f&b^h&b,L=k&F^k&I^F&I,c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,te=l&65535|a<<16,Z=c&65535|p<<16,P=_,L=N,c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=ee,L=E,c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,_=l&65535|a<<16,N=c&65535|p<<16,h=x,b=y,g=d,w=_,T=D,C=m,M=A,f=te,F=S,I=z,$=Y,j=N,H=R,W=K,B=G,k=Z,u%16===15)for(var v=0;v<16;v++)P=r[v],L=e[v],c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=r[(v+9)%16],L=e[(v+9)%16],c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,ee=r[(v+1)%16],E=e[(v+1)%16],P=(ee>>>1|E<<32-1)^(ee>>>8|E<<32-8)^ee>>>7,L=(E>>>1|ee<<32-1)^(E>>>8|ee<<32-8)^(E>>>7|ee<<32-7),c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,ee=r[(v+14)%16],E=e[(v+14)%16],P=(ee>>>19|E<<32-19)^(E>>>61-32|ee<<32-(61-32))^ee>>>6,L=(E>>>19|ee<<32-19)^(ee>>>61-32|E<<32-(61-32))^(E>>>6|ee<<32-6),c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,r[v]=l&65535|a<<16,e[v]=c&65535|p<<16}P=f,L=k,c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=t[0],L=n[0],c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,t[0]=f=l&65535|a<<16,n[0]=k=c&65535|p<<16,P=h,L=F,c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=t[1],L=n[1],c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,t[1]=h=l&65535|a<<16,n[1]=F=c&65535|p<<16,P=b,L=I,c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=t[2],L=n[2],c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,t[2]=b=l&65535|a<<16,n[2]=I=c&65535|p<<16,P=g,L=$,c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=t[3],L=n[3],c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,t[3]=g=l&65535|a<<16,n[3]=$=c&65535|p<<16,P=w,L=j,c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=t[4],L=n[4],c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,t[4]=w=l&65535|a<<16,n[4]=j=c&65535|p<<16,P=T,L=H,c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=t[5],L=n[5],c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,t[5]=T=l&65535|a<<16,n[5]=H=c&65535|p<<16,P=C,L=W,c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=t[6],L=n[6],c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,t[6]=C=l&65535|a<<16,n[6]=W=c&65535|p<<16,P=M,L=B,c=L&65535,p=L>>>16,l=P&65535,a=P>>>16,P=t[7],L=n[7],c+=L&65535,p+=L>>>16,l+=P&65535,a+=P>>>16,p+=c>>>16,l+=p>>>16,a+=l>>>16,t[7]=M=l&65535|a<<16,n[7]=B=c&65535|p<<16,o+=128,s-=128}return o}function bE(r){var e=new U3;e.update(r);var t=e.digest();return e.clean(),t}qn.hash=bE});var Oc=le(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.convertSecretKeyToX25519=rt.convertPublicKeyToX25519=rt.verify=rt.sign=rt.extractPublicKeyFromSecretKey=rt.generateKeyPair=rt.generateKeyPairFromSeed=rt.SEED_LENGTH=rt.SECRET_KEY_LENGTH=rt.PUBLIC_KEY_LENGTH=rt.SIGNATURE_LENGTH=void 0;var gE=no(),Ca=$3(),K3=Sr();rt.SIGNATURE_LENGTH=64;rt.PUBLIC_KEY_LENGTH=32;rt.SECRET_KEY_LENGTH=64;rt.SEED_LENGTH=32;function we(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var vE=new Uint8Array(32);vE[0]=9;var md=we(),Es=we([1]),yE=we([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),xE=we([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),F3=we([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),q3=we([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),wE=we([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function pi(r,e){for(let t=0;t<16;t++)r[t]=e[t]|0}function dd(r){let e=1;for(let t=0;t<16;t++){let n=r[t]+e+65535;e=Math.floor(n/65536),r[t]=n-e*65536}r[0]+=e-1+37*(e-1)}function j3(r,e,t){let n=~(t-1);for(let i=0;i<16;i++){let o=n&(r[i]^e[i]);r[i]^=o,e[i]^=o}}function Da(r,e){let t=we(),n=we();for(let i=0;i<16;i++)n[i]=e[i];dd(n),dd(n),dd(n);for(let i=0;i<2;i++){t[0]=n[0]-65517;for(let s=1;s<15;s++)t[s]=n[s]-65535-(t[s-1]>>16&1),t[s-1]&=65535;t[15]=n[15]-32767-(t[14]>>16&1);let o=t[15]>>16&1;t[14]&=65535,j3(n,t,1-o)}for(let i=0;i<16;i++)r[2*i]=n[i]&255,r[2*i+1]=n[i]>>8}function G3(r,e){let t=0;for(let n=0;n<32;n++)t|=r[n]^e[n];return(1&t-1>>>8)-1}function H3(r,e){let t=new Uint8Array(32),n=new Uint8Array(32);return Da(t,r),Da(n,e),G3(t,n)}function J3(r){let e=new Uint8Array(32);return Da(e,r),e[0]&1}function EE(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function uo(r,e,t){for(let n=0;n<16;n++)r[n]=e[n]+t[n]}function ho(r,e,t){for(let n=0;n<16;n++)r[n]=e[n]-t[n]}function st(r,e,t){let n,i,o=0,s=0,f=0,h=0,b=0,g=0,w=0,T=0,C=0,M=0,k=0,F=0,I=0,$=0,j=0,H=0,W=0,B=0,P=0,L=0,ee=0,E=0,c=0,p=0,l=0,a=0,u=0,v=0,x=0,y=0,d=0,_=t[0],D=t[1],m=t[2],A=t[3],te=t[4],S=t[5],z=t[6],Y=t[7],N=t[8],R=t[9],K=t[10],G=t[11],Z=t[12],ce=t[13],ie=t[14],V=t[15];n=e[0],o+=n*_,s+=n*D,f+=n*m,h+=n*A,b+=n*te,g+=n*S,w+=n*z,T+=n*Y,C+=n*N,M+=n*R,k+=n*K,F+=n*G,I+=n*Z,$+=n*ce,j+=n*ie,H+=n*V,n=e[1],s+=n*_,f+=n*D,h+=n*m,b+=n*A,g+=n*te,w+=n*S,T+=n*z,C+=n*Y,M+=n*N,k+=n*R,F+=n*K,I+=n*G,$+=n*Z,j+=n*ce,H+=n*ie,W+=n*V,n=e[2],f+=n*_,h+=n*D,b+=n*m,g+=n*A,w+=n*te,T+=n*S,C+=n*z,M+=n*Y,k+=n*N,F+=n*R,I+=n*K,$+=n*G,j+=n*Z,H+=n*ce,W+=n*ie,B+=n*V,n=e[3],h+=n*_,b+=n*D,g+=n*m,w+=n*A,T+=n*te,C+=n*S,M+=n*z,k+=n*Y,F+=n*N,I+=n*R,$+=n*K,j+=n*G,H+=n*Z,W+=n*ce,B+=n*ie,P+=n*V,n=e[4],b+=n*_,g+=n*D,w+=n*m,T+=n*A,C+=n*te,M+=n*S,k+=n*z,F+=n*Y,I+=n*N,$+=n*R,j+=n*K,H+=n*G,W+=n*Z,B+=n*ce,P+=n*ie,L+=n*V,n=e[5],g+=n*_,w+=n*D,T+=n*m,C+=n*A,M+=n*te,k+=n*S,F+=n*z,I+=n*Y,$+=n*N,j+=n*R,H+=n*K,W+=n*G,B+=n*Z,P+=n*ce,L+=n*ie,ee+=n*V,n=e[6],w+=n*_,T+=n*D,C+=n*m,M+=n*A,k+=n*te,F+=n*S,I+=n*z,$+=n*Y,j+=n*N,H+=n*R,W+=n*K,B+=n*G,P+=n*Z,L+=n*ce,ee+=n*ie,E+=n*V,n=e[7],T+=n*_,C+=n*D,M+=n*m,k+=n*A,F+=n*te,I+=n*S,$+=n*z,j+=n*Y,H+=n*N,W+=n*R,B+=n*K,P+=n*G,L+=n*Z,ee+=n*ce,E+=n*ie,c+=n*V,n=e[8],C+=n*_,M+=n*D,k+=n*m,F+=n*A,I+=n*te,$+=n*S,j+=n*z,H+=n*Y,W+=n*N,B+=n*R,P+=n*K,L+=n*G,ee+=n*Z,E+=n*ce,c+=n*ie,p+=n*V,n=e[9],M+=n*_,k+=n*D,F+=n*m,I+=n*A,$+=n*te,j+=n*S,H+=n*z,W+=n*Y,B+=n*N,P+=n*R,L+=n*K,ee+=n*G,E+=n*Z,c+=n*ce,p+=n*ie,l+=n*V,n=e[10],k+=n*_,F+=n*D,I+=n*m,$+=n*A,j+=n*te,H+=n*S,W+=n*z,B+=n*Y,P+=n*N,L+=n*R,ee+=n*K,E+=n*G,c+=n*Z,p+=n*ce,l+=n*ie,a+=n*V,n=e[11],F+=n*_,I+=n*D,$+=n*m,j+=n*A,H+=n*te,W+=n*S,B+=n*z,P+=n*Y,L+=n*N,ee+=n*R,E+=n*K,c+=n*G,p+=n*Z,l+=n*ce,a+=n*ie,u+=n*V,n=e[12],I+=n*_,$+=n*D,j+=n*m,H+=n*A,W+=n*te,B+=n*S,P+=n*z,L+=n*Y,ee+=n*N,E+=n*R,c+=n*K,p+=n*G,l+=n*Z,a+=n*ce,u+=n*ie,v+=n*V,n=e[13],$+=n*_,j+=n*D,H+=n*m,W+=n*A,B+=n*te,P+=n*S,L+=n*z,ee+=n*Y,E+=n*N,c+=n*R,p+=n*K,l+=n*G,a+=n*Z,u+=n*ce,v+=n*ie,x+=n*V,n=e[14],j+=n*_,H+=n*D,W+=n*m,B+=n*A,P+=n*te,L+=n*S,ee+=n*z,E+=n*Y,c+=n*N,p+=n*R,l+=n*K,a+=n*G,u+=n*Z,v+=n*ce,x+=n*ie,y+=n*V,n=e[15],H+=n*_,W+=n*D,B+=n*m,P+=n*A,L+=n*te,ee+=n*S,E+=n*z,c+=n*Y,p+=n*N,l+=n*R,a+=n*K,u+=n*G,v+=n*Z,x+=n*ce,y+=n*ie,d+=n*V,o+=38*W,s+=38*B,f+=38*P,h+=38*L,b+=38*ee,g+=38*E,w+=38*c,T+=38*p,C+=38*l,M+=38*a,k+=38*u,F+=38*v,I+=38*x,$+=38*y,j+=38*d,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=F+i+65535,i=Math.floor(n/65536),F=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=$+i+65535,i=Math.floor(n/65536),$=n-i*65536,n=j+i+65535,i=Math.floor(n/65536),j=n-i*65536,n=H+i+65535,i=Math.floor(n/65536),H=n-i*65536,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=F+i+65535,i=Math.floor(n/65536),F=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=$+i+65535,i=Math.floor(n/65536),$=n-i*65536,n=j+i+65535,i=Math.floor(n/65536),j=n-i*65536,n=H+i+65535,i=Math.floor(n/65536),H=n-i*65536,o+=i-1+37*(i-1),r[0]=o,r[1]=s,r[2]=f,r[3]=h,r[4]=b,r[5]=g,r[6]=w,r[7]=T,r[8]=C,r[9]=M,r[10]=k,r[11]=F,r[12]=I,r[13]=$,r[14]=j,r[15]=H}function lo(r,e){st(r,e,e)}function V3(r,e){let t=we(),n;for(n=0;n<16;n++)t[n]=e[n];for(n=253;n>=0;n--)lo(t,t),n!==2&&n!==4&&st(t,t,e);for(n=0;n<16;n++)r[n]=t[n]}function _E(r,e){let t=we(),n;for(n=0;n<16;n++)t[n]=e[n];for(n=250;n>=0;n--)lo(t,t),n!==1&&st(t,t,e);for(n=0;n<16;n++)r[n]=t[n]}function bd(r,e){let t=we(),n=we(),i=we(),o=we(),s=we(),f=we(),h=we(),b=we(),g=we();ho(t,r[1],r[0]),ho(g,e[1],e[0]),st(t,t,g),uo(n,r[0],r[1]),uo(g,e[0],e[1]),st(n,n,g),st(i,r[3],e[3]),st(i,i,xE),st(o,r[2],e[2]),uo(o,o,o),ho(s,n,t),ho(f,o,i),uo(h,o,i),uo(b,n,t),st(r[0],s,f),st(r[1],b,h),st(r[2],h,f),st(r[3],s,b)}function z3(r,e,t){for(let n=0;n<4;n++)j3(r[n],e[n],t)}function vd(r,e){let t=we(),n=we(),i=we();V3(i,e[2]),st(t,e[0],i),st(n,e[1],i),Da(r,n),r[31]^=J3(t)<<7}function Y3(r,e,t){pi(r[0],md),pi(r[1],Es),pi(r[2],Es),pi(r[3],md);for(let n=255;n>=0;--n){let i=t[n/8|0]>>(n&7)&1;z3(r,e,i),bd(e,r),bd(r,r),z3(r,e,i)}}function yd(r,e){let t=[we(),we(),we(),we()];pi(t[0],F3),pi(t[1],q3),pi(t[2],Es),st(t[3],F3,q3),Y3(r,t,e)}function W3(r){if(r.length!==rt.SEED_LENGTH)throw new Error(`ed25519: seed must be ${rt.SEED_LENGTH} bytes`);let e=(0,Ca.hash)(r);e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(32),n=[we(),we(),we(),we()];yd(n,e),vd(t,n);let i=new Uint8Array(64);return i.set(r),i.set(t,32),{publicKey:t,secretKey:i}}rt.generateKeyPairFromSeed=W3;function AE(r){let e=(0,gE.randomBytes)(32,r),t=W3(e);return(0,K3.wipe)(e),t}rt.generateKeyPair=AE;function SE(r){if(r.length!==rt.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${rt.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(r.subarray(32))}rt.extractPublicKeyFromSecretKey=SE;var pd=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function X3(r,e){let t,n,i,o;for(n=63;n>=32;--n){for(t=0,i=n-32,o=n-12;i<o;++i)e[i]+=t-16*e[n]*pd[i-(n-32)],t=Math.floor((e[i]+128)/256),e[i]-=t*256;e[i]+=t,e[n]=0}for(t=0,i=0;i<32;i++)e[i]+=t-(e[31]>>4)*pd[i],t=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=t*pd[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,r[n]=e[n]&255}function gd(r){let e=new Float64Array(64);for(let t=0;t<64;t++)e[t]=r[t];for(let t=0;t<64;t++)r[t]=0;X3(r,e)}function ME(r,e){let t=new Float64Array(64),n=[we(),we(),we(),we()],i=(0,Ca.hash)(r.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;let o=new Uint8Array(64);o.set(i.subarray(32),32);let s=new Ca.SHA512;s.update(o.subarray(32)),s.update(e);let f=s.digest();s.clean(),gd(f),yd(n,f),vd(o,n),s.reset(),s.update(o.subarray(0,32)),s.update(r.subarray(32)),s.update(e);let h=s.digest();gd(h);for(let b=0;b<32;b++)t[b]=f[b];for(let b=0;b<32;b++)for(let g=0;g<32;g++)t[b+g]+=h[b]*i[g];return X3(o.subarray(32),t),o}rt.sign=ME;function Z3(r,e){let t=we(),n=we(),i=we(),o=we(),s=we(),f=we(),h=we();return pi(r[2],Es),EE(r[1],e),lo(i,r[1]),st(o,i,yE),ho(i,i,r[2]),uo(o,r[2],o),lo(s,o),lo(f,s),st(h,f,s),st(t,h,i),st(t,t,o),_E(t,t),st(t,t,i),st(t,t,o),st(t,t,o),st(r[0],t,o),lo(n,r[0]),st(n,n,o),H3(n,i)&&st(r[0],r[0],wE),lo(n,r[0]),st(n,n,o),H3(n,i)?-1:(J3(r[0])===e[31]>>7&&ho(r[0],md,r[0]),st(r[3],r[0],r[1]),0)}function TE(r,e,t){let n=new Uint8Array(32),i=[we(),we(),we(),we()],o=[we(),we(),we(),we()];if(t.length!==rt.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${rt.SIGNATURE_LENGTH} bytes`);if(Z3(o,r))return!1;let s=new Ca.SHA512;s.update(t.subarray(0,32)),s.update(r),s.update(e);let f=s.digest();return gd(f),Y3(i,o,f),yd(o,t.subarray(32)),bd(i,o),vd(n,i),!G3(t,n)}rt.verify=TE;function kE(r){let e=[we(),we(),we(),we()];if(Z3(e,r))throw new Error("Ed25519: invalid public key");let t=we(),n=we(),i=e[1];uo(t,Es,i),ho(n,Es,i),V3(n,n),st(t,t,n);let o=new Uint8Array(32);return Da(o,t),o}rt.convertPublicKeyToX25519=kE;function CE(r){let e=(0,Ca.hash)(r.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(e.subarray(0,32));return(0,K3.wipe)(e),t}rt.convertSecretKeyToX25519=CE});var ug=le((hL,cg)=>{"use strict";function s_(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=r.length,f=r.charAt(0),h=Math.log(s)/Math.log(256),b=Math.log(256)/Math.log(s);function g(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var M=0,k=0,F=0,I=C.length;F!==I&&C[F]===0;)F++,M++;for(var $=(I-F)*b+1>>>0,j=new Uint8Array($);F!==I;){for(var H=C[F],W=0,B=$-1;(H!==0||W<k)&&B!==-1;B--,W++)H+=256*j[B]>>>0,j[B]=H%s>>>0,H=H/s>>>0;if(H!==0)throw new Error("Non-zero carry");k=W,F++}for(var P=$-k;P!==$&&j[P]===0;)P++;for(var L=f.repeat(M);P<$;++P)L+=r.charAt(j[P]);return L}function w(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var M=0;if(C[M]!==" "){for(var k=0,F=0;C[M]===f;)k++,M++;for(var I=(C.length-M)*h+1>>>0,$=new Uint8Array(I);C[M];){var j=e[C.charCodeAt(M)];if(j===255)return;for(var H=0,W=I-1;(j!==0||H<F)&&W!==-1;W--,H++)j+=s*$[W]>>>0,$[W]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");F=H,M++}if(C[M]!==" "){for(var B=I-F;B!==I&&$[B]===0;)B++;for(var P=new Uint8Array(k+(I-B)),L=k;B!==I;)P[L++]=$[B++];return P}}}function T(C){var M=w(C);if(M)return M;throw new Error("Non-base"+s+" character")}return{encode:g,decodeUnsafe:w,decode:T}}cg.exports=s_});var zc=le((dL,lg)=>{"use strict";var a_=new TextDecoder,f_=r=>a_.decode(r),c_=new TextEncoder,u_=r=>c_.encode(r);function l_(r,e){let t=new Uint8Array(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return t}lg.exports={decodeText:f_,encodeText:u_,concat:l_}});var dg=le((pL,hg)=>{"use strict";var{encodeText:h_}=zc(),Id=class{constructor(e,t,n,i){this.name=e,this.code=t,this.codeBuf=h_(this.code),this.alphabet=i,this.codec=n(i)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};hg.exports=Id});var mg=le((mL,pg)=>{"use strict";var d_=(r,e,t)=>{let n={};for(let b=0;b<e.length;++b)n[e[b]]=b;let i=r.length;for(;r[i-1]==="=";)--i;let o=new Uint8Array(i*t/8|0),s=0,f=0,h=0;for(let b=0;b<i;++b){let g=n[r[b]];if(g===void 0)throw new SyntaxError("Invalid character "+r[b]);f=f<<t|g,s+=t,s>=8&&(s-=8,o[h++]=255&f>>s)}if(s>=t||255&f<<8-s)throw new SyntaxError("Unexpected end of data");return o},p_=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,o="",s=0,f=0;for(let h=0;h<r.length;++h)for(f=f<<8|r[h],s+=8;s>t;)s-=t,o+=e[i&f>>s];if(s&&(o+=e[i&f<<t-s]),n)for(;o.length*t&7;)o+="=";return o},m_=r=>e=>({encode(t){return p_(t,e,r)},decode(t){return d_(t,e,r)}});pg.exports={rfc4648:m_}});var yg=le((bL,vg)=>{"use strict";var Ra=ug(),b_=dg(),{rfc4648:Pt}=mg(),{decodeText:g_,encodeText:v_}=zc(),y_=()=>({encode:g_,decode:v_}),bg=[["identity","\0",y_,""],["base2","0",Pt(1),"01"],["base8","7",Pt(3),"01234567"],["base10","9",Ra,"0123456789"],["base16","f",Pt(4),"0123456789abcdef"],["base16upper","F",Pt(4),"0123456789ABCDEF"],["base32hex","v",Pt(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",Pt(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",Pt(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",Pt(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",Pt(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",Pt(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",Pt(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",Pt(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",Pt(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Ra,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Ra,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Ra,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Ra,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",Pt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Pt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Pt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Pt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],gg=bg.reduce((r,e)=>(r[e[0]]=new b_(e[0],e[1],e[2],e[3]),r),{}),x_=bg.reduce((r,e)=>(r[e[1]]=gg[e[0]],r),{});vg.exports={names:gg,codes:x_}});var Eg=le((Hn,wg)=>{"use strict";var Ss=yg(),{encodeText:w_,decodeText:Kc,concat:xg}=zc();function E_(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:n}=go(r);return M_(t,e),xg([n,e],n.length+e.length)}function __(r,e){let t=go(r),n=w_(t.encode(e));return xg([t.codeBuf,n],t.codeBuf.length+n.length)}function A_(r){r instanceof Uint8Array&&(r=Kc(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),go(r[0]).decode(r.substring(1))}function S_(r){if(r instanceof Uint8Array&&(r=Kc(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return go(r[0]).name}catch{return!1}}function M_(r,e){go(r).decode(Kc(e))}function go(r){if(Object.prototype.hasOwnProperty.call(Ss.names,r))return Ss.names[r];if(Object.prototype.hasOwnProperty.call(Ss.codes,r))return Ss.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function T_(r){return r instanceof Uint8Array&&(r=Kc(r)),go(r[0])}Hn=wg.exports=E_;Hn.encode=__;Hn.decode=A_;Hn.isEncoded=S_;Hn.encoding=go;Hn.encodingFromData=T_;var k_=Object.freeze(Ss.names),C_=Object.freeze(Ss.codes);Hn.names=k_;Hn.codes=C_});var Mg=le((gL,Sg)=>{Sg.exports=Ag;var _g=128,D_=127,I_=~D_,O_=Math.pow(2,31);function Ag(r,e,t){e=e||[],t=t||0;for(var n=t;r>=O_;)e[t++]=r&255|_g,r/=128;for(;r&I_;)e[t++]=r&255|_g,r>>>=7;return e[t]=r|0,Ag.bytes=t-n+1,e}});var Cg=le((vL,kg)=>{kg.exports=Od;var N_=128,Tg=127;function Od(r,n){var t=0,n=n||0,i=0,o=n,s,f=r.length;do{if(o>=f)throw Od.bytes=0,new RangeError("Could not decode varint");s=r[o++],t+=i<28?(s&Tg)<<i:(s&Tg)*Math.pow(2,i),i+=7}while(s>=N_);return Od.bytes=o-n,t}});var Ig=le((yL,Dg)=>{var R_=Math.pow(2,7),P_=Math.pow(2,14),B_=Math.pow(2,21),L_=Math.pow(2,28),U_=Math.pow(2,35),$_=Math.pow(2,42),F_=Math.pow(2,49),q_=Math.pow(2,56),H_=Math.pow(2,63);Dg.exports=function(r){return r<R_?1:r<P_?2:r<B_?3:r<L_?4:r<U_?5:r<$_?6:r<F_?7:r<q_?8:r<H_?9:10}});var Ng=le((xL,Og)=>{Og.exports={encode:Mg(),decode:Cg(),encodingLength:Ig()}});var Pg=le((wL,Rg)=>{"use strict";var z_=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});Rg.exports={names:z_}});var Hg=le((EL,qg)=>{"use strict";var Bg=Eg(),Ms=Ng(),{names:Pa}=Pg(),{toString:jc}=(Bo(),Ls(gp)),{fromString:K_}=(Gs(),Ls(bp)),{concat:j_}=(ju(),Ls(ep)),Ts={};for(let r in Pa){let e=r;Ts[Pa[e]]=e}Object.freeze(Ts);function G_(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return jc(r,"base16")}function J_(r){return K_(r,"base16")}function V_(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return jc(Bg.encode("base58btc",r)).slice(1)}function Y_(r){let e=r instanceof Uint8Array?jc(r):r;return Bg.decode("z"+e)}function Lg(r){if(!(r instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(r.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=Ms.decode(r);if(!$g(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);r=r.slice(Ms.decode.bytes);let t=Ms.decode(r);if(t<0)throw new Error(`multihash invalid length: ${t}`);if(r=r.slice(Ms.decode.bytes),r.length!==t)throw new Error(`multihash length inconsistent: 0x${jc(r,"base16")}`);return{code:e,name:Ts[e],length:t,digest:r}}function W_(r,e,t){if(!r||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let n=Ug(e);if(!(r instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(t==null&&(t=r.length),t&&r.length!==t)throw new Error("digest length should be equal to specified length.");let i=Ms.encode(n),o=Ms.encode(t);return j_([i,o,r],i.length+o.length+r.length)}function Ug(r){let e=r;if(typeof r=="string"){if(Pa[r]===void 0)throw new Error(`Unrecognized hash function named: ${r}`);e=Pa[r]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(Ts[e]===void 0&&!Nd(e))throw new Error(`Unrecognized function code: ${e}`);return e}function Nd(r){return r>0&&r<16}function $g(r){return!!(Nd(r)||Ts[r])}function Fg(r){Lg(r)}function X_(r){return Fg(r),r.subarray(0,2)}qg.exports={names:Pa,codes:Ts,toHexString:G_,fromHexString:J_,toB58String:V_,fromB58String:Y_,decode:Lg,encode:W_,coerceCode:Ug,isAppCode:Nd,validate:Fg,prefix:X_,isValidCode:$g}});var Wg=le(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});var Wc=ro(),Yc=Sr();bi.DIGEST_LENGTH=32;bi.BLOCK_SIZE=64;var Yg=function(){function r(){this.digestLength=bi.DIGEST_LENGTH,this.blockSize=bi.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){Yc.wipe(this._buffer),Yc.wipe(this._temp),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(Pd(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=Pd(this._temp,this._state,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,i=t/536870912|0,o=t<<3,s=t%64<56?64:128;this._buffer[n]=128;for(var f=n+1;f<s-8;f++)this._buffer[f]=0;Wc.writeUint32BE(i,this._buffer,s-8),Wc.writeUint32BE(o,this._buffer,s-4),Pd(this._temp,this._state,this._buffer,0,s),this._finished=!0}for(var f=0;f<this.digestLength/4;f++)Wc.writeUint32BE(this._state[f],e,f*4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){Yc.wipe(e.state),e.buffer&&Yc.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();bi.SHA256=Yg;var uA=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Pd(r,e,t,n,i){for(;i>=64;){for(var o=e[0],s=e[1],f=e[2],h=e[3],b=e[4],g=e[5],w=e[6],T=e[7],C=0;C<16;C++){var M=n+C*4;r[C]=Wc.readUint32BE(t,M)}for(var C=16;C<64;C++){var k=r[C-2],F=(k>>>17|k<<32-17)^(k>>>19|k<<32-19)^k>>>10;k=r[C-15];var I=(k>>>7|k<<32-7)^(k>>>18|k<<32-18)^k>>>3;r[C]=(F+r[C-7]|0)+(I+r[C-16]|0)}for(var C=0;C<64;C++){var F=(((b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&g^~b&w)|0)+(T+(uA[C]+r[C]|0)|0)|0,I=((o>>>2|o<<32-2)^(o>>>13|o<<32-13)^(o>>>22|o<<32-22))+(o&s^o&f^s&f)|0;T=w,w=g,g=b,b=h+F|0,h=f,f=s,s=o,o=F+I|0}e[0]+=o,e[1]+=s,e[2]+=f,e[3]+=h,e[4]+=b,e[5]+=g,e[6]+=w,e[7]+=T,n+=64,i-=64}return n}function lA(r){var e=new Yg;e.update(r);var t=e.digest();return e.clean(),t}bi.hash=lA});var Xg=le((rU,hA)=>{hA.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var _n=le((Zg,Bd)=>{(function(r,e){"use strict";function t(E,c){if(!E)throw new Error(c||"Assertion failed")}function n(E,c){E.super_=c;var p=function(){};p.prototype=c.prototype,E.prototype=new p,E.prototype.constructor=E}function i(E,c,p){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((c==="le"||c==="be")&&(p=c,c=10),this._init(E||0,c||10,p||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=$h().Buffer}catch{}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,p){return c.cmp(p)>0?c:p},i.min=function(c,p){return c.cmp(p)<0?c:p},i.prototype._init=function(c,p,l){if(typeof c=="number")return this._initNumber(c,p,l);if(typeof c=="object")return this._initArray(c,p,l);p==="hex"&&(p=16),t(p===(p|0)&&p>=2&&p<=36),c=c.toString().replace(/\s+/g,"");var a=0;c[0]==="-"&&(a++,this.negative=1),a<c.length&&(p===16?this._parseHex(c,a,l):(this._parseBase(c,p,a),l==="le"&&this._initArray(this.toArray(),p,l)))},i.prototype._initNumber=function(c,p,l){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(t(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),p,l)},i.prototype._initArray=function(c,p,l){if(t(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var u,v,x=0;if(l==="be")for(a=c.length-1,u=0;a>=0;a-=3)v=c[a]|c[a-1]<<8|c[a-2]<<16,this.words[u]|=v<<x&67108863,this.words[u+1]=v>>>26-x&67108863,x+=24,x>=26&&(x-=26,u++);else if(l==="le")for(a=0,u=0;a<c.length;a+=3)v=c[a]|c[a+1]<<8|c[a+2]<<16,this.words[u]|=v<<x&67108863,this.words[u+1]=v>>>26-x&67108863,x+=24,x>=26&&(x-=26,u++);return this.strip()};function s(E,c){var p=E.charCodeAt(c);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function f(E,c,p){var l=s(E,p);return p-1>=c&&(l|=s(E,p-1)<<4),l}i.prototype._parseHex=function(c,p,l){this.length=Math.ceil((c.length-p)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var u=0,v=0,x;if(l==="be")for(a=c.length-1;a>=p;a-=2)x=f(c,p,a)<<u,this.words[v]|=x&67108863,u>=18?(u-=18,v+=1,this.words[v]|=x>>>26):u+=8;else{var y=c.length-p;for(a=y%2===0?p+1:p;a<c.length;a+=2)x=f(c,p,a)<<u,this.words[v]|=x&67108863,u>=18?(u-=18,v+=1,this.words[v]|=x>>>26):u+=8}this.strip()};function h(E,c,p,l){for(var a=0,u=Math.min(E.length,p),v=c;v<u;v++){var x=E.charCodeAt(v)-48;a*=l,x>=49?a+=x-49+10:x>=17?a+=x-17+10:a+=x}return a}i.prototype._parseBase=function(c,p,l){this.words=[0],this.length=1;for(var a=0,u=1;u<=67108863;u*=p)a++;a--,u=u/p|0;for(var v=c.length-l,x=v%a,y=Math.min(v,v-x)+l,d=0,_=l;_<y;_+=a)d=h(c,_,_+a,p),this.imuln(u),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(x!==0){var D=1;for(d=h(c,_,c.length,p),_=0;_<x;_++)D*=p;this.imuln(D),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var p=0;p<this.length;p++)c.words[p]=this.words[p];c.length=this.length,c.negative=this.negative,c.red=this.red},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,p){c=c||10,p=p|0||1;var l;if(c===16||c==="hex"){l="";for(var a=0,u=0,v=0;v<this.length;v++){var x=this.words[v],y=((x<<a|u)&16777215).toString(16);u=x>>>24-a&16777215,u!==0||v!==this.length-1?l=b[6-y.length]+y+l:l=y+l,a+=2,a>=26&&(a-=26,v--)}for(u!==0&&(l=u.toString(16)+l);l.length%p!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(c===(c|0)&&c>=2&&c<=36){var d=g[c],_=w[c];l="";var D=this.clone();for(D.negative=0;!D.isZero();){var m=D.modn(_).toString(c);D=D.idivn(_),D.isZero()?l=m+l:l=b[d-m.length]+m+l}for(this.isZero()&&(l="0"+l);l.length%p!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(c,p){return t(typeof o<"u"),this.toArrayLike(o,c,p)},i.prototype.toArray=function(c,p){return this.toArrayLike(Array,c,p)},i.prototype.toArrayLike=function(c,p,l){var a=this.byteLength(),u=l||Math.max(1,a);t(a<=u,"byte array longer than desired length"),t(u>0,"Requested array length <= 0"),this.strip();var v=p==="le",x=new c(u),y,d,_=this.clone();if(v){for(d=0;!_.isZero();d++)y=_.andln(255),_.iushrn(8),x[d]=y;for(;d<u;d++)x[d]=0}else{for(d=0;d<u-a;d++)x[d]=0;for(d=0;!_.isZero();d++)y=_.andln(255),_.iushrn(8),x[u-d-1]=y}return x},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var p=c,l=0;return p>=4096&&(l+=13,p>>>=13),p>=64&&(l+=7,p>>>=7),p>=8&&(l+=4,p>>>=4),p>=2&&(l+=2,p>>>=2),l+p},i.prototype._zeroBits=function(c){if(c===0)return 26;var p=c,l=0;return p&8191||(l+=13,p>>>=13),p&127||(l+=7,p>>>=7),p&15||(l+=4,p>>>=4),p&3||(l+=2,p>>>=2),p&1||l++,l},i.prototype.bitLength=function(){var c=this.words[this.length-1],p=this._countBits(c);return(this.length-1)*26+p};function T(E){for(var c=new Array(E.bitLength()),p=0;p<c.length;p++){var l=p/26|0,a=p%26;c[p]=(E.words[l]&1<<a)>>>a}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,p=0;p<this.length;p++){var l=this._zeroBits(this.words[p]);if(c+=l,l!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var p=0;p<c.length;p++)this.words[p]=this.words[p]|c.words[p];return this.strip()},i.prototype.ior=function(c){return t((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var p;this.length>c.length?p=c:p=this;for(var l=0;l<p.length;l++)this.words[l]=this.words[l]&c.words[l];return this.length=p.length,this.strip()},i.prototype.iand=function(c){return t((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var p,l;this.length>c.length?(p=this,l=c):(p=c,l=this);for(var a=0;a<l.length;a++)this.words[a]=p.words[a]^l.words[a];if(this!==p)for(;a<p.length;a++)this.words[a]=p.words[a];return this.length=p.length,this.strip()},i.prototype.ixor=function(c){return t((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){t(typeof c=="number"&&c>=0);var p=Math.ceil(c/26)|0,l=c%26;this._expand(p),l>0&&p--;for(var a=0;a<p;a++)this.words[a]=~this.words[a]&67108863;return l>0&&(this.words[a]=~this.words[a]&67108863>>26-l),this.strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,p){t(typeof c=="number"&&c>=0);var l=c/26|0,a=c%26;return this._expand(l+1),p?this.words[l]=this.words[l]|1<<a:this.words[l]=this.words[l]&~(1<<a),this.strip()},i.prototype.iadd=function(c){var p;if(this.negative!==0&&c.negative===0)return this.negative=0,p=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,p=this.isub(c),c.negative=1,p._normSign();var l,a;this.length>c.length?(l=this,a=c):(l=c,a=this);for(var u=0,v=0;v<a.length;v++)p=(l.words[v]|0)+(a.words[v]|0)+u,this.words[v]=p&67108863,u=p>>>26;for(;u!==0&&v<l.length;v++)p=(l.words[v]|0)+u,this.words[v]=p&67108863,u=p>>>26;if(this.length=l.length,u!==0)this.words[this.length]=u,this.length++;else if(l!==this)for(;v<l.length;v++)this.words[v]=l.words[v];return this},i.prototype.add=function(c){var p;return c.negative!==0&&this.negative===0?(c.negative=0,p=this.sub(c),c.negative^=1,p):c.negative===0&&this.negative!==0?(this.negative=0,p=c.sub(this),this.negative=1,p):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var p=this.iadd(c);return c.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var l=this.cmp(c);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,u;l>0?(a=this,u=c):(a=c,u=this);for(var v=0,x=0;x<u.length;x++)p=(a.words[x]|0)-(u.words[x]|0)+v,v=p>>26,this.words[x]=p&67108863;for(;v!==0&&x<a.length;x++)p=(a.words[x]|0)+v,v=p>>26,this.words[x]=p&67108863;if(v===0&&x<a.length&&a!==this)for(;x<a.length;x++)this.words[x]=a.words[x];return this.length=Math.max(this.length,x),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function C(E,c,p){p.negative=c.negative^E.negative;var l=E.length+c.length|0;p.length=l,l=l-1|0;var a=E.words[0]|0,u=c.words[0]|0,v=a*u,x=v&67108863,y=v/67108864|0;p.words[0]=x;for(var d=1;d<l;d++){for(var _=y>>>26,D=y&67108863,m=Math.min(d,c.length-1),A=Math.max(0,d-E.length+1);A<=m;A++){var te=d-A|0;a=E.words[te]|0,u=c.words[A]|0,v=a*u+D,_+=v/67108864|0,D=v&67108863}p.words[d]=D|0,y=_|0}return y!==0?p.words[d]=y|0:p.length--,p.strip()}var M=function(c,p,l){var a=c.words,u=p.words,v=l.words,x=0,y,d,_,D=a[0]|0,m=D&8191,A=D>>>13,te=a[1]|0,S=te&8191,z=te>>>13,Y=a[2]|0,N=Y&8191,R=Y>>>13,K=a[3]|0,G=K&8191,Z=K>>>13,ce=a[4]|0,ie=ce&8191,V=ce>>>13,ue=a[5]|0,X=ue&8191,oe=ue>>>13,U=a[6]|0,re=U&8191,he=U>>>13,xe=a[7]|0,ge=xe&8191,_e=xe>>>13,Jt=a[8]|0,Q=Jt&8191,J=Jt>>>13,O=a[9]|0,q=O&8191,ne=O>>>13,se=u[0]|0,ae=se&8191,de=se>>>13,Xe=u[1]|0,ye=Xe&8191,pe=Xe>>>13,Qe=u[2]|0,Ee=Qe&8191,Se=Qe>>>13,Qr=u[3]|0,Me=Qr&8191,Te=Qr>>>13,en=u[4]|0,ke=en&8191,Ce=en>>>13,tn=u[5]|0,De=tn&8191,Ie=tn>>>13,rn=u[6]|0,Oe=rn&8191,Ne=rn>>>13,nn=u[7]|0,Re=nn&8191,Pe=nn>>>13,on=u[8]|0,Be=on&8191,Le=on>>>13,sn=u[9]|0,Ue=sn&8191,$e=sn>>>13;l.negative=c.negative^p.negative,l.length=19,y=Math.imul(m,ae),d=Math.imul(m,de),d=d+Math.imul(A,ae)|0,_=Math.imul(A,de);var Rr=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,y=Math.imul(S,ae),d=Math.imul(S,de),d=d+Math.imul(z,ae)|0,_=Math.imul(z,de),y=y+Math.imul(m,ye)|0,d=d+Math.imul(m,pe)|0,d=d+Math.imul(A,ye)|0,_=_+Math.imul(A,pe)|0;var nt=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(nt>>>26)|0,nt&=67108863,y=Math.imul(N,ae),d=Math.imul(N,de),d=d+Math.imul(R,ae)|0,_=Math.imul(R,de),y=y+Math.imul(S,ye)|0,d=d+Math.imul(S,pe)|0,d=d+Math.imul(z,ye)|0,_=_+Math.imul(z,pe)|0,y=y+Math.imul(m,Ee)|0,d=d+Math.imul(m,Se)|0,d=d+Math.imul(A,Ee)|0,_=_+Math.imul(A,Se)|0;var it=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(it>>>26)|0,it&=67108863,y=Math.imul(G,ae),d=Math.imul(G,de),d=d+Math.imul(Z,ae)|0,_=Math.imul(Z,de),y=y+Math.imul(N,ye)|0,d=d+Math.imul(N,pe)|0,d=d+Math.imul(R,ye)|0,_=_+Math.imul(R,pe)|0,y=y+Math.imul(S,Ee)|0,d=d+Math.imul(S,Se)|0,d=d+Math.imul(z,Ee)|0,_=_+Math.imul(z,Se)|0,y=y+Math.imul(m,Me)|0,d=d+Math.imul(m,Te)|0,d=d+Math.imul(A,Me)|0,_=_+Math.imul(A,Te)|0;var pr=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,y=Math.imul(ie,ae),d=Math.imul(ie,de),d=d+Math.imul(V,ae)|0,_=Math.imul(V,de),y=y+Math.imul(G,ye)|0,d=d+Math.imul(G,pe)|0,d=d+Math.imul(Z,ye)|0,_=_+Math.imul(Z,pe)|0,y=y+Math.imul(N,Ee)|0,d=d+Math.imul(N,Se)|0,d=d+Math.imul(R,Ee)|0,_=_+Math.imul(R,Se)|0,y=y+Math.imul(S,Me)|0,d=d+Math.imul(S,Te)|0,d=d+Math.imul(z,Me)|0,_=_+Math.imul(z,Te)|0,y=y+Math.imul(m,ke)|0,d=d+Math.imul(m,Ce)|0,d=d+Math.imul(A,ke)|0,_=_+Math.imul(A,Ce)|0;var mr=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(mr>>>26)|0,mr&=67108863,y=Math.imul(X,ae),d=Math.imul(X,de),d=d+Math.imul(oe,ae)|0,_=Math.imul(oe,de),y=y+Math.imul(ie,ye)|0,d=d+Math.imul(ie,pe)|0,d=d+Math.imul(V,ye)|0,_=_+Math.imul(V,pe)|0,y=y+Math.imul(G,Ee)|0,d=d+Math.imul(G,Se)|0,d=d+Math.imul(Z,Ee)|0,_=_+Math.imul(Z,Se)|0,y=y+Math.imul(N,Me)|0,d=d+Math.imul(N,Te)|0,d=d+Math.imul(R,Me)|0,_=_+Math.imul(R,Te)|0,y=y+Math.imul(S,ke)|0,d=d+Math.imul(S,Ce)|0,d=d+Math.imul(z,ke)|0,_=_+Math.imul(z,Ce)|0,y=y+Math.imul(m,De)|0,d=d+Math.imul(m,Ie)|0,d=d+Math.imul(A,De)|0,_=_+Math.imul(A,Ie)|0;var br=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(br>>>26)|0,br&=67108863,y=Math.imul(re,ae),d=Math.imul(re,de),d=d+Math.imul(he,ae)|0,_=Math.imul(he,de),y=y+Math.imul(X,ye)|0,d=d+Math.imul(X,pe)|0,d=d+Math.imul(oe,ye)|0,_=_+Math.imul(oe,pe)|0,y=y+Math.imul(ie,Ee)|0,d=d+Math.imul(ie,Se)|0,d=d+Math.imul(V,Ee)|0,_=_+Math.imul(V,Se)|0,y=y+Math.imul(G,Me)|0,d=d+Math.imul(G,Te)|0,d=d+Math.imul(Z,Me)|0,_=_+Math.imul(Z,Te)|0,y=y+Math.imul(N,ke)|0,d=d+Math.imul(N,Ce)|0,d=d+Math.imul(R,ke)|0,_=_+Math.imul(R,Ce)|0,y=y+Math.imul(S,De)|0,d=d+Math.imul(S,Ie)|0,d=d+Math.imul(z,De)|0,_=_+Math.imul(z,Ie)|0,y=y+Math.imul(m,Oe)|0,d=d+Math.imul(m,Ne)|0,d=d+Math.imul(A,Oe)|0,_=_+Math.imul(A,Ne)|0;var gr=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(gr>>>26)|0,gr&=67108863,y=Math.imul(ge,ae),d=Math.imul(ge,de),d=d+Math.imul(_e,ae)|0,_=Math.imul(_e,de),y=y+Math.imul(re,ye)|0,d=d+Math.imul(re,pe)|0,d=d+Math.imul(he,ye)|0,_=_+Math.imul(he,pe)|0,y=y+Math.imul(X,Ee)|0,d=d+Math.imul(X,Se)|0,d=d+Math.imul(oe,Ee)|0,_=_+Math.imul(oe,Se)|0,y=y+Math.imul(ie,Me)|0,d=d+Math.imul(ie,Te)|0,d=d+Math.imul(V,Me)|0,_=_+Math.imul(V,Te)|0,y=y+Math.imul(G,ke)|0,d=d+Math.imul(G,Ce)|0,d=d+Math.imul(Z,ke)|0,_=_+Math.imul(Z,Ce)|0,y=y+Math.imul(N,De)|0,d=d+Math.imul(N,Ie)|0,d=d+Math.imul(R,De)|0,_=_+Math.imul(R,Ie)|0,y=y+Math.imul(S,Oe)|0,d=d+Math.imul(S,Ne)|0,d=d+Math.imul(z,Oe)|0,_=_+Math.imul(z,Ne)|0,y=y+Math.imul(m,Re)|0,d=d+Math.imul(m,Pe)|0,d=d+Math.imul(A,Re)|0,_=_+Math.imul(A,Pe)|0;var vr=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,y=Math.imul(Q,ae),d=Math.imul(Q,de),d=d+Math.imul(J,ae)|0,_=Math.imul(J,de),y=y+Math.imul(ge,ye)|0,d=d+Math.imul(ge,pe)|0,d=d+Math.imul(_e,ye)|0,_=_+Math.imul(_e,pe)|0,y=y+Math.imul(re,Ee)|0,d=d+Math.imul(re,Se)|0,d=d+Math.imul(he,Ee)|0,_=_+Math.imul(he,Se)|0,y=y+Math.imul(X,Me)|0,d=d+Math.imul(X,Te)|0,d=d+Math.imul(oe,Me)|0,_=_+Math.imul(oe,Te)|0,y=y+Math.imul(ie,ke)|0,d=d+Math.imul(ie,Ce)|0,d=d+Math.imul(V,ke)|0,_=_+Math.imul(V,Ce)|0,y=y+Math.imul(G,De)|0,d=d+Math.imul(G,Ie)|0,d=d+Math.imul(Z,De)|0,_=_+Math.imul(Z,Ie)|0,y=y+Math.imul(N,Oe)|0,d=d+Math.imul(N,Ne)|0,d=d+Math.imul(R,Oe)|0,_=_+Math.imul(R,Ne)|0,y=y+Math.imul(S,Re)|0,d=d+Math.imul(S,Pe)|0,d=d+Math.imul(z,Re)|0,_=_+Math.imul(z,Pe)|0,y=y+Math.imul(m,Be)|0,d=d+Math.imul(m,Le)|0,d=d+Math.imul(A,Be)|0,_=_+Math.imul(A,Le)|0;var Si=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(Si>>>26)|0,Si&=67108863,y=Math.imul(q,ae),d=Math.imul(q,de),d=d+Math.imul(ne,ae)|0,_=Math.imul(ne,de),y=y+Math.imul(Q,ye)|0,d=d+Math.imul(Q,pe)|0,d=d+Math.imul(J,ye)|0,_=_+Math.imul(J,pe)|0,y=y+Math.imul(ge,Ee)|0,d=d+Math.imul(ge,Se)|0,d=d+Math.imul(_e,Ee)|0,_=_+Math.imul(_e,Se)|0,y=y+Math.imul(re,Me)|0,d=d+Math.imul(re,Te)|0,d=d+Math.imul(he,Me)|0,_=_+Math.imul(he,Te)|0,y=y+Math.imul(X,ke)|0,d=d+Math.imul(X,Ce)|0,d=d+Math.imul(oe,ke)|0,_=_+Math.imul(oe,Ce)|0,y=y+Math.imul(ie,De)|0,d=d+Math.imul(ie,Ie)|0,d=d+Math.imul(V,De)|0,_=_+Math.imul(V,Ie)|0,y=y+Math.imul(G,Oe)|0,d=d+Math.imul(G,Ne)|0,d=d+Math.imul(Z,Oe)|0,_=_+Math.imul(Z,Ne)|0,y=y+Math.imul(N,Re)|0,d=d+Math.imul(N,Pe)|0,d=d+Math.imul(R,Re)|0,_=_+Math.imul(R,Pe)|0,y=y+Math.imul(S,Be)|0,d=d+Math.imul(S,Le)|0,d=d+Math.imul(z,Be)|0,_=_+Math.imul(z,Le)|0,y=y+Math.imul(m,Ue)|0,d=d+Math.imul(m,$e)|0,d=d+Math.imul(A,Ue)|0,_=_+Math.imul(A,$e)|0;var Mi=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,y=Math.imul(q,ye),d=Math.imul(q,pe),d=d+Math.imul(ne,ye)|0,_=Math.imul(ne,pe),y=y+Math.imul(Q,Ee)|0,d=d+Math.imul(Q,Se)|0,d=d+Math.imul(J,Ee)|0,_=_+Math.imul(J,Se)|0,y=y+Math.imul(ge,Me)|0,d=d+Math.imul(ge,Te)|0,d=d+Math.imul(_e,Me)|0,_=_+Math.imul(_e,Te)|0,y=y+Math.imul(re,ke)|0,d=d+Math.imul(re,Ce)|0,d=d+Math.imul(he,ke)|0,_=_+Math.imul(he,Ce)|0,y=y+Math.imul(X,De)|0,d=d+Math.imul(X,Ie)|0,d=d+Math.imul(oe,De)|0,_=_+Math.imul(oe,Ie)|0,y=y+Math.imul(ie,Oe)|0,d=d+Math.imul(ie,Ne)|0,d=d+Math.imul(V,Oe)|0,_=_+Math.imul(V,Ne)|0,y=y+Math.imul(G,Re)|0,d=d+Math.imul(G,Pe)|0,d=d+Math.imul(Z,Re)|0,_=_+Math.imul(Z,Pe)|0,y=y+Math.imul(N,Be)|0,d=d+Math.imul(N,Le)|0,d=d+Math.imul(R,Be)|0,_=_+Math.imul(R,Le)|0,y=y+Math.imul(S,Ue)|0,d=d+Math.imul(S,$e)|0,d=d+Math.imul(z,Ue)|0,_=_+Math.imul(z,$e)|0;var Ti=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,y=Math.imul(q,Ee),d=Math.imul(q,Se),d=d+Math.imul(ne,Ee)|0,_=Math.imul(ne,Se),y=y+Math.imul(Q,Me)|0,d=d+Math.imul(Q,Te)|0,d=d+Math.imul(J,Me)|0,_=_+Math.imul(J,Te)|0,y=y+Math.imul(ge,ke)|0,d=d+Math.imul(ge,Ce)|0,d=d+Math.imul(_e,ke)|0,_=_+Math.imul(_e,Ce)|0,y=y+Math.imul(re,De)|0,d=d+Math.imul(re,Ie)|0,d=d+Math.imul(he,De)|0,_=_+Math.imul(he,Ie)|0,y=y+Math.imul(X,Oe)|0,d=d+Math.imul(X,Ne)|0,d=d+Math.imul(oe,Oe)|0,_=_+Math.imul(oe,Ne)|0,y=y+Math.imul(ie,Re)|0,d=d+Math.imul(ie,Pe)|0,d=d+Math.imul(V,Re)|0,_=_+Math.imul(V,Pe)|0,y=y+Math.imul(G,Be)|0,d=d+Math.imul(G,Le)|0,d=d+Math.imul(Z,Be)|0,_=_+Math.imul(Z,Le)|0,y=y+Math.imul(N,Ue)|0,d=d+Math.imul(N,$e)|0,d=d+Math.imul(R,Ue)|0,_=_+Math.imul(R,$e)|0;var ki=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(ki>>>26)|0,ki&=67108863,y=Math.imul(q,Me),d=Math.imul(q,Te),d=d+Math.imul(ne,Me)|0,_=Math.imul(ne,Te),y=y+Math.imul(Q,ke)|0,d=d+Math.imul(Q,Ce)|0,d=d+Math.imul(J,ke)|0,_=_+Math.imul(J,Ce)|0,y=y+Math.imul(ge,De)|0,d=d+Math.imul(ge,Ie)|0,d=d+Math.imul(_e,De)|0,_=_+Math.imul(_e,Ie)|0,y=y+Math.imul(re,Oe)|0,d=d+Math.imul(re,Ne)|0,d=d+Math.imul(he,Oe)|0,_=_+Math.imul(he,Ne)|0,y=y+Math.imul(X,Re)|0,d=d+Math.imul(X,Pe)|0,d=d+Math.imul(oe,Re)|0,_=_+Math.imul(oe,Pe)|0,y=y+Math.imul(ie,Be)|0,d=d+Math.imul(ie,Le)|0,d=d+Math.imul(V,Be)|0,_=_+Math.imul(V,Le)|0,y=y+Math.imul(G,Ue)|0,d=d+Math.imul(G,$e)|0,d=d+Math.imul(Z,Ue)|0,_=_+Math.imul(Z,$e)|0;var Ci=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,y=Math.imul(q,ke),d=Math.imul(q,Ce),d=d+Math.imul(ne,ke)|0,_=Math.imul(ne,Ce),y=y+Math.imul(Q,De)|0,d=d+Math.imul(Q,Ie)|0,d=d+Math.imul(J,De)|0,_=_+Math.imul(J,Ie)|0,y=y+Math.imul(ge,Oe)|0,d=d+Math.imul(ge,Ne)|0,d=d+Math.imul(_e,Oe)|0,_=_+Math.imul(_e,Ne)|0,y=y+Math.imul(re,Re)|0,d=d+Math.imul(re,Pe)|0,d=d+Math.imul(he,Re)|0,_=_+Math.imul(he,Pe)|0,y=y+Math.imul(X,Be)|0,d=d+Math.imul(X,Le)|0,d=d+Math.imul(oe,Be)|0,_=_+Math.imul(oe,Le)|0,y=y+Math.imul(ie,Ue)|0,d=d+Math.imul(ie,$e)|0,d=d+Math.imul(V,Ue)|0,_=_+Math.imul(V,$e)|0;var Di=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(Di>>>26)|0,Di&=67108863,y=Math.imul(q,De),d=Math.imul(q,Ie),d=d+Math.imul(ne,De)|0,_=Math.imul(ne,Ie),y=y+Math.imul(Q,Oe)|0,d=d+Math.imul(Q,Ne)|0,d=d+Math.imul(J,Oe)|0,_=_+Math.imul(J,Ne)|0,y=y+Math.imul(ge,Re)|0,d=d+Math.imul(ge,Pe)|0,d=d+Math.imul(_e,Re)|0,_=_+Math.imul(_e,Pe)|0,y=y+Math.imul(re,Be)|0,d=d+Math.imul(re,Le)|0,d=d+Math.imul(he,Be)|0,_=_+Math.imul(he,Le)|0,y=y+Math.imul(X,Ue)|0,d=d+Math.imul(X,$e)|0,d=d+Math.imul(oe,Ue)|0,_=_+Math.imul(oe,$e)|0;var Ii=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,y=Math.imul(q,Oe),d=Math.imul(q,Ne),d=d+Math.imul(ne,Oe)|0,_=Math.imul(ne,Ne),y=y+Math.imul(Q,Re)|0,d=d+Math.imul(Q,Pe)|0,d=d+Math.imul(J,Re)|0,_=_+Math.imul(J,Pe)|0,y=y+Math.imul(ge,Be)|0,d=d+Math.imul(ge,Le)|0,d=d+Math.imul(_e,Be)|0,_=_+Math.imul(_e,Le)|0,y=y+Math.imul(re,Ue)|0,d=d+Math.imul(re,$e)|0,d=d+Math.imul(he,Ue)|0,_=_+Math.imul(he,$e)|0;var Oi=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,y=Math.imul(q,Re),d=Math.imul(q,Pe),d=d+Math.imul(ne,Re)|0,_=Math.imul(ne,Pe),y=y+Math.imul(Q,Be)|0,d=d+Math.imul(Q,Le)|0,d=d+Math.imul(J,Be)|0,_=_+Math.imul(J,Le)|0,y=y+Math.imul(ge,Ue)|0,d=d+Math.imul(ge,$e)|0,d=d+Math.imul(_e,Ue)|0,_=_+Math.imul(_e,$e)|0;var Ni=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,y=Math.imul(q,Be),d=Math.imul(q,Le),d=d+Math.imul(ne,Be)|0,_=Math.imul(ne,Le),y=y+Math.imul(Q,Ue)|0,d=d+Math.imul(Q,$e)|0,d=d+Math.imul(J,Ue)|0,_=_+Math.imul(J,$e)|0;var Ri=(x+y|0)+((d&8191)<<13)|0;x=(_+(d>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,y=Math.imul(q,Ue),d=Math.imul(q,$e),d=d+Math.imul(ne,Ue)|0,_=Math.imul(ne,$e);var Pi=(x+y|0)+((d&8191)<<13)|0;return x=(_+(d>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,v[0]=Rr,v[1]=nt,v[2]=it,v[3]=pr,v[4]=mr,v[5]=br,v[6]=gr,v[7]=vr,v[8]=Si,v[9]=Mi,v[10]=Ti,v[11]=ki,v[12]=Ci,v[13]=Di,v[14]=Ii,v[15]=Oi,v[16]=Ni,v[17]=Ri,v[18]=Pi,x!==0&&(v[19]=x,l.length++),l};Math.imul||(M=C);function k(E,c,p){p.negative=c.negative^E.negative,p.length=E.length+c.length;for(var l=0,a=0,u=0;u<p.length-1;u++){var v=a;a=0;for(var x=l&67108863,y=Math.min(u,c.length-1),d=Math.max(0,u-E.length+1);d<=y;d++){var _=u-d,D=E.words[_]|0,m=c.words[d]|0,A=D*m,te=A&67108863;v=v+(A/67108864|0)|0,te=te+x|0,x=te&67108863,v=v+(te>>>26)|0,a+=v>>>26,v&=67108863}p.words[u]=x,l=v,v=a}return l!==0?p.words[u]=l:p.length--,p.strip()}function F(E,c,p){var l=new I;return l.mulp(E,c,p)}i.prototype.mulTo=function(c,p){var l,a=this.length+c.length;return this.length===10&&c.length===10?l=M(this,c,p):a<63?l=C(this,c,p):a<1024?l=k(this,c,p):l=F(this,c,p),l};function I(E,c){this.x=E,this.y=c}I.prototype.makeRBT=function(c){for(var p=new Array(c),l=i.prototype._countBits(c)-1,a=0;a<c;a++)p[a]=this.revBin(a,l,c);return p},I.prototype.revBin=function(c,p,l){if(c===0||c===l-1)return c;for(var a=0,u=0;u<p;u++)a|=(c&1)<<p-u-1,c>>=1;return a},I.prototype.permute=function(c,p,l,a,u,v){for(var x=0;x<v;x++)a[x]=p[c[x]],u[x]=l[c[x]]},I.prototype.transform=function(c,p,l,a,u,v){this.permute(v,c,p,l,a,u);for(var x=1;x<u;x<<=1)for(var y=x<<1,d=Math.cos(2*Math.PI/y),_=Math.sin(2*Math.PI/y),D=0;D<u;D+=y)for(var m=d,A=_,te=0;te<x;te++){var S=l[D+te],z=a[D+te],Y=l[D+te+x],N=a[D+te+x],R=m*Y-A*N;N=m*N+A*Y,Y=R,l[D+te]=S+Y,a[D+te]=z+N,l[D+te+x]=S-Y,a[D+te+x]=z-N,te!==y&&(R=d*m-_*A,A=d*A+_*m,m=R)}},I.prototype.guessLen13b=function(c,p){var l=Math.max(p,c)|1,a=l&1,u=0;for(l=l/2|0;l;l=l>>>1)u++;return 1<<u+1+a},I.prototype.conjugate=function(c,p,l){if(!(l<=1))for(var a=0;a<l/2;a++){var u=c[a];c[a]=c[l-a-1],c[l-a-1]=u,u=p[a],p[a]=-p[l-a-1],p[l-a-1]=-u}},I.prototype.normalize13b=function(c,p){for(var l=0,a=0;a<p/2;a++){var u=Math.round(c[2*a+1]/p)*8192+Math.round(c[2*a]/p)+l;c[a]=u&67108863,u<67108864?l=0:l=u/67108864|0}return c},I.prototype.convert13b=function(c,p,l,a){for(var u=0,v=0;v<p;v++)u=u+(c[v]|0),l[2*v]=u&8191,u=u>>>13,l[2*v+1]=u&8191,u=u>>>13;for(v=2*p;v<a;++v)l[v]=0;t(u===0),t((u&-8192)===0)},I.prototype.stub=function(c){for(var p=new Array(c),l=0;l<c;l++)p[l]=0;return p},I.prototype.mulp=function(c,p,l){var a=2*this.guessLen13b(c.length,p.length),u=this.makeRBT(a),v=this.stub(a),x=new Array(a),y=new Array(a),d=new Array(a),_=new Array(a),D=new Array(a),m=new Array(a),A=l.words;A.length=a,this.convert13b(c.words,c.length,x,a),this.convert13b(p.words,p.length,_,a),this.transform(x,v,y,d,a,u),this.transform(_,v,D,m,a,u);for(var te=0;te<a;te++){var S=y[te]*D[te]-d[te]*m[te];d[te]=y[te]*m[te]+d[te]*D[te],y[te]=S}return this.conjugate(y,d,a),this.transform(y,d,A,v,a,u),this.conjugate(A,v,a),this.normalize13b(A,a),l.negative=c.negative^p.negative,l.length=c.length+p.length,l.strip()},i.prototype.mul=function(c){var p=new i(null);return p.words=new Array(this.length+c.length),this.mulTo(c,p)},i.prototype.mulf=function(c){var p=new i(null);return p.words=new Array(this.length+c.length),F(this,c,p)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){t(typeof c=="number"),t(c<67108864);for(var p=0,l=0;l<this.length;l++){var a=(this.words[l]|0)*c,u=(a&67108863)+(p&67108863);p>>=26,p+=a/67108864|0,p+=u>>>26,this.words[l]=u&67108863}return p!==0&&(this.words[l]=p,this.length++),this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var p=T(c);if(p.length===0)return new i(1);for(var l=this,a=0;a<p.length&&p[a]===0;a++,l=l.sqr());if(++a<p.length)for(var u=l.sqr();a<p.length;a++,u=u.sqr())p[a]!==0&&(l=l.mul(u));return l},i.prototype.iushln=function(c){t(typeof c=="number"&&c>=0);var p=c%26,l=(c-p)/26,a=67108863>>>26-p<<26-p,u;if(p!==0){var v=0;for(u=0;u<this.length;u++){var x=this.words[u]&a,y=(this.words[u]|0)-x<<p;this.words[u]=y|v,v=x>>>26-p}v&&(this.words[u]=v,this.length++)}if(l!==0){for(u=this.length-1;u>=0;u--)this.words[u+l]=this.words[u];for(u=0;u<l;u++)this.words[u]=0;this.length+=l}return this.strip()},i.prototype.ishln=function(c){return t(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,p,l){t(typeof c=="number"&&c>=0);var a;p?a=(p-p%26)/26:a=0;var u=c%26,v=Math.min((c-u)/26,this.length),x=67108863^67108863>>>u<<u,y=l;if(a-=v,a=Math.max(0,a),y){for(var d=0;d<v;d++)y.words[d]=this.words[d];y.length=v}if(v!==0)if(this.length>v)for(this.length-=v,d=0;d<this.length;d++)this.words[d]=this.words[d+v];else this.words[0]=0,this.length=1;var _=0;for(d=this.length-1;d>=0&&(_!==0||d>=a);d--){var D=this.words[d]|0;this.words[d]=_<<26-u|D>>>u,_=D&x}return y&&_!==0&&(y.words[y.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(c,p,l){return t(this.negative===0),this.iushrn(c,p,l)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){t(typeof c=="number"&&c>=0);var p=c%26,l=(c-p)/26,a=1<<p;if(this.length<=l)return!1;var u=this.words[l];return!!(u&a)},i.prototype.imaskn=function(c){t(typeof c=="number"&&c>=0);var p=c%26,l=(c-p)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(p!==0&&l++,this.length=Math.min(l,this.length),p!==0){var a=67108863^67108863>>>p<<p;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return t(typeof c=="number"),t(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(c){if(t(typeof c=="number"),t(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,p,l){var a=c.length+l,u;this._expand(a);var v,x=0;for(u=0;u<c.length;u++){v=(this.words[u+l]|0)+x;var y=(c.words[u]|0)*p;v-=y&67108863,x=(v>>26)-(y/67108864|0),this.words[u+l]=v&67108863}for(;u<this.length-l;u++)v=(this.words[u+l]|0)+x,x=v>>26,this.words[u+l]=v&67108863;if(x===0)return this.strip();for(t(x===-1),x=0,u=0;u<this.length;u++)v=-(this.words[u]|0)+x,x=v>>26,this.words[u]=v&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(c,p){var l=this.length-c.length,a=this.clone(),u=c,v=u.words[u.length-1]|0,x=this._countBits(v);l=26-x,l!==0&&(u=u.ushln(l),a.iushln(l),v=u.words[u.length-1]|0);var y=a.length-u.length,d;if(p!=="mod"){d=new i(null),d.length=y+1,d.words=new Array(d.length);for(var _=0;_<d.length;_++)d.words[_]=0}var D=a.clone()._ishlnsubmul(u,1,y);D.negative===0&&(a=D,d&&(d.words[y]=1));for(var m=y-1;m>=0;m--){var A=(a.words[u.length+m]|0)*67108864+(a.words[u.length+m-1]|0);for(A=Math.min(A/v|0,67108863),a._ishlnsubmul(u,A,m);a.negative!==0;)A--,a.negative=0,a._ishlnsubmul(u,1,m),a.isZero()||(a.negative^=1);d&&(d.words[m]=A)}return d&&d.strip(),a.strip(),p!=="div"&&l!==0&&a.iushrn(l),{div:d||null,mod:a}},i.prototype.divmod=function(c,p,l){if(t(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var a,u,v;return this.negative!==0&&c.negative===0?(v=this.neg().divmod(c,p),p!=="mod"&&(a=v.div.neg()),p!=="div"&&(u=v.mod.neg(),l&&u.negative!==0&&u.iadd(c)),{div:a,mod:u}):this.negative===0&&c.negative!==0?(v=this.divmod(c.neg(),p),p!=="mod"&&(a=v.div.neg()),{div:a,mod:v.mod}):this.negative&c.negative?(v=this.neg().divmod(c.neg(),p),p!=="div"&&(u=v.mod.neg(),l&&u.negative!==0&&u.isub(c)),{div:v.div,mod:u}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?p==="div"?{div:this.divn(c.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modn(c.words[0]))}:this._wordDiv(c,p)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var p=this.divmod(c);if(p.mod.isZero())return p.div;var l=p.div.negative!==0?p.mod.isub(c):p.mod,a=c.ushrn(1),u=c.andln(1),v=l.cmp(a);return v<0||u===1&&v===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modn=function(c){t(c<=67108863);for(var p=(1<<26)%c,l=0,a=this.length-1;a>=0;a--)l=(p*l+(this.words[a]|0))%c;return l},i.prototype.idivn=function(c){t(c<=67108863);for(var p=0,l=this.length-1;l>=0;l--){var a=(this.words[l]|0)+p*67108864;this.words[l]=a/c|0,p=a%c}return this.strip()},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){t(c.negative===0),t(!c.isZero());var p=this,l=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var a=new i(1),u=new i(0),v=new i(0),x=new i(1),y=0;p.isEven()&&l.isEven();)p.iushrn(1),l.iushrn(1),++y;for(var d=l.clone(),_=p.clone();!p.isZero();){for(var D=0,m=1;!(p.words[0]&m)&&D<26;++D,m<<=1);if(D>0)for(p.iushrn(D);D-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(d),u.isub(_)),a.iushrn(1),u.iushrn(1);for(var A=0,te=1;!(l.words[0]&te)&&A<26;++A,te<<=1);if(A>0)for(l.iushrn(A);A-- >0;)(v.isOdd()||x.isOdd())&&(v.iadd(d),x.isub(_)),v.iushrn(1),x.iushrn(1);p.cmp(l)>=0?(p.isub(l),a.isub(v),u.isub(x)):(l.isub(p),v.isub(a),x.isub(u))}return{a:v,b:x,gcd:l.iushln(y)}},i.prototype._invmp=function(c){t(c.negative===0),t(!c.isZero());var p=this,l=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var a=new i(1),u=new i(0),v=l.clone();p.cmpn(1)>0&&l.cmpn(1)>0;){for(var x=0,y=1;!(p.words[0]&y)&&x<26;++x,y<<=1);if(x>0)for(p.iushrn(x);x-- >0;)a.isOdd()&&a.iadd(v),a.iushrn(1);for(var d=0,_=1;!(l.words[0]&_)&&d<26;++d,_<<=1);if(d>0)for(l.iushrn(d);d-- >0;)u.isOdd()&&u.iadd(v),u.iushrn(1);p.cmp(l)>=0?(p.isub(l),a.isub(u)):(l.isub(p),u.isub(a))}var D;return p.cmpn(1)===0?D=a:D=u,D.cmpn(0)<0&&D.iadd(c),D},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var p=this.clone(),l=c.clone();p.negative=0,l.negative=0;for(var a=0;p.isEven()&&l.isEven();a++)p.iushrn(1),l.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;l.isEven();)l.iushrn(1);var u=p.cmp(l);if(u<0){var v=p;p=l,l=v}else if(u===0||l.cmpn(1)===0)break;p.isub(l)}while(!0);return l.iushln(a)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){t(typeof c=="number");var p=c%26,l=(c-p)/26,a=1<<p;if(this.length<=l)return this._expand(l+1),this.words[l]|=a,this;for(var u=a,v=l;u!==0&&v<this.length;v++){var x=this.words[v]|0;x+=u,u=x>>>26,x&=67108863,this.words[v]=x}return u!==0&&(this.words[v]=u,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var p=c<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var l;if(this.length>1)l=1;else{p&&(c=-c),t(c<=67108863,"Number is too big");var a=this.words[0]|0;l=a===c?0:a<c?-1:1}return this.negative!==0?-l|0:l},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var p=this.ucmp(c);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var p=0,l=this.length-1;l>=0;l--){var a=this.words[l]|0,u=c.words[l]|0;if(a!==u){a<u?p=-1:a>u&&(p=1);break}}return p},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new L(c)},i.prototype.toRed=function(c){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return t(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return t(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var $={k256:null,p224:null,p192:null,p25519:null};function j(E,c){this.name=E,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},j.prototype.ireduce=function(c){var p=c,l;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),l=p.bitLength();while(l>this.n);var a=l<this.n?-1:p.ucmp(this.p);return a===0?(p.words[0]=0,p.length=1):a>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},j.prototype.split=function(c,p){c.iushrn(this.n,0,p)},j.prototype.imulK=function(c){return c.imul(this.k)};function H(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(H,j),H.prototype.split=function(c,p){for(var l=4194303,a=Math.min(c.length,9),u=0;u<a;u++)p.words[u]=c.words[u];if(p.length=a,c.length<=9){c.words[0]=0,c.length=1;return}var v=c.words[9];for(p.words[p.length++]=v&l,u=10;u<c.length;u++){var x=c.words[u]|0;c.words[u-10]=(x&l)<<4|v>>>22,v=x}v>>>=22,c.words[u-10]=v,v===0&&c.length>10?c.length-=10:c.length-=9},H.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var p=0,l=0;l<c.length;l++){var a=c.words[l]|0;p+=a*977,c.words[l]=p&67108863,p=a*64+(p/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function W(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(W,j);function B(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(B,j);function P(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(P,j),P.prototype.imulK=function(c){for(var p=0,l=0;l<c.length;l++){var a=(c.words[l]|0)*19+p,u=a&67108863;a>>>=26,c.words[l]=u,p=a}return p!==0&&(c.words[c.length++]=p),c},i._prime=function(c){if($[c])return $[c];var p;if(c==="k256")p=new H;else if(c==="p224")p=new W;else if(c==="p192")p=new B;else if(c==="p25519")p=new P;else throw new Error("Unknown prime "+c);return $[c]=p,p};function L(E){if(typeof E=="string"){var c=i._prime(E);this.m=c.p,this.prime=c}else t(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(c){t(c.negative===0,"red works only with positives"),t(c.red,"red works only with red numbers")},L.prototype._verify2=function(c,p){t((c.negative|p.negative)===0,"red works only with positives"),t(c.red&&c.red===p.red,"red works only with red numbers")},L.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},L.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},L.prototype.add=function(c,p){this._verify2(c,p);var l=c.add(p);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},L.prototype.iadd=function(c,p){this._verify2(c,p);var l=c.iadd(p);return l.cmp(this.m)>=0&&l.isub(this.m),l},L.prototype.sub=function(c,p){this._verify2(c,p);var l=c.sub(p);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},L.prototype.isub=function(c,p){this._verify2(c,p);var l=c.isub(p);return l.cmpn(0)<0&&l.iadd(this.m),l},L.prototype.shl=function(c,p){return this._verify1(c),this.imod(c.ushln(p))},L.prototype.imul=function(c,p){return this._verify2(c,p),this.imod(c.imul(p))},L.prototype.mul=function(c,p){return this._verify2(c,p),this.imod(c.mul(p))},L.prototype.isqr=function(c){return this.imul(c,c.clone())},L.prototype.sqr=function(c){return this.mul(c,c)},L.prototype.sqrt=function(c){if(c.isZero())return c.clone();var p=this.m.andln(3);if(t(p%2===1),p===3){var l=this.m.add(new i(1)).iushrn(2);return this.pow(c,l)}for(var a=this.m.subn(1),u=0;!a.isZero()&&a.andln(1)===0;)u++,a.iushrn(1);t(!a.isZero());var v=new i(1).toRed(this),x=v.redNeg(),y=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);this.pow(d,y).cmp(x)!==0;)d.redIAdd(x);for(var _=this.pow(d,a),D=this.pow(c,a.addn(1).iushrn(1)),m=this.pow(c,a),A=u;m.cmp(v)!==0;){for(var te=m,S=0;te.cmp(v)!==0;S++)te=te.redSqr();t(S<A);var z=this.pow(_,new i(1).iushln(A-S-1));D=D.redMul(z),_=z.redSqr(),m=m.redMul(_),A=S}return D},L.prototype.invm=function(c){var p=c._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},L.prototype.pow=function(c,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return c.clone();var l=4,a=new Array(1<<l);a[0]=new i(1).toRed(this),a[1]=c;for(var u=2;u<a.length;u++)a[u]=this.mul(a[u-1],c);var v=a[0],x=0,y=0,d=p.bitLength()%26;for(d===0&&(d=26),u=p.length-1;u>=0;u--){for(var _=p.words[u],D=d-1;D>=0;D--){var m=_>>D&1;if(v!==a[0]&&(v=this.sqr(v)),m===0&&x===0){y=0;continue}x<<=1,x|=m,y++,!(y!==l&&(u!==0||D!==0))&&(v=this.mul(v,a[x]),y=0,x=0)}d=26}return v},L.prototype.convertTo=function(c){var p=c.umod(this.m);return p===c?p.clone():p},L.prototype.convertFrom=function(c){var p=c.clone();return p.red=null,p},i.mont=function(c){return new ee(c)};function ee(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ee,L),ee.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ee.prototype.convertFrom=function(c){var p=this.imod(c.mul(this.rinv));return p.red=null,p},ee.prototype.imul=function(c,p){if(c.isZero()||p.isZero())return c.words[0]=0,c.length=1,c;var l=c.imul(p),a=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=l.isub(a).iushrn(this.shift),v=u;return u.cmp(this.m)>=0?v=u.isub(this.m):u.cmpn(0)<0&&(v=u.iadd(this.m)),v._forceRed(this)},ee.prototype.mul=function(c,p){if(c.isZero()||p.isZero())return new i(0)._forceRed(this);var l=c.mul(p),a=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=l.isub(a).iushrn(this.shift),v=u;return u.cmp(this.m)>=0?v=u.isub(this.m):u.cmpn(0)<0&&(v=u.iadd(this.m)),v._forceRed(this)},ee.prototype.invm=function(c){var p=this.imod(c._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof Bd>"u"||Bd,Zg)});var Ld=le(t6=>{"use strict";var Xc=t6;function dA(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r!="string"){for(var n=0;n<r.length;n++)t[n]=r[n]|0;return t}if(e==="hex"){r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r);for(var n=0;n<r.length;n+=2)t.push(parseInt(r[n]+r[n+1],16))}else for(var n=0;n<r.length;n++){var i=r.charCodeAt(n),o=i>>8,s=i&255;o?t.push(o,s):t.push(s)}return t}Xc.toArray=dA;function Qg(r){return r.length===1?"0"+r:r}Xc.zero2=Qg;function e6(r){for(var e="",t=0;t<r.length;t++)e+=Qg(r[t].toString(16));return e}Xc.toHex=e6;Xc.encode=function(e,t){return t==="hex"?e6(e):e}});var hr=le(r6=>{"use strict";var Zr=r6,pA=_n(),mA=ui(),Zc=Ld();Zr.assert=mA;Zr.toArray=Zc.toArray;Zr.zero2=Zc.zero2;Zr.toHex=Zc.toHex;Zr.encode=Zc.encode;function bA(r,e,t){var n=new Array(Math.max(r.bitLength(),t)+1);n.fill(0);for(var i=1<<e+1,o=r.clone(),s=0;s<n.length;s++){var f,h=o.andln(i-1);o.isOdd()?(h>(i>>1)-1?f=(i>>1)-h:f=h,o.isubn(f)):f=0,n[s]=f,o.iushrn(1)}return n}Zr.getNAF=bA;function gA(r,e){var t=[[],[]];r=r.clone(),e=e.clone();for(var n=0,i=0,o;r.cmpn(-n)>0||e.cmpn(-i)>0;){var s=r.andln(3)+n&3,f=e.andln(3)+i&3;s===3&&(s=-1),f===3&&(f=-1);var h;s&1?(o=r.andln(7)+n&7,(o===3||o===5)&&f===2?h=-s:h=s):h=0,t[0].push(h);var b;f&1?(o=e.andln(7)+i&7,(o===3||o===5)&&s===2?b=-f:b=f):b=0,t[1].push(b),2*n===h+1&&(n=1-n),2*i===b+1&&(i=1-i),r.iushrn(1),e.iushrn(1)}return t}Zr.getJSF=gA;function vA(r,e,t){var n="_"+e;r.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=t.call(this)}}Zr.cachedProperty=vA;function yA(r){return typeof r=="string"?Zr.toArray(r,"hex"):r}Zr.parseBytes=yA;function xA(r){return new pA(r,"hex","le")}Zr.intFromLE=xA});var qd=le((oU,Fd)=>{var Ud;Fd.exports=function(e){return Ud||(Ud=new gi(null)),Ud.generate(e)};function gi(r){this.rand=r}Fd.exports.Rand=gi;gi.prototype.generate=function(e){return this._rand(e)};gi.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?gi.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?gi.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(gi.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if($d=dh(),typeof $d.randomBytes!="function")throw new Error("Not supported");gi.prototype._rand=function(e){return $d.randomBytes(e)}}catch{}var $d});var Ua=le((sU,n6)=>{"use strict";var yo=_n(),La=hr(),Qc=La.getNAF,wA=La.getJSF,eu=La.assert;function vi(r,e){this.type=r,this.p=new yo(e.p,16),this.red=e.prime?yo.red(e.prime):yo.mont(this.p),this.zero=new yo(0).toRed(this.red),this.one=new yo(1).toRed(this.red),this.two=new yo(2).toRed(this.red),this.n=e.n&&new yo(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}n6.exports=vi;vi.prototype.point=function(){throw new Error("Not implemented")};vi.prototype.validate=function(){throw new Error("Not implemented")};vi.prototype._fixedNafMul=function(e,t){eu(e.precomputed);var n=e._getDoubles(),i=Qc(t,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],f,h;for(f=0;f<i.length;f+=n.step){h=0;for(var b=f+n.step-1;b>=f;b--)h=(h<<1)+i[b];s.push(h)}for(var g=this.jpoint(null,null,null),w=this.jpoint(null,null,null),T=o;T>0;T--){for(f=0;f<s.length;f++)h=s[f],h===T?w=w.mixedAdd(n.points[f]):h===-T&&(w=w.mixedAdd(n.points[f].neg()));g=g.add(w)}return g.toP()};vi.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=Qc(t,n,this._bitLength),f=this.jpoint(null,null,null),h=s.length-1;h>=0;h--){for(var b=0;h>=0&&s[h]===0;h--)b++;if(h>=0&&b++,f=f.dblp(b),h<0)break;var g=s[h];eu(g!==0),e.type==="affine"?g>0?f=f.mixedAdd(o[g-1>>1]):f=f.mixedAdd(o[-g-1>>1].neg()):g>0?f=f.add(o[g-1>>1]):f=f.add(o[-g-1>>1].neg())}return e.type==="affine"?f.toP():f};vi.prototype._wnafMulAdd=function(e,t,n,i,o){var s=this._wnafT1,f=this._wnafT2,h=this._wnafT3,b=0,g,w,T;for(g=0;g<i;g++){T=t[g];var C=T._getNAFPoints(e);s[g]=C.wnd,f[g]=C.points}for(g=i-1;g>=1;g-=2){var M=g-1,k=g;if(s[M]!==1||s[k]!==1){h[M]=Qc(n[M],s[M],this._bitLength),h[k]=Qc(n[k],s[k],this._bitLength),b=Math.max(h[M].length,b),b=Math.max(h[k].length,b);continue}var F=[t[M],null,null,t[k]];t[M].y.cmp(t[k].y)===0?(F[1]=t[M].add(t[k]),F[2]=t[M].toJ().mixedAdd(t[k].neg())):t[M].y.cmp(t[k].y.redNeg())===0?(F[1]=t[M].toJ().mixedAdd(t[k]),F[2]=t[M].add(t[k].neg())):(F[1]=t[M].toJ().mixedAdd(t[k]),F[2]=t[M].toJ().mixedAdd(t[k].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],$=wA(n[M],n[k]);for(b=Math.max($[0].length,b),h[M]=new Array(b),h[k]=new Array(b),w=0;w<b;w++){var j=$[0][w]|0,H=$[1][w]|0;h[M][w]=I[(j+1)*3+(H+1)],h[k][w]=0,f[M]=F}}var W=this.jpoint(null,null,null),B=this._wnafT4;for(g=b;g>=0;g--){for(var P=0;g>=0;){var L=!0;for(w=0;w<i;w++)B[w]=h[w][g]|0,B[w]!==0&&(L=!1);if(!L)break;P++,g--}if(g>=0&&P++,W=W.dblp(P),g<0)break;for(w=0;w<i;w++){var ee=B[w];ee!==0&&(ee>0?T=f[w][ee-1>>1]:ee<0&&(T=f[w][-ee-1>>1].neg()),T.type==="affine"?W=W.mixedAdd(T):W=W.add(T))}}for(g=0;g<i;g++)f[g]=null;return o?W:W.toP()};function Dr(r,e){this.curve=r,this.type=e,this.precomputed=null}vi.BasePoint=Dr;Dr.prototype.eq=function(){throw new Error("Not implemented")};Dr.prototype.validate=function(){return this.curve.validate(this)};vi.prototype.decodePoint=function(e,t){e=La.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?eu(e[e.length-1]%2===0):e[0]===7&&eu(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Dr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Dr.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Dr.prototype.encode=function(e,t){return La.encode(this._encode(t),e)};Dr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Dr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Dr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<t;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Dr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)t[o]=t[o-1].add(i);return{wnd:e,points:t}};Dr.prototype._getBeta=function(){return null};Dr.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}});var o6=le((aU,i6)=>{"use strict";var EA=hr(),bt=_n(),Hd=Sa(),ks=Ua(),_A=EA.assert;function Ir(r){ks.call(this,"short",r),this.a=new bt(r.a,16).toRed(this.red),this.b=new bt(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Hd(Ir,ks);i6.exports=Ir;Ir.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new bt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new bt(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))===0?n=o[0]:(n=o[1],_A(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(f){return{a:new bt(f.a,16),b:new bt(f.b,16)}}):s=this._getEndoBasis(n),{beta:t,lambda:n,basis:s}}};Ir.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:bt.mont(e),n=new bt(2).toRed(t).redInvm(),i=n.redNeg(),o=new bt(3).toRed(t).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),f=i.redSub(o).fromRed();return[s,f]};Ir.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new bt(1),s=new bt(0),f=new bt(0),h=new bt(1),b,g,w,T,C,M,k,F=0,I,$;n.cmpn(0)!==0;){var j=i.div(n);I=i.sub(j.mul(n)),$=f.sub(j.mul(o));var H=h.sub(j.mul(s));if(!w&&I.cmp(t)<0)b=k.neg(),g=o,w=I.neg(),T=$;else if(w&&++F===2)break;k=I,i=n,n=I,f=o,o=$,h=s,s=H}C=I.neg(),M=$;var W=w.sqr().add(T.sqr()),B=C.sqr().add(M.sqr());return B.cmp(W)>=0&&(C=b,M=g),w.negative&&(w=w.neg(),T=T.neg()),C.negative&&(C=C.neg(),M=M.neg()),[{a:w,b:T},{a:C,b:M}]};Ir.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),f=o.mul(n.a),h=s.mul(i.a),b=o.mul(n.b),g=s.mul(i.b),w=e.sub(f).sub(h),T=b.add(g).neg();return{k1:w,k2:T}};Ir.prototype.pointFromX=function(e,t){e=new bt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)};Ir.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),o=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Ir.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var f=this._endoSplit(t[s]),h=e[s],b=h._getBeta();f.k1.negative&&(f.k1.ineg(),h=h.neg(!0)),f.k2.negative&&(f.k2.ineg(),b=b.neg(!0)),i[s*2]=h,i[s*2+1]=b,o[s*2]=f.k1,o[s*2+1]=f.k2}for(var g=this._wnafMulAdd(1,i,o,s*2,n),w=0;w<s*2;w++)i[w]=null,o[w]=null;return g};function Mt(r,e,t,n){ks.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new bt(e,16),this.y=new bt(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Hd(Mt,ks.BasePoint);Ir.prototype.point=function(e,t,n){return new Mt(this,e,t,n)};Ir.prototype.pointFromJSON=function(e,t){return Mt.fromJSON(this,e,t)};Mt.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};Mt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Mt.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function o(f){return e.point(f[0],f[1],n)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};Mt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Mt.prototype.isInfinity=function(){return this.inf};Mt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Mt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),f=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,f)};Mt.prototype.getX=function(){return this.x.fromRed()};Mt.prototype.getY=function(){return this.y.fromRed()};Mt.prototype.mul=function(e){return e=new bt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Mt.prototype.mulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};Mt.prototype.jmulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};Mt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Mt.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};Mt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Bt(r,e,t,n){ks.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new bt(0)):(this.x=new bt(e,16),this.y=new bt(t,16),this.z=new bt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Hd(Bt,ks.BasePoint);Ir.prototype.jpoint=function(e,t,n){return new Bt(this,e,t,n)};Bt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};Bt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Bt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),o=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),h=i.redSub(o),b=s.redSub(f);if(h.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=h.redSqr(),w=g.redMul(h),T=i.redMul(g),C=b.redSqr().redIAdd(w).redISub(T).redISub(T),M=b.redMul(T.redISub(C)).redISub(s.redMul(w)),k=this.z.redMul(e.z).redMul(h);return this.curve.jpoint(C,M,k)};Bt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),o=this.y,s=e.y.redMul(t).redMul(this.z),f=n.redSub(i),h=o.redSub(s);if(f.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=f.redSqr(),g=b.redMul(f),w=n.redMul(b),T=h.redSqr().redIAdd(g).redISub(w).redISub(w),C=h.redMul(w.redISub(T)).redISub(o.redMul(g)),M=this.z.redMul(f);return this.curve.jpoint(T,C,M)};Bt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,f=this.y,h=this.z,b=h.redSqr().redSqr(),g=f.redAdd(f);for(t=0;t<e;t++){var w=s.redSqr(),T=g.redSqr(),C=T.redSqr(),M=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(b)),k=s.redMul(T),F=M.redSqr().redISub(k.redAdd(k)),I=k.redISub(F),$=M.redMul(I);$=$.redIAdd($).redISub(C);var j=g.redMul(h);t+1<e&&(b=b.redMul(C)),s=F,h=j,g=$}return this.curve.jpoint(s,g.redMul(o),h)};Bt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Bt.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),f=this.x.redAdd(o).redSqr().redISub(i).redISub(s);f=f.redIAdd(f);var h=i.redAdd(i).redIAdd(i),b=h.redSqr().redISub(f).redISub(f),g=s.redIAdd(s);g=g.redIAdd(g),g=g.redIAdd(g),e=b,t=h.redMul(f.redISub(b)).redISub(g),n=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),T=this.y.redSqr(),C=T.redSqr(),M=this.x.redAdd(T).redSqr().redISub(w).redISub(C);M=M.redIAdd(M);var k=w.redAdd(w).redIAdd(w),F=k.redSqr(),I=C.redIAdd(C);I=I.redIAdd(I),I=I.redIAdd(I),e=F.redISub(M).redISub(M),t=k.redMul(M.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};Bt.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),f=this.x.redAdd(o).redSqr().redISub(i).redISub(s);f=f.redIAdd(f);var h=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=h.redSqr().redISub(f).redISub(f);e=b;var g=s.redIAdd(s);g=g.redIAdd(g),g=g.redIAdd(g),t=h.redMul(f.redISub(b)).redISub(g),n=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),T=this.y.redSqr(),C=this.x.redMul(T),M=this.x.redSub(w).redMul(this.x.redAdd(w));M=M.redAdd(M).redIAdd(M);var k=C.redIAdd(C);k=k.redIAdd(k);var F=k.redAdd(k);e=M.redSqr().redISub(F),n=this.y.redAdd(this.z).redSqr().redISub(T).redISub(w);var I=T.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),t=M.redMul(k.redISub(e)).redISub(I)}return this.curve.jpoint(e,t,n)};Bt.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=t.redSqr(),f=n.redSqr(),h=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),b=t.redAdd(t);b=b.redIAdd(b);var g=b.redMul(f),w=h.redSqr().redISub(g.redAdd(g)),T=g.redISub(w),C=f.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var M=h.redMul(T).redISub(C),k=n.redAdd(n).redMul(i);return this.curve.jpoint(w,M,k)};Bt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),f=this.x.redAdd(t).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(s);var h=f.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var g=o.redIAdd(f).redSqr().redISub(s).redISub(h).redISub(b),w=t.redMul(g);w=w.redIAdd(w),w=w.redIAdd(w);var T=this.x.redMul(h).redISub(w);T=T.redIAdd(T),T=T.redIAdd(T);var C=this.y.redMul(g.redMul(b.redISub(g)).redISub(f.redMul(h)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var M=this.z.redAdd(f).redSqr().redISub(n).redISub(h);return this.curve.jpoint(T,C,M)};Bt.prototype.mul=function(e,t){return e=new bt(e,t),this.curve._wnafMul(this,e)};Bt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Bt.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Bt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Bt.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var f6=le((fU,a6)=>{"use strict";var Cs=_n(),s6=Sa(),tu=Ua(),AA=hr();function Ds(r){tu.call(this,"mont",r),this.a=new Cs(r.a,16).toRed(this.red),this.b=new Cs(r.b,16).toRed(this.red),this.i4=new Cs(4).toRed(this.red).redInvm(),this.two=new Cs(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}s6(Ds,tu);a6.exports=Ds;Ds.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),i=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t),o=i.redSqrt();return o.redSqr().cmp(i)===0};function Tt(r,e,t){tu.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Cs(e,16),this.z=new Cs(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s6(Tt,tu.BasePoint);Ds.prototype.decodePoint=function(e,t){return this.point(AA.toArray(e,t),1)};Ds.prototype.point=function(e,t){return new Tt(this,e,t)};Ds.prototype.pointFromJSON=function(e){return Tt.fromJSON(this,e)};Tt.prototype.precompute=function(){};Tt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Tt.fromJSON=function(e,t){return new Tt(e,t[0],t[1]||e.one)};Tt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Tt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Tt.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),o=t.redSub(i),s=t.redMul(i),f=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,f)};Tt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Tt.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),f=s.redMul(n),h=o.redMul(i),b=t.z.redMul(f.redAdd(h).redSqr()),g=t.x.redMul(f.redISub(h).redSqr());return this.curve.point(b,g)};Tt.prototype.mul=function(e){for(var t=e.clone(),n=this,i=this.curve.point(null,null),o=this,s=[];t.cmpn(0)!==0;t.iushrn(1))s.push(t.andln(1));for(var f=s.length-1;f>=0;f--)s[f]===0?(n=n.diffAdd(i,o),i=i.dbl()):(i=n.diffAdd(i,o),n=n.dbl());return i};Tt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Tt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Tt.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Tt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Tt.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var l6=le((cU,u6)=>{"use strict";var SA=hr(),zn=_n(),c6=Sa(),ru=Ua(),MA=SA.assert;function An(r){this.twisted=(r.a|0)!==1,this.mOneA=this.twisted&&(r.a|0)===-1,this.extended=this.mOneA,ru.call(this,"edwards",r),this.a=new zn(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new zn(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new zn(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),MA(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)===1}c6(An,ru);u6.exports=An;An.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};An.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};An.prototype.jpoint=function(e,t,n,i){return this.point(e,t,n,i)};An.prototype.pointFromX=function(e,t){e=new zn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(o.redInvm()),f=s.redSqrt();if(f.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var h=f.fromRed().isOdd();return(t&&!h||!t&&h)&&(f=f.redNeg()),this.point(e,f)};An.prototype.pointFromY=function(e,t){e=new zn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var f=s.redSqrt();if(f.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==t&&(f=f.redNeg()),this.point(f,e)};An.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),i=t.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return i.cmp(o)===0};function ut(r,e,t,n,i){ru.BasePoint.call(this,r,"projective"),e===null&&t===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new zn(e,16),this.y=new zn(t,16),this.z=n?new zn(n,16):this.curve.one,this.t=i&&new zn(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c6(ut,ru.BasePoint);An.prototype.pointFromJSON=function(e){return ut.fromJSON(this,e)};An.prototype.point=function(e,t,n,i){return new ut(this,e,t,n,i)};ut.fromJSON=function(e,t){return new ut(e,t[0],t[1],t[2])};ut.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ut.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};ut.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=i.redAdd(t),f=s.redSub(n),h=i.redSub(t),b=o.redMul(f),g=s.redMul(h),w=o.redMul(h),T=f.redMul(s);return this.curve.point(b,g,T,w)};ut.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),n=this.y.redSqr(),i,o,s,f,h,b;if(this.curve.twisted){f=this.curve._mulA(t);var g=f.redAdd(n);this.zOne?(i=e.redSub(t).redSub(n).redMul(g.redSub(this.curve.two)),o=g.redMul(f.redSub(n)),s=g.redSqr().redSub(g).redSub(g)):(h=this.z.redSqr(),b=g.redSub(h).redISub(h),i=e.redSub(t).redISub(n).redMul(b),o=g.redMul(f.redSub(n)),s=g.redMul(b))}else f=t.redAdd(n),h=this.curve._mulC(this.z).redSqr(),b=f.redSub(h).redSub(h),i=this.curve._mulC(e.redISub(f)).redMul(b),o=this.curve._mulC(f).redMul(t.redISub(n)),s=f.redMul(b);return this.curve.point(i,o,s)};ut.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};ut.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(t),f=o.redSub(i),h=o.redAdd(i),b=n.redAdd(t),g=s.redMul(f),w=h.redMul(b),T=s.redMul(b),C=f.redMul(h);return this.curve.point(g,w,C,T)};ut.prototype._projAdd=function(e){var t=this.z.redMul(e.z),n=t.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(o),f=n.redSub(s),h=n.redAdd(s),b=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),g=t.redMul(f).redMul(b),w,T;return this.curve.twisted?(w=t.redMul(h).redMul(o.redSub(this.curve._mulA(i))),T=f.redMul(h)):(w=t.redMul(h).redMul(o.redSub(i)),T=this.curve._mulC(f).redMul(h)),this.curve.point(g,w,T)};ut.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};ut.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};ut.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)};ut.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)};ut.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};ut.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};ut.prototype.getX=function(){return this.normalize(),this.x.fromRed()};ut.prototype.getY=function(){return this.normalize(),this.y.fromRed()};ut.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};ut.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),this.x.cmp(t)===0)return!0}};ut.prototype.toP=ut.prototype.normalize;ut.prototype.mixedAdd=ut.prototype.add});var zd=le(h6=>{"use strict";var nu=h6;nu.base=Ua();nu.short=o6();nu.mont=f6();nu.edwards=l6()});var p6=le((lU,d6)=>{d6.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var iu=le(g6=>{"use strict";var jd=g6,yi=ka(),Kd=zd(),TA=hr(),m6=TA.assert;function b6(r){r.type==="short"?this.curve=new Kd.short(r):r.type==="edwards"?this.curve=new Kd.edwards(r):this.curve=new Kd.mont(r),this.g=this.curve.g,this.n=this.curve.n,this.hash=r.hash,m6(this.g.validate(),"Invalid curve"),m6(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}jd.PresetCurve=b6;function xi(r,e){Object.defineProperty(jd,r,{configurable:!0,enumerable:!0,get:function(){var t=new b6(e);return Object.defineProperty(jd,r,{configurable:!0,enumerable:!0,value:t}),t}})}xi("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:yi.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});xi("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:yi.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});xi("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:yi.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});xi("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:yi.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});xi("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:yi.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});xi("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yi.sha256,gRed:!1,g:["9"]});xi("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yi.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Gd;try{Gd=p6()}catch{Gd=void 0}xi("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:yi.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Gd]})});var x6=le((dU,y6)=>{"use strict";var kA=ka(),xo=Ld(),v6=ui();function wi(r){if(!(this instanceof wi))return new wi(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=xo.toArray(r.entropy,r.entropyEnc||"hex"),t=xo.toArray(r.nonce,r.nonceEnc||"hex"),n=xo.toArray(r.pers,r.persEnc||"hex");v6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}y6.exports=wi;wi.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};wi.prototype._hmac=function(){return new kA.hmac(this.hash,this.K)};wi.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};wi.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=xo.toArray(e,t),n=xo.toArray(n,i),v6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};wi.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=xo.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,xo.encode(s,t)}});var E6=le((pU,w6)=>{"use strict";var CA=_n(),DA=hr(),Jd=DA.assert;function Kt(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}w6.exports=Kt;Kt.fromPublic=function(e,t,n){return t instanceof Kt?t:new Kt(e,{pub:t,pubEnc:n})};Kt.fromPrivate=function(e,t,n){return t instanceof Kt?t:new Kt(e,{priv:t,privEnc:n})};Kt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Kt.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Kt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Kt.prototype._importPrivate=function(e,t){this.priv=new CA(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Kt.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Jd(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Jd(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Kt.prototype.derive=function(e){return e.validate()||Jd(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Kt.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Kt.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Kt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var S6=le((mU,A6)=>{"use strict";var ou=_n(),Wd=hr(),IA=Wd.assert;function su(r,e){if(r instanceof su)return r;this._importDER(r,e)||(IA(r.r&&r.s,"Signature without r or s"),this.r=new ou(r.r,16),this.s=new ou(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}A6.exports=su;function OA(){this.place=0}function Vd(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=r[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function _6(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}su.prototype._importDER=function(e,t){e=Wd.toArray(e,t);var n=new OA;if(e[n.place++]!==48)return!1;var i=Vd(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=Vd(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var f=Vd(e,n);if(f===!1||e.length!==f+n.place)return!1;var h=e.slice(n.place,f+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(h[0]===0)if(h[1]&128)h=h.slice(1);else return!1;return this.r=new ou(s),this.s=new ou(h),this.recoveryParam=null,!0};function Yd(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}su.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=_6(t),n=_6(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Yd(i,t.length),i=i.concat(t),i.push(2),Yd(i,n.length);var o=i.concat(n),s=[48];return Yd(s,o.length),s=s.concat(o),Wd.encode(s,e)}});var C6=le((bU,k6)=>{"use strict";var wo=_n(),M6=x6(),NA=hr(),Xd=iu(),RA=qd(),T6=NA.assert,Zd=E6(),au=S6();function Or(r){if(!(this instanceof Or))return new Or(r);typeof r=="string"&&(T6(Object.prototype.hasOwnProperty.call(Xd,r),"Unknown curve "+r),r=Xd[r]),r instanceof Xd.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}k6.exports=Or;Or.prototype.keyPair=function(e){return new Zd(this,e)};Or.prototype.keyFromPrivate=function(e,t){return Zd.fromPrivate(this,e,t)};Or.prototype.keyFromPublic=function(e,t){return Zd.fromPublic(this,e,t)};Or.prototype.genKeyPair=function(e){e||(e={});for(var t=new M6({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||RA(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new wo(2));;){var o=new wo(t.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Or.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Or.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new wo(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),f=e.toArray("be",o),h=new M6({hash:this.hash,entropy:s,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new wo(1)),g=0;;g++){var w=i.k?i.k(g):new wo(h.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(b)>=0)){var T=this.g.mul(w);if(!T.isInfinity()){var C=T.getX(),M=C.umod(this.n);if(M.cmpn(0)!==0){var k=w.invm(this.n).mul(M.mul(t.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var F=(T.getY().isOdd()?1:0)|(C.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),F^=1),new au({r:M,s:k,recoveryParam:F})}}}}}};Or.prototype.verify=function(e,t,n,i){e=this._truncateToN(new wo(e,16)),n=this.keyFromPublic(n,i),t=new au(t,"hex");var o=t.r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var f=s.invm(this.n),h=f.mul(e).umod(this.n),b=f.mul(o).umod(this.n),g;return this.curve._maxwellTrick?(g=this.g.jmulAdd(h,n.getPublic(),b),g.isInfinity()?!1:g.eqXToP(o)):(g=this.g.mulAdd(h,n.getPublic(),b),g.isInfinity()?!1:g.getX().umod(this.n).cmp(o)===0)};Or.prototype.recoverPubKey=function(r,e,t,n){T6((3&t)===t,"The recovery param is more than two bits"),e=new au(e,n);var i=this.n,o=new wo(r),s=e.r,f=e.s,h=t&1,b=t>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&b)throw new Error("Unable to find sencond key candinate");b?s=this.curve.pointFromX(s.add(this.curve.n),h):s=this.curve.pointFromX(s,h);var g=e.r.invm(i),w=i.sub(o).mul(g).umod(i),T=f.mul(g).umod(i);return this.g.mulAdd(w,s,T)};Or.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new au(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(r,e,i)}catch{continue}if(o.eq(t))return i}throw new Error("Unable to find valid recovery factor")}});var N6=le((gU,O6)=>{"use strict";var $a=hr(),I6=$a.assert,D6=$a.parseBytes,Is=$a.cachedProperty;function kt(r,e){this.eddsa=r,this._secret=D6(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=D6(e.pub)}kt.fromPublic=function(e,t){return t instanceof kt?t:new kt(e,{pub:t})};kt.fromSecret=function(e,t){return t instanceof kt?t:new kt(e,{secret:t})};kt.prototype.secret=function(){return this._secret};Is(kt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Is(kt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Is(kt,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Is(kt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Is(kt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Is(kt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});kt.prototype.sign=function(e){return I6(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};kt.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};kt.prototype.getSecret=function(e){return I6(this._secret,"KeyPair is public only"),$a.encode(this.secret(),e)};kt.prototype.getPublic=function(e){return $a.encode(this.pubBytes(),e)};O6.exports=kt});var P6=le((vU,R6)=>{"use strict";var PA=_n(),fu=hr(),BA=fu.assert,cu=fu.cachedProperty,LA=fu.parseBytes;function Eo(r,e){this.eddsa=r,typeof e!="object"&&(e=LA(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),BA(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof PA&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}cu(Eo,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cu(Eo,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cu(Eo,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cu(Eo,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Eo.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Eo.prototype.toHex=function(){return fu.encode(this.toBytes(),"hex").toUpperCase()};R6.exports=Eo});var F6=le((yU,$6)=>{"use strict";var UA=ka(),$A=iu(),Os=hr(),FA=Os.assert,L6=Os.parseBytes,U6=N6(),B6=P6();function Qt(r){if(FA(r==="ed25519","only tested with ed25519 so far"),!(this instanceof Qt))return new Qt(r);r=$A[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=UA.sha512}$6.exports=Qt;Qt.prototype.sign=function(e,t){e=L6(e);var n=this.keyFromSecret(t),i=this.hashInt(n.messagePrefix(),e),o=this.g.mul(i),s=this.encodePoint(o),f=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),h=i.add(f).umod(this.curve.n);return this.makeSignature({R:o,S:h,Rencoded:s})};Qt.prototype.verify=function(e,t,n){e=L6(e),t=this.makeSignature(t);var i=this.keyFromPublic(n),o=this.hashInt(t.Rencoded(),i.pubBytes(),e),s=this.g.mul(t.S()),f=t.R().add(i.pub().mul(o));return f.eq(s)};Qt.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return Os.intFromLE(e.digest()).umod(this.curve.n)};Qt.prototype.keyFromPublic=function(e){return U6.fromPublic(this,e)};Qt.prototype.keyFromSecret=function(e){return U6.fromSecret(this,e)};Qt.prototype.makeSignature=function(e){return e instanceof B6?e:new B6(this,e)};Qt.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};Qt.prototype.decodePoint=function(e){e=Os.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(e[t]&-129),i=(e[t]&128)!==0,o=Os.intFromLE(n);return this.curve.pointFromY(o,i)};Qt.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Qt.prototype.decodeInt=function(e){return Os.intFromLE(e)};Qt.prototype.isPoint=function(e){return e instanceof this.pointClass}});var H6=le(q6=>{"use strict";var _o=q6;_o.version=Xg().version;_o.utils=hr();_o.rand=qd();_o.curve=zd();_o.curves=iu();_o.ec=C6();_o.eddsa=F6()});var K6=le((wU,z6)=>{"use strict";z6.exports=function r(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((t,n,i)=>{let o=i===0?"":",",s=n===void 0||typeof n=="symbol"?null:n;return t+o+r(s)},"")+"]":"{"+Object.keys(e).sort().reduce((t,n,i)=>{if(e[n]===void 0||typeof e[n]=="symbol")return t;let o=t.length===0?"":",";return t+o+r(n)+":"+r(e[n])},"")+"}"}});var V6=le(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.bech32m=Rs.bech32=void 0;var uu="qpzry9x8gf2tvdw0s3jn54khce6mua7l",G6={};for(let r=0;r<uu.length;r++){let e=uu.charAt(r);G6[e]=r}function Ns(r){let e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function j6(r){let e=1;for(let t=0;t<r.length;++t){let n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=Ns(e)^n>>5}e=Ns(e);for(let t=0;t<r.length;++t){let n=r.charCodeAt(t);e=Ns(e)^n&31}return e}function Qd(r,e,t,n){let i=0,o=0,s=(1<<t)-1,f=[];for(let h=0;h<r.length;++h)for(i=i<<e|r[h],o+=e;o>=t;)o-=t,f.push(i>>o&s);if(n)o>0&&f.push(i<<t-o&s);else{if(o>=e)return"Excess padding";if(i<<t-o&s)return"Non-zero padding"}return f}function qA(r){return Qd(r,8,5,!0)}function HA(r){let e=Qd(r,5,8,!1);if(Array.isArray(e))return e}function zA(r){let e=Qd(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function J6(r){let e;r==="bech32"?e=1:e=734539939;function t(s,f,h){if(h=h||90,s.length+7+f.length>h)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let b=j6(s);if(typeof b=="string")throw new Error(b);let g=s+"1";for(let w=0;w<f.length;++w){let T=f[w];if(T>>5)throw new Error("Non 5-bit word");b=Ns(b)^T,g+=uu.charAt(T)}for(let w=0;w<6;++w)b=Ns(b);b^=e;for(let w=0;w<6;++w){let T=b>>(5-w)*5&31;g+=uu.charAt(T)}return g}function n(s,f){if(f=f||90,s.length<8)return s+" too short";if(s.length>f)return"Exceeds length limit";let h=s.toLowerCase(),b=s.toUpperCase();if(s!==h&&s!==b)return"Mixed-case string "+s;s=h;let g=s.lastIndexOf("1");if(g===-1)return"No separator character for "+s;if(g===0)return"Missing prefix for "+s;let w=s.slice(0,g),T=s.slice(g+1);if(T.length<6)return"Data too short";let C=j6(w);if(typeof C=="string")return C;let M=[];for(let k=0;k<T.length;++k){let F=T.charAt(k),I=G6[F];if(I===void 0)return"Unknown character "+F;C=Ns(C)^I,!(k+6>=T.length)&&M.push(I)}return C!==e?"Invalid checksum for "+s:{prefix:w,words:M}}function i(s,f){let h=n(s,f);if(typeof h=="object")return h}function o(s,f){let h=n(s,f);if(typeof h=="object")return h;throw new Error(h)}return{decodeUnsafe:i,decode:o,encode:t,toWords:qA,fromWordsUnsafe:HA,fromWords:zA}}Rs.bech32=J6("bech32");Rs.bech32m=J6("bech32m")});var Z6=le(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.sharedKey=gt.generateKeyPair=gt.generateKeyPairFromSeed=gt.scalarMultBase=gt.scalarMult=gt.SHARED_KEY_LENGTH=gt.SECRET_KEY_LENGTH=gt.PUBLIC_KEY_LENGTH=void 0;var KA=no(),jA=Sr();gt.PUBLIC_KEY_LENGTH=32;gt.SECRET_KEY_LENGTH=32;gt.SHARED_KEY_LENGTH=32;function Sn(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var Y6=new Uint8Array(32);Y6[0]=9;var GA=Sn([56129,1]);function e0(r){let e=1;for(let t=0;t<16;t++){let n=r[t]+e+65535;e=Math.floor(n/65536),r[t]=n-e*65536}r[0]+=e-1+37*(e-1)}function Fa(r,e,t){let n=~(t-1);for(let i=0;i<16;i++){let o=n&(r[i]^e[i]);r[i]^=o,e[i]^=o}}function JA(r,e){let t=Sn(),n=Sn();for(let i=0;i<16;i++)n[i]=e[i];e0(n),e0(n),e0(n);for(let i=0;i<2;i++){t[0]=n[0]-65517;for(let s=1;s<15;s++)t[s]=n[s]-65535-(t[s-1]>>16&1),t[s-1]&=65535;t[15]=n[15]-32767-(t[14]>>16&1);let o=t[15]>>16&1;t[14]&=65535,Fa(n,t,1-o)}for(let i=0;i<16;i++)r[2*i]=n[i]&255,r[2*i+1]=n[i]>>8}function VA(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function lu(r,e,t){for(let n=0;n<16;n++)r[n]=e[n]+t[n]}function hu(r,e,t){for(let n=0;n<16;n++)r[n]=e[n]-t[n]}function Kn(r,e,t){let n,i,o=0,s=0,f=0,h=0,b=0,g=0,w=0,T=0,C=0,M=0,k=0,F=0,I=0,$=0,j=0,H=0,W=0,B=0,P=0,L=0,ee=0,E=0,c=0,p=0,l=0,a=0,u=0,v=0,x=0,y=0,d=0,_=t[0],D=t[1],m=t[2],A=t[3],te=t[4],S=t[5],z=t[6],Y=t[7],N=t[8],R=t[9],K=t[10],G=t[11],Z=t[12],ce=t[13],ie=t[14],V=t[15];n=e[0],o+=n*_,s+=n*D,f+=n*m,h+=n*A,b+=n*te,g+=n*S,w+=n*z,T+=n*Y,C+=n*N,M+=n*R,k+=n*K,F+=n*G,I+=n*Z,$+=n*ce,j+=n*ie,H+=n*V,n=e[1],s+=n*_,f+=n*D,h+=n*m,b+=n*A,g+=n*te,w+=n*S,T+=n*z,C+=n*Y,M+=n*N,k+=n*R,F+=n*K,I+=n*G,$+=n*Z,j+=n*ce,H+=n*ie,W+=n*V,n=e[2],f+=n*_,h+=n*D,b+=n*m,g+=n*A,w+=n*te,T+=n*S,C+=n*z,M+=n*Y,k+=n*N,F+=n*R,I+=n*K,$+=n*G,j+=n*Z,H+=n*ce,W+=n*ie,B+=n*V,n=e[3],h+=n*_,b+=n*D,g+=n*m,w+=n*A,T+=n*te,C+=n*S,M+=n*z,k+=n*Y,F+=n*N,I+=n*R,$+=n*K,j+=n*G,H+=n*Z,W+=n*ce,B+=n*ie,P+=n*V,n=e[4],b+=n*_,g+=n*D,w+=n*m,T+=n*A,C+=n*te,M+=n*S,k+=n*z,F+=n*Y,I+=n*N,$+=n*R,j+=n*K,H+=n*G,W+=n*Z,B+=n*ce,P+=n*ie,L+=n*V,n=e[5],g+=n*_,w+=n*D,T+=n*m,C+=n*A,M+=n*te,k+=n*S,F+=n*z,I+=n*Y,$+=n*N,j+=n*R,H+=n*K,W+=n*G,B+=n*Z,P+=n*ce,L+=n*ie,ee+=n*V,n=e[6],w+=n*_,T+=n*D,C+=n*m,M+=n*A,k+=n*te,F+=n*S,I+=n*z,$+=n*Y,j+=n*N,H+=n*R,W+=n*K,B+=n*G,P+=n*Z,L+=n*ce,ee+=n*ie,E+=n*V,n=e[7],T+=n*_,C+=n*D,M+=n*m,k+=n*A,F+=n*te,I+=n*S,$+=n*z,j+=n*Y,H+=n*N,W+=n*R,B+=n*K,P+=n*G,L+=n*Z,ee+=n*ce,E+=n*ie,c+=n*V,n=e[8],C+=n*_,M+=n*D,k+=n*m,F+=n*A,I+=n*te,$+=n*S,j+=n*z,H+=n*Y,W+=n*N,B+=n*R,P+=n*K,L+=n*G,ee+=n*Z,E+=n*ce,c+=n*ie,p+=n*V,n=e[9],M+=n*_,k+=n*D,F+=n*m,I+=n*A,$+=n*te,j+=n*S,H+=n*z,W+=n*Y,B+=n*N,P+=n*R,L+=n*K,ee+=n*G,E+=n*Z,c+=n*ce,p+=n*ie,l+=n*V,n=e[10],k+=n*_,F+=n*D,I+=n*m,$+=n*A,j+=n*te,H+=n*S,W+=n*z,B+=n*Y,P+=n*N,L+=n*R,ee+=n*K,E+=n*G,c+=n*Z,p+=n*ce,l+=n*ie,a+=n*V,n=e[11],F+=n*_,I+=n*D,$+=n*m,j+=n*A,H+=n*te,W+=n*S,B+=n*z,P+=n*Y,L+=n*N,ee+=n*R,E+=n*K,c+=n*G,p+=n*Z,l+=n*ce,a+=n*ie,u+=n*V,n=e[12],I+=n*_,$+=n*D,j+=n*m,H+=n*A,W+=n*te,B+=n*S,P+=n*z,L+=n*Y,ee+=n*N,E+=n*R,c+=n*K,p+=n*G,l+=n*Z,a+=n*ce,u+=n*ie,v+=n*V,n=e[13],$+=n*_,j+=n*D,H+=n*m,W+=n*A,B+=n*te,P+=n*S,L+=n*z,ee+=n*Y,E+=n*N,c+=n*R,p+=n*K,l+=n*G,a+=n*Z,u+=n*ce,v+=n*ie,x+=n*V,n=e[14],j+=n*_,H+=n*D,W+=n*m,B+=n*A,P+=n*te,L+=n*S,ee+=n*z,E+=n*Y,c+=n*N,p+=n*R,l+=n*K,a+=n*G,u+=n*Z,v+=n*ce,x+=n*ie,y+=n*V,n=e[15],H+=n*_,W+=n*D,B+=n*m,P+=n*A,L+=n*te,ee+=n*S,E+=n*z,c+=n*Y,p+=n*N,l+=n*R,a+=n*K,u+=n*G,v+=n*Z,x+=n*ce,y+=n*ie,d+=n*V,o+=38*W,s+=38*B,f+=38*P,h+=38*L,b+=38*ee,g+=38*E,w+=38*c,T+=38*p,C+=38*l,M+=38*a,k+=38*u,F+=38*v,I+=38*x,$+=38*y,j+=38*d,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=F+i+65535,i=Math.floor(n/65536),F=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=$+i+65535,i=Math.floor(n/65536),$=n-i*65536,n=j+i+65535,i=Math.floor(n/65536),j=n-i*65536,n=H+i+65535,i=Math.floor(n/65536),H=n-i*65536,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=F+i+65535,i=Math.floor(n/65536),F=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=$+i+65535,i=Math.floor(n/65536),$=n-i*65536,n=j+i+65535,i=Math.floor(n/65536),j=n-i*65536,n=H+i+65535,i=Math.floor(n/65536),H=n-i*65536,o+=i-1+37*(i-1),r[0]=o,r[1]=s,r[2]=f,r[3]=h,r[4]=b,r[5]=g,r[6]=w,r[7]=T,r[8]=C,r[9]=M,r[10]=k,r[11]=F,r[12]=I,r[13]=$,r[14]=j,r[15]=H}function qa(r,e){Kn(r,e,e)}function YA(r,e){let t=Sn();for(let n=0;n<16;n++)t[n]=e[n];for(let n=253;n>=0;n--)qa(t,t),n!==2&&n!==4&&Kn(t,t,e);for(let n=0;n<16;n++)r[n]=t[n]}function t0(r,e){let t=new Uint8Array(32),n=new Float64Array(80),i=Sn(),o=Sn(),s=Sn(),f=Sn(),h=Sn(),b=Sn();for(let C=0;C<31;C++)t[C]=r[C];t[31]=r[31]&127|64,t[0]&=248,VA(n,e);for(let C=0;C<16;C++)o[C]=n[C];i[0]=f[0]=1;for(let C=254;C>=0;--C){let M=t[C>>>3]>>>(C&7)&1;Fa(i,o,M),Fa(s,f,M),lu(h,i,s),hu(i,i,s),lu(s,o,f),hu(o,o,f),qa(f,h),qa(b,i),Kn(i,s,i),Kn(s,o,h),lu(h,i,s),hu(i,i,s),qa(o,i),hu(s,f,b),Kn(i,s,GA),lu(i,i,f),Kn(s,s,i),Kn(i,f,b),Kn(f,o,n),qa(o,h),Fa(i,o,M),Fa(s,f,M)}for(let C=0;C<16;C++)n[C+16]=i[C],n[C+32]=s[C],n[C+48]=o[C],n[C+64]=f[C];let g=n.subarray(32),w=n.subarray(16);YA(g,g),Kn(w,w,g);let T=new Uint8Array(32);return JA(T,w),T}gt.scalarMult=t0;function W6(r){return t0(r,Y6)}gt.scalarMultBase=W6;function X6(r){if(r.length!==gt.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${gt.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(r);return{publicKey:W6(e),secretKey:e}}gt.generateKeyPairFromSeed=X6;function WA(r){let e=(0,KA.randomBytes)(32,r),t=X6(e);return(0,jA.wipe)(e),t}gt.generateKeyPair=WA;function XA(r,e,t=!1){if(r.length!==gt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==gt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let n=t0(r,e);if(t){let i=0;for(let o=0;o<n.length;o++)i|=n[o];if(i===0)throw new Error("X25519: invalid shared key")}return n}gt.sharedKey=XA});var n0=le(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});var jt=ro(),r0=Sr(),ZA=20;function QA(r,e,t){for(var n=1634760805,i=857760878,o=2036477234,s=1797285236,f=t[3]<<24|t[2]<<16|t[1]<<8|t[0],h=t[7]<<24|t[6]<<16|t[5]<<8|t[4],b=t[11]<<24|t[10]<<16|t[9]<<8|t[8],g=t[15]<<24|t[14]<<16|t[13]<<8|t[12],w=t[19]<<24|t[18]<<16|t[17]<<8|t[16],T=t[23]<<24|t[22]<<16|t[21]<<8|t[20],C=t[27]<<24|t[26]<<16|t[25]<<8|t[24],M=t[31]<<24|t[30]<<16|t[29]<<8|t[28],k=e[3]<<24|e[2]<<16|e[1]<<8|e[0],F=e[7]<<24|e[6]<<16|e[5]<<8|e[4],I=e[11]<<24|e[10]<<16|e[9]<<8|e[8],$=e[15]<<24|e[14]<<16|e[13]<<8|e[12],j=n,H=i,W=o,B=s,P=f,L=h,ee=b,E=g,c=w,p=T,l=C,a=M,u=k,v=F,x=I,y=$,d=0;d<ZA;d+=2)j=j+P|0,u^=j,u=u>>>32-16|u<<16,c=c+u|0,P^=c,P=P>>>32-12|P<<12,H=H+L|0,v^=H,v=v>>>32-16|v<<16,p=p+v|0,L^=p,L=L>>>32-12|L<<12,W=W+ee|0,x^=W,x=x>>>32-16|x<<16,l=l+x|0,ee^=l,ee=ee>>>32-12|ee<<12,B=B+E|0,y^=B,y=y>>>32-16|y<<16,a=a+y|0,E^=a,E=E>>>32-12|E<<12,W=W+ee|0,x^=W,x=x>>>32-8|x<<8,l=l+x|0,ee^=l,ee=ee>>>32-7|ee<<7,B=B+E|0,y^=B,y=y>>>32-8|y<<8,a=a+y|0,E^=a,E=E>>>32-7|E<<7,H=H+L|0,v^=H,v=v>>>32-8|v<<8,p=p+v|0,L^=p,L=L>>>32-7|L<<7,j=j+P|0,u^=j,u=u>>>32-8|u<<8,c=c+u|0,P^=c,P=P>>>32-7|P<<7,j=j+L|0,y^=j,y=y>>>32-16|y<<16,l=l+y|0,L^=l,L=L>>>32-12|L<<12,H=H+ee|0,u^=H,u=u>>>32-16|u<<16,a=a+u|0,ee^=a,ee=ee>>>32-12|ee<<12,W=W+E|0,v^=W,v=v>>>32-16|v<<16,c=c+v|0,E^=c,E=E>>>32-12|E<<12,B=B+P|0,x^=B,x=x>>>32-16|x<<16,p=p+x|0,P^=p,P=P>>>32-12|P<<12,W=W+E|0,v^=W,v=v>>>32-8|v<<8,c=c+v|0,E^=c,E=E>>>32-7|E<<7,B=B+P|0,x^=B,x=x>>>32-8|x<<8,p=p+x|0,P^=p,P=P>>>32-7|P<<7,H=H+ee|0,u^=H,u=u>>>32-8|u<<8,a=a+u|0,ee^=a,ee=ee>>>32-7|ee<<7,j=j+L|0,y^=j,y=y>>>32-8|y<<8,l=l+y|0,L^=l,L=L>>>32-7|L<<7;jt.writeUint32LE(j+n|0,r,0),jt.writeUint32LE(H+i|0,r,4),jt.writeUint32LE(W+o|0,r,8),jt.writeUint32LE(B+s|0,r,12),jt.writeUint32LE(P+f|0,r,16),jt.writeUint32LE(L+h|0,r,20),jt.writeUint32LE(ee+b|0,r,24),jt.writeUint32LE(E+g|0,r,28),jt.writeUint32LE(c+w|0,r,32),jt.writeUint32LE(p+T|0,r,36),jt.writeUint32LE(l+C|0,r,40),jt.writeUint32LE(a+M|0,r,44),jt.writeUint32LE(u+k|0,r,48),jt.writeUint32LE(v+F|0,r,52),jt.writeUint32LE(x+I|0,r,56),jt.writeUint32LE(y+$|0,r,60)}function Q6(r,e,t,n,i){if(i===void 0&&(i=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<t.length)throw new Error("ChaCha: destination is shorter than source");var o,s;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=new Uint8Array(16),s=o.length-e.length,o.set(e,s)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");o=e,s=i}for(var f=new Uint8Array(64),h=0;h<t.length;h+=64){QA(f,o,r);for(var b=h;b<h+64&&b<t.length;b++)n[b]=t[b]^f[b-h];tS(o,0,s)}return r0.wipe(f),i===0&&r0.wipe(o),n}du.streamXOR=Q6;function eS(r,e,t,n){return n===void 0&&(n=0),r0.wipe(t),Q6(r,e,t,t,n)}du.stream=eS;function tS(r,e,t){for(var n=1;t--;)n=n+(r[e]&255)|0,r[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}});var nv=le(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});var Ei=ro(),ev=Sr(),rS=n0(),nS=20;function tv(r,e,t,n){if(e.length!==24)throw new Error("XChaCha20 nonce must be 24 bytes");var i=rv(r,e.subarray(0,16),new Uint8Array(32)),o=new Uint8Array(12);o.set(e.subarray(16),4);var s=rS.streamXOR(i,o,t,n);return ev.wipe(i),s}Ha.streamXOR=tv;function iS(r,e,t){return ev.wipe(t),tv(r,e,t,t)}Ha.stream=iS;function rv(r,e,t){for(var n=1634760805,i=857760878,o=2036477234,s=1797285236,f=r[3]<<24|r[2]<<16|r[1]<<8|r[0],h=r[7]<<24|r[6]<<16|r[5]<<8|r[4],b=r[11]<<24|r[10]<<16|r[9]<<8|r[8],g=r[15]<<24|r[14]<<16|r[13]<<8|r[12],w=r[19]<<24|r[18]<<16|r[17]<<8|r[16],T=r[23]<<24|r[22]<<16|r[21]<<8|r[20],C=r[27]<<24|r[26]<<16|r[25]<<8|r[24],M=r[31]<<24|r[30]<<16|r[29]<<8|r[28],k=e[3]<<24|e[2]<<16|e[1]<<8|e[0],F=e[7]<<24|e[6]<<16|e[5]<<8|e[4],I=e[11]<<24|e[10]<<16|e[9]<<8|e[8],$=e[15]<<24|e[14]<<16|e[13]<<8|e[12],j=n,H=i,W=o,B=s,P=f,L=h,ee=b,E=g,c=w,p=T,l=C,a=M,u=k,v=F,x=I,y=$,d=0;d<nS;d+=2)j=j+P|0,u^=j,u=u>>>32-16|u<<16,c=c+u|0,P^=c,P=P>>>32-12|P<<12,H=H+L|0,v^=H,v=v>>>32-16|v<<16,p=p+v|0,L^=p,L=L>>>32-12|L<<12,W=W+ee|0,x^=W,x=x>>>32-16|x<<16,l=l+x|0,ee^=l,ee=ee>>>32-12|ee<<12,B=B+E|0,y^=B,y=y>>>32-16|y<<16,a=a+y|0,E^=a,E=E>>>32-12|E<<12,W=W+ee|0,x^=W,x=x>>>32-8|x<<8,l=l+x|0,ee^=l,ee=ee>>>32-7|ee<<7,B=B+E|0,y^=B,y=y>>>32-8|y<<8,a=a+y|0,E^=a,E=E>>>32-7|E<<7,H=H+L|0,v^=H,v=v>>>32-8|v<<8,p=p+v|0,L^=p,L=L>>>32-7|L<<7,j=j+P|0,u^=j,u=u>>>32-8|u<<8,c=c+u|0,P^=c,P=P>>>32-7|P<<7,j=j+L|0,y^=j,y=y>>>32-16|y<<16,l=l+y|0,L^=l,L=L>>>32-12|L<<12,H=H+ee|0,u^=H,u=u>>>32-16|u<<16,a=a+u|0,ee^=a,ee=ee>>>32-12|ee<<12,W=W+E|0,v^=W,v=v>>>32-16|v<<16,c=c+v|0,E^=c,E=E>>>32-12|E<<12,B=B+P|0,x^=B,x=x>>>32-16|x<<16,p=p+x|0,P^=p,P=P>>>32-12|P<<12,W=W+E|0,v^=W,v=v>>>32-8|v<<8,c=c+v|0,E^=c,E=E>>>32-7|E<<7,B=B+P|0,x^=B,x=x>>>32-8|x<<8,p=p+x|0,P^=p,P=P>>>32-7|P<<7,H=H+ee|0,u^=H,u=u>>>32-8|u<<8,a=a+u|0,ee^=a,ee=ee>>>32-7|ee<<7,j=j+L|0,y^=j,y=y>>>32-8|y<<8,l=l+y|0,L^=l,L=L>>>32-7|L<<7;return Ei.writeUint32LE(j,t,0),Ei.writeUint32LE(H,t,4),Ei.writeUint32LE(W,t,8),Ei.writeUint32LE(B,t,12),Ei.writeUint32LE(u,t,16),Ei.writeUint32LE(v,t,20),Ei.writeUint32LE(x,t,24),Ei.writeUint32LE(y,t,28),t}Ha.hchacha=rv});var i0=le(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});function oS(r,e,t){return~(r-1)&e|r-1&t}Ps.select=oS;function sS(r,e){return(r|0)-(e|0)-1>>>31&1}Ps.lessOrEqual=sS;function iv(r,e){if(r.length!==e.length)return 0;for(var t=0,n=0;n<r.length;n++)t|=r[n]^e[n];return 1&t-1>>>8}Ps.compare=iv;function aS(r,e){return r.length===0||e.length===0?!1:iv(r,e)!==0}Ps.equal=aS});var sv=le(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});var fS=i0(),pu=Sr();jn.DIGEST_LENGTH=16;var ov=function(){function r(e){this.digestLength=jn.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=t&8191;var n=e[2]|e[3]<<8;this._r[1]=(t>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var o=e[6]|e[7]<<8;this._r[3]=(i>>>7|o<<9)&8191;var s=e[8]|e[9]<<8;this._r[4]=(o>>>4|s<<12)&255,this._r[5]=s>>>1&8190;var f=e[10]|e[11]<<8;this._r[6]=(s>>>14|f<<2)&8191;var h=e[12]|e[13]<<8;this._r[7]=(f>>>11|h<<5)&8065;var b=e[14]|e[15]<<8;this._r[8]=(h>>>8|b<<8)&8191,this._r[9]=b>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return r.prototype._blocks=function(e,t,n){for(var i=this._fin?0:2048,o=this._h[0],s=this._h[1],f=this._h[2],h=this._h[3],b=this._h[4],g=this._h[5],w=this._h[6],T=this._h[7],C=this._h[8],M=this._h[9],k=this._r[0],F=this._r[1],I=this._r[2],$=this._r[3],j=this._r[4],H=this._r[5],W=this._r[6],B=this._r[7],P=this._r[8],L=this._r[9];n>=16;){var ee=e[t+0]|e[t+1]<<8;o+=ee&8191;var E=e[t+2]|e[t+3]<<8;s+=(ee>>>13|E<<3)&8191;var c=e[t+4]|e[t+5]<<8;f+=(E>>>10|c<<6)&8191;var p=e[t+6]|e[t+7]<<8;h+=(c>>>7|p<<9)&8191;var l=e[t+8]|e[t+9]<<8;b+=(p>>>4|l<<12)&8191,g+=l>>>1&8191;var a=e[t+10]|e[t+11]<<8;w+=(l>>>14|a<<2)&8191;var u=e[t+12]|e[t+13]<<8;T+=(a>>>11|u<<5)&8191;var v=e[t+14]|e[t+15]<<8;C+=(u>>>8|v<<8)&8191,M+=v>>>5|i;var x=0,y=x;y+=o*k,y+=s*(5*L),y+=f*(5*P),y+=h*(5*B),y+=b*(5*W),x=y>>>13,y&=8191,y+=g*(5*H),y+=w*(5*j),y+=T*(5*$),y+=C*(5*I),y+=M*(5*F),x+=y>>>13,y&=8191;var d=x;d+=o*F,d+=s*k,d+=f*(5*L),d+=h*(5*P),d+=b*(5*B),x=d>>>13,d&=8191,d+=g*(5*W),d+=w*(5*H),d+=T*(5*j),d+=C*(5*$),d+=M*(5*I),x+=d>>>13,d&=8191;var _=x;_+=o*I,_+=s*F,_+=f*k,_+=h*(5*L),_+=b*(5*P),x=_>>>13,_&=8191,_+=g*(5*B),_+=w*(5*W),_+=T*(5*H),_+=C*(5*j),_+=M*(5*$),x+=_>>>13,_&=8191;var D=x;D+=o*$,D+=s*I,D+=f*F,D+=h*k,D+=b*(5*L),x=D>>>13,D&=8191,D+=g*(5*P),D+=w*(5*B),D+=T*(5*W),D+=C*(5*H),D+=M*(5*j),x+=D>>>13,D&=8191;var m=x;m+=o*j,m+=s*$,m+=f*I,m+=h*F,m+=b*k,x=m>>>13,m&=8191,m+=g*(5*L),m+=w*(5*P),m+=T*(5*B),m+=C*(5*W),m+=M*(5*H),x+=m>>>13,m&=8191;var A=x;A+=o*H,A+=s*j,A+=f*$,A+=h*I,A+=b*F,x=A>>>13,A&=8191,A+=g*k,A+=w*(5*L),A+=T*(5*P),A+=C*(5*B),A+=M*(5*W),x+=A>>>13,A&=8191;var te=x;te+=o*W,te+=s*H,te+=f*j,te+=h*$,te+=b*I,x=te>>>13,te&=8191,te+=g*F,te+=w*k,te+=T*(5*L),te+=C*(5*P),te+=M*(5*B),x+=te>>>13,te&=8191;var S=x;S+=o*B,S+=s*W,S+=f*H,S+=h*j,S+=b*$,x=S>>>13,S&=8191,S+=g*I,S+=w*F,S+=T*k,S+=C*(5*L),S+=M*(5*P),x+=S>>>13,S&=8191;var z=x;z+=o*P,z+=s*B,z+=f*W,z+=h*H,z+=b*j,x=z>>>13,z&=8191,z+=g*$,z+=w*I,z+=T*F,z+=C*k,z+=M*(5*L),x+=z>>>13,z&=8191;var Y=x;Y+=o*L,Y+=s*P,Y+=f*B,Y+=h*W,Y+=b*H,x=Y>>>13,Y&=8191,Y+=g*j,Y+=w*$,Y+=T*I,Y+=C*F,Y+=M*k,x+=Y>>>13,Y&=8191,x=(x<<2)+x|0,x=x+y|0,y=x&8191,x=x>>>13,d+=x,o=y,s=d,f=_,h=D,b=m,g=A,w=te,T=S,C=z,M=Y,t+=16,n-=16}this._h[0]=o,this._h[1]=s,this._h[2]=f,this._h[3]=h,this._h[4]=b,this._h[5]=g,this._h[6]=w,this._h[7]=T,this._h[8]=C,this._h[9]=M},r.prototype.finish=function(e,t){t===void 0&&(t=0);var n=new Uint16Array(10),i,o,s,f;if(this._leftover){for(f=this._leftover,this._buffer[f++]=1;f<16;f++)this._buffer[f]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,f=2;f<10;f++)this._h[f]+=i,i=this._h[f]>>>13,this._h[f]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,n[0]=this._h[0]+5,i=n[0]>>>13,n[0]&=8191,f=1;f<10;f++)n[f]=this._h[f]+i,i=n[f]>>>13,n[f]&=8191;for(n[9]-=1<<13,o=(i^1)-1,f=0;f<10;f++)n[f]&=o;for(o=~o,f=0;f<10;f++)this._h[f]=this._h[f]&o|n[f];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,s=this._h[0]+this._pad[0],this._h[0]=s&65535,f=1;f<8;f++)s=(this._h[f]+this._pad[f]|0)+(s>>>16)|0,this._h[f]=s&65535;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},r.prototype.update=function(e){var t=0,n=e.length,i;if(this._leftover){i=16-this._leftover,i>n&&(i=n);for(var o=0;o<i;o++)this._buffer[this._leftover+o]=e[t+o];if(n-=i,t+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(i=n-n%16,this._blocks(e,t,i),t+=i,n-=i),n){for(var o=0;o<n;o++)this._buffer[this._leftover+o]=e[t+o];this._leftover+=n}return this},r.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},r.prototype.clean=function(){return pu.wipe(this._buffer),pu.wipe(this._r),pu.wipe(this._h),pu.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},r}();jn.Poly1305=ov;function cS(r,e){var t=new ov(r);t.update(e);var n=t.digest();return t.clean(),n}jn.oneTimeAuth=cS;function uS(r,e){return r.length!==jn.DIGEST_LENGTH||e.length!==jn.DIGEST_LENGTH?!1:fS.equal(r,e)}jn.equal=uS});var cv=le(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});var mu=n0(),lS=sv(),za=Sr(),av=ro(),hS=i0();Gn.KEY_LENGTH=32;Gn.NONCE_LENGTH=12;Gn.TAG_LENGTH=16;var fv=new Uint8Array(16),dS=function(){function r(e){if(this.nonceLength=Gn.NONCE_LENGTH,this.tagLength=Gn.TAG_LENGTH,e.length!==Gn.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return r.prototype.seal=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(e,o.length-e.length);var s=new Uint8Array(32);mu.stream(this._key,o,s,4);var f=t.length+this.tagLength,h;if(i){if(i.length!==f)throw new Error("ChaCha20Poly1305: incorrect destination length");h=i}else h=new Uint8Array(f);return mu.streamXOR(this._key,o,t,h,4),this._authenticate(h.subarray(h.length-this.tagLength,h.length),s,h.subarray(0,h.length-this.tagLength),n),za.wipe(o),h},r.prototype.open=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(e,o.length-e.length);var s=new Uint8Array(32);mu.stream(this._key,o,s,4);var f=new Uint8Array(this.tagLength);if(this._authenticate(f,s,t.subarray(0,t.length-this.tagLength),n),!hS.equal(f,t.subarray(t.length-this.tagLength,t.length)))return null;var h=t.length-this.tagLength,b;if(i){if(i.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");b=i}else b=new Uint8Array(h);return mu.streamXOR(this._key,o,t.subarray(0,t.length-this.tagLength),b,4),za.wipe(o),b},r.prototype.clean=function(){return za.wipe(this._key),this},r.prototype._authenticate=function(e,t,n,i){var o=new lS.Poly1305(t);i&&(o.update(i),i.length%16>0&&o.update(fv.subarray(i.length%16))),o.update(n),n.length%16>0&&o.update(fv.subarray(n.length%16));var s=new Uint8Array(8);i&&av.writeUint64LE(i.length,s),o.update(s),av.writeUint64LE(n.length,s),o.update(s);for(var f=o.digest(),h=0;h<f.length;h++)e[h]=f[h];o.clean(),za.wipe(f),za.wipe(s)},r}();Gn.ChaCha20Poly1305=dS});var hv=le(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});var uv=nv(),lv=cv(),Ka=Sr();Jn.KEY_LENGTH=32;Jn.NONCE_LENGTH=24;Jn.TAG_LENGTH=16;var pS=function(){function r(e){if(this.nonceLength=Jn.NONCE_LENGTH,this.tagLength=Jn.TAG_LENGTH,e.length!==Jn.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return r.prototype.seal=function(e,t,n,i){if(e.length!==24)throw new Error("XChaCha20Poly1305: incorrect nonce length");var o=uv.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),s=new Uint8Array(12);s.set(e.subarray(16),4);var f=new lv.ChaCha20Poly1305(o),h=f.seal(s,t,n,i);return Ka.wipe(o),Ka.wipe(s),f.clean(),h},r.prototype.open=function(e,t,n,i){if(e.length!==24)throw new Error("XChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o=uv.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),s=new Uint8Array(12);s.set(e.subarray(16),4);var f=new lv.ChaCha20Poly1305(o),h=f.open(s,t,n,i);return Ka.wipe(o),Ka.wipe(s),f.clean(),h},r.prototype.clean=function(){return Ka.wipe(this._key),this},r}();Jn.XChaCha20Poly1305=pS});var hy=le((M$,ly)=>{"use strict";ly.exports=function(r,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(o){return function(s){return function(f,h){var b={key:f,value:s[f]},g={key:h,value:s[h]};return o(b,g)}}}(e.cmp),i=[];return function o(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s!==void 0){if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);var f,h;if(Array.isArray(s)){for(h="[",f=0;f<s.length;f++)f&&(h+=","),h+=o(s[f])||"null";return h+"]"}if(s===null)return"null";if(i.indexOf(s)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var b=i.push(s)-1,g=Object.keys(s).sort(n&&n(s));for(h="",f=0;f<g.length;f++){var w=g[f],T=o(s[w]);T&&(h&&(h+=","),h+=JSON.stringify(w)+":"+T)}return i.splice(b,1),"{"+h+"}"}}(r)}});var yy=le((I$,vy)=>{"use strict";function fM(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}vy.exports=fM});var wy=le((O$,xy)=>{"use strict";function cM(r,e){e||(e=r.reduce((i,o)=>i+o.length,0));let t=new Uint8Array(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return t}xy.exports=cM});var _y=le((N$,Ey)=>{"use strict";function uM(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}Ey.exports=uM});var x0=le((R$,Ty)=>{"use strict";var{bases:Ay}=(bf(),Ls(dp));function My(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var Sy=My("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),y0=My("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),lM={utf8:Sy,"utf-8":Sy,hex:Ay.base16,latin1:y0,ascii:y0,binary:y0,...Ay};Ty.exports=lM});var Cy=le((P$,ky)=>{"use strict";var hM=x0();function dM(r,e="utf8"){let t=hM[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${r}`)}ky.exports=dM});var Iy=le((B$,Dy)=>{"use strict";var pM=x0();function mM(r,e="utf8"){let t=pM[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.encoder.encode(r).substring(1)}Dy.exports=mM});var Ny=le((L$,Oy)=>{"use strict";function bM(r,e){if(r.length!==e.length)throw new Error("Inputs should have the same length");let t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r[n]^e[n];return t}Oy.exports=bM});var nf=le((U$,Ry)=>{"use strict";var gM=yy(),vM=wy(),yM=_y(),xM=Cy(),wM=Iy(),EM=Ny();Ry.exports={compare:gM,concat:vM,equals:yM,fromString:xM,toString:wM,xor:EM}});var $M={};Ve($M,{CeramicClient:()=>Ba,DID:()=>To,Ed25519Provider:()=>rf,TileDocument:()=>wn,getResolver:()=>C0});Br();Ro();var K0={tile:0,"caip10-link":1,model:2,MID:3,UNLOADABLE:4};function Fx(r){let e=K0[r];if(typeof e<"u")return e;throw new Error(`No stream type registered for name ${r}`)}function qx(r){let e=Object.entries(K0).find(([,t])=>t===r);if(e)return e[0];throw new Error(`No stream type registered for index ${r}`)}var er=class{};er.nameByCode=qx;er.codeByName=Fx;var Il=Ye(Hs(),1);ju();Gs();Bo();uf();zs();function tr(r){let e,t,n;return typeof r=="object"?(e=r.hashFunction,t=r.expiring,n=r.tags):e=r,(i,o,s)=>{if(s.value!=null)s.value=vp(s.value,e,t,n);else if(s.get!=null)s.get=vp(s.get,e,t,n);else throw"Only put a Memoize() decorator on a method or get accessor."}}var fl=new Map;function vp(r,e,t=0,n){let i=Symbol("__memoized_map__");return function(...o){let s;this.hasOwnProperty(i)||Object.defineProperty(this,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let f=this[i];if(Array.isArray(n))for(let h of n)fl.has(h)?fl.get(h).push(f):fl.set(h,[f]);if(e||o.length>0||t>0){let h;e===!0?h=o.map(w=>w.toString()).join("!"):e?h=e.apply(this,o):h=o[0];let b=`${h}__timestamp`,g=!1;if(t>0)if(!f.has(b))g=!0;else{let w=f.get(b);g=Date.now()-w>t}f.has(h)&&!g?s=f.get(h):(s=r.apply(this,o),f.set(h,s),t>0&&f.set(b,Date.now()))}else{let h=this;f.has(h)?s=f.get(h):(s=r.apply(this,o),f.set(h,s))}return s}}Br();ol();var vf=({enumerable:r=!0,configurable:e=!1}={})=>({enumerable:r,configurable:e,writable:!1}),cl=function*(r,e){if(r!=null&&!(r instanceof Uint8Array))for(let[t,n]of Object.entries(r)){let i=[...e,t];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let[o,s]of n.entries()){let f=[...i,o],h=Ae.asCID(s);h?yield[f.join("/"),h]:typeof s=="object"&&(yield*cl(s,f))}else{let o=Ae.asCID(n);o?yield[i.join("/"),o]:yield*cl(n,i)}}},ul=function*(r,e){if(r!=null)for(let[t,n]of Object.entries(r)){let i=[...e,t];if(yield i.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!Ae.asCID(n))if(Array.isArray(n))for(let[o,s]of n.entries()){let f=[...i,o];yield f.join("/"),typeof s=="object"&&!Ae.asCID(s)&&(yield*ul(s,f))}else yield*ul(n,i)}},I5=(r,e)=>{let t=r;for(let[n,i]of e.entries()){if(t=t[i],t==null)throw new Error(`Object has no property at ${e.slice(0,n+1).map(s=>`[${JSON.stringify(s)}]`).join("")}`);let o=Ae.asCID(t);if(o)return{value:o,remaining:e.slice(n+1).join("/")}}return{value:t}},yf=class{constructor({cid:e,bytes:t,value:n}){if(!e||!t||typeof n>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:vf(),bytes:vf(),value:vf(),asBlock:vf()})}links(){return cl(this.value,[])}tree(){return ul(this.value,[])}get(e="/"){return I5(this.value,e.split("/").filter(Boolean))}},zi=async({value:r,codec:e,hasher:t})=>{if(typeof r>"u")throw new Error('Missing required argument "value"');if(!e||!t)throw new Error("Missing required argument: codec or hasher");let n=e.encode(r),i=await t.digest(n),o=Ae.create(1,e.code,i);return new yf({value:r,bytes:n,cid:o})},yp=async({bytes:r,codec:e,hasher:t})=>{if(!r)throw new Error('Missing required argument "bytes"');if(!e||!t)throw new Error("Missing required argument: codec or hasher");let n=e.decode(r),i=await t.digest(r),o=Ae.create(1,e.code,i);return new yf({value:n,bytes:r,cid:o})};Ro();js();var Tl=Ye(Hs(),1);var qr={};Ve(qr,{code:()=>zo,decode:()=>El,encode:()=>ji,name:()=>d4});var O5=["string","number","bigint","symbol"],N5=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function xp(r){if(r===null)return"null";if(r===void 0)return"undefined";if(r===!0||r===!1)return"boolean";let e=typeof r;if(O5.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(r))return"Array";if(R5(r))return"Buffer";let t=P5(r);return t||"Object"}function R5(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}function P5(r){let e=Object.prototype.toString.call(r).slice(8,-1);if(N5.includes(e))return e}var fe=class{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};fe.uint=new fe(0,"uint",!0);fe.negint=new fe(1,"negint",!0);fe.bytes=new fe(2,"bytes",!0);fe.string=new fe(3,"string",!0);fe.array=new fe(4,"array",!1);fe.map=new fe(5,"map",!1);fe.tag=new fe(6,"tag",!1);fe.float=new fe(7,"float",!0);fe.false=new fe(7,"false",!0);fe.true=new fe(7,"true",!0);fe.null=new fe(7,"null",!0);fe.undefined=new fe(7,"undefined",!0);fe.break=new fe(7,"break",!0);var ve=class{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var Lo=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",B5=new TextDecoder,L5=new TextEncoder;function xf(r){return Lo&&globalThis.Buffer.isBuffer(r)}function hl(r){return r instanceof Uint8Array?xf(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}var Ap=Lo?(r,e,t)=>t-e>64?globalThis.Buffer.from(r.subarray(e,t)).toString("utf8"):Ep(r,e,t):(r,e,t)=>t-e>64?B5.decode(r.subarray(e,t)):Ep(r,e,t),Sp=Lo?r=>r.length>64?globalThis.Buffer.from(r):wp(r):r=>r.length>64?L5.encode(r):wp(r),fn=r=>Uint8Array.from(r),Uo=Lo?(r,e,t)=>xf(r)?new Uint8Array(r.subarray(e,t)):r.slice(e,t):(r,e,t)=>r.slice(e,t),Mp=Lo?(r,e)=>(r=r.map(t=>t instanceof Uint8Array?t:globalThis.Buffer.from(t)),hl(globalThis.Buffer.concat(r,e))):(r,e)=>{let t=new Uint8Array(e),n=0;for(let i of r)n+i.length>t.length&&(i=i.subarray(0,t.length-n)),t.set(i,n),n+=i.length;return t},Tp=Lo?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function kp(r,e){if(xf(r)&&xf(e))return r.compare(e);for(let t=0;t<r.length;t++)if(r[t]!==e[t])return r[t]<e[t]?-1:1;return 0}function wp(r,e=1/0){let t,n=r.length,i=null,o=[];for(let s=0;s<n;++s){if(t=r.charCodeAt(s),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function Ep(r,e,t){let n=[];for(;e<t;){let i=r[e],o=null,s=i>239?4:i>223?3:i>191?2:1;if(e+s<=t){let f,h,b,g;switch(s){case 1:i<128&&(o=i);break;case 2:f=r[e+1],(f&192)===128&&(g=(i&31)<<6|f&63,g>127&&(o=g));break;case 3:f=r[e+1],h=r[e+2],(f&192)===128&&(h&192)===128&&(g=(i&15)<<12|(f&63)<<6|h&63,g>2047&&(g<55296||g>57343)&&(o=g));break;case 4:f=r[e+1],h=r[e+2],b=r[e+3],(f&192)===128&&(h&192)===128&&(b&192)===128&&(g=(i&15)<<18|(f&63)<<12|(h&63)<<6|b&63,g>65535&&g<1114112&&(o=g))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),e+=s}return U5(n)}var _p=4096;function U5(r){let e=r.length;if(e<=_p)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=_p));return t}var $5=256,Js=class{constructor(e=$5){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let i=t.length-(this.maxCursor-this.cursor)-1;t.set(e,i)}else{if(t){let i=t.length-(this.maxCursor-this.cursor)-1;i<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Tp(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Uo(n,0,this.cursor)}else t=Mp(this.chunks,this.cursor);return e&&this.reset(),t}};var Fe="CBOR decode error:",dl="CBOR encode error:",Vs=[];Vs[23]=1;Vs[24]=2;Vs[25]=3;Vs[26]=5;Vs[27]=9;function Tn(r,e,t){if(r.length-e<t)throw new Error(`${Fe} not enough data for type`)}var wt=[24,256,65536,4294967296,BigInt("18446744073709551616")];function rr(r,e,t){Tn(r,e,1);let n=r[e];if(t.strict===!0&&n<wt[0])throw new Error(`${Fe} integer encoded in more bytes than necessary (strict decode)`);return n}function nr(r,e,t){Tn(r,e,2);let n=r[e]<<8|r[e+1];if(t.strict===!0&&n<wt[1])throw new Error(`${Fe} integer encoded in more bytes than necessary (strict decode)`);return n}function ir(r,e,t){Tn(r,e,4);let n=r[e]*16777216+(r[e+1]<<16)+(r[e+2]<<8)+r[e+3];if(t.strict===!0&&n<wt[2])throw new Error(`${Fe} integer encoded in more bytes than necessary (strict decode)`);return n}function or(r,e,t){Tn(r,e,8);let n=r[e]*16777216+(r[e+1]<<16)+(r[e+2]<<8)+r[e+3],i=r[e+4]*16777216+(r[e+5]<<16)+(r[e+6]<<8)+r[e+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(t.strict===!0&&o<wt[3])throw new Error(`${Fe} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(t.allowBigInt===!0)return o;throw new Error(`${Fe} integers outside of the safe integer range are not supported`)}function Cp(r,e,t,n){return new ve(fe.uint,rr(r,e+1,n),2)}function Dp(r,e,t,n){return new ve(fe.uint,nr(r,e+1,n),3)}function Ip(r,e,t,n){return new ve(fe.uint,ir(r,e+1,n),5)}function Op(r,e,t,n){return new ve(fe.uint,or(r,e+1,n),9)}function wr(r,e){return Ct(r,0,e.value)}function Ct(r,e,t){if(t<wt[0]){let n=Number(t);r.push([e|n])}else if(t<wt[1]){let n=Number(t);r.push([e|24,n])}else if(t<wt[2]){let n=Number(t);r.push([e|25,n>>>8,n&255])}else if(t<wt[3]){let n=Number(t);r.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(t);if(n<wt[4]){let i=[e|27,0,0,0,0,0,0,0],o=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=s&255,s=s>>8,i[3]=s&255,s=s>>8,i[2]=s&255,s=s>>8,i[1]=s&255,r.push(i)}else throw new Error(`${Fe} encountered BigInt larger than allowable range`)}}wr.encodedSize=function(e){return Ct.encodedSize(e.value)};Ct.encodedSize=function(e){return e<wt[0]?1:e<wt[1]?2:e<wt[2]?3:e<wt[3]?5:9};wr.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};function Np(r,e,t,n){return new ve(fe.negint,-1-rr(r,e+1,n),2)}function Rp(r,e,t,n){return new ve(fe.negint,-1-nr(r,e+1,n),3)}function Pp(r,e,t,n){return new ve(fe.negint,-1-ir(r,e+1,n),5)}var pl=BigInt(-1),Bp=BigInt(1);function Lp(r,e,t,n){let i=or(r,e+1,n);if(typeof i!="bigint"){let o=-1-i;if(o>=Number.MIN_SAFE_INTEGER)return new ve(fe.negint,o,9)}if(n.allowBigInt!==!0)throw new Error(`${Fe} integers outside of the safe integer range are not supported`);return new ve(fe.negint,pl-BigInt(i),9)}function wf(r,e){let t=e.value,n=typeof t=="bigint"?t*pl-Bp:t*-1-1;Ct(r,e.type.majorEncoded,n)}wf.encodedSize=function(e){let t=e.value,n=typeof t=="bigint"?t*pl-Bp:t*-1-1;return n<wt[0]?1:n<wt[1]?2:n<wt[2]?3:n<wt[3]?5:9};wf.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};function Ys(r,e,t,n){Tn(r,e,t+n);let i=Uo(r,e+t,e+t+n);return new ve(fe.bytes,i,t+n)}function Up(r,e,t,n){return Ys(r,e,1,t)}function $p(r,e,t,n){return Ys(r,e,2,rr(r,e+1,n))}function Fp(r,e,t,n){return Ys(r,e,3,nr(r,e+1,n))}function qp(r,e,t,n){return Ys(r,e,5,ir(r,e+1,n))}function Hp(r,e,t,n){let i=or(r,e+1,n);if(typeof i=="bigint")throw new Error(`${Fe} 64-bit integer bytes lengths not supported`);return Ys(r,e,9,i)}function Ef(r){return r.encodedBytes===void 0&&(r.encodedBytes=r.type===fe.string?Sp(r.value):r.value),r.encodedBytes}function $o(r,e){let t=Ef(e);Ct(r,e.type.majorEncoded,t.length),r.push(t)}$o.encodedSize=function(e){let t=Ef(e);return Ct.encodedSize(t.length)+t.length};$o.compareTokens=function(e,t){return q5(Ef(e),Ef(t))};function q5(r,e){return r.length<e.length?-1:r.length>e.length?1:kp(r,e)}function Ws(r,e,t,n,i){let o=t+n;Tn(r,e,o);let s=new ve(fe.string,Ap(r,e+t,e+o),o);return i.retainStringBytes===!0&&(s.byteValue=Uo(r,e+t,e+o)),s}function zp(r,e,t,n){return Ws(r,e,1,t,n)}function Kp(r,e,t,n){return Ws(r,e,2,rr(r,e+1,n),n)}function jp(r,e,t,n){return Ws(r,e,3,nr(r,e+1,n),n)}function Gp(r,e,t,n){return Ws(r,e,5,ir(r,e+1,n),n)}function Jp(r,e,t,n){let i=or(r,e+1,n);if(typeof i=="bigint")throw new Error(`${Fe} 64-bit integer string lengths not supported`);return Ws(r,e,9,i,n)}var Vp=$o;function Fo(r,e,t,n){return new ve(fe.array,n,t)}function Yp(r,e,t,n){return Fo(r,e,1,t)}function Wp(r,e,t,n){return Fo(r,e,2,rr(r,e+1,n))}function Xp(r,e,t,n){return Fo(r,e,3,nr(r,e+1,n))}function Zp(r,e,t,n){return Fo(r,e,5,ir(r,e+1,n))}function Qp(r,e,t,n){let i=or(r,e+1,n);if(typeof i=="bigint")throw new Error(`${Fe} 64-bit integer array lengths not supported`);return Fo(r,e,9,i)}function e1(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${Fe} indefinite length items not allowed`);return Fo(r,e,1,1/0)}function _f(r,e){Ct(r,fe.array.majorEncoded,e.value)}_f.compareTokens=wr.compareTokens;_f.encodedSize=function(e){return Ct.encodedSize(e.value)};function qo(r,e,t,n){return new ve(fe.map,n,t)}function t1(r,e,t,n){return qo(r,e,1,t)}function r1(r,e,t,n){return qo(r,e,2,rr(r,e+1,n))}function n1(r,e,t,n){return qo(r,e,3,nr(r,e+1,n))}function i1(r,e,t,n){return qo(r,e,5,ir(r,e+1,n))}function o1(r,e,t,n){let i=or(r,e+1,n);if(typeof i=="bigint")throw new Error(`${Fe} 64-bit integer map lengths not supported`);return qo(r,e,9,i)}function s1(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${Fe} indefinite length items not allowed`);return qo(r,e,1,1/0)}function Af(r,e){Ct(r,fe.map.majorEncoded,e.value)}Af.compareTokens=wr.compareTokens;Af.encodedSize=function(e){return Ct.encodedSize(e.value)};function a1(r,e,t,n){return new ve(fe.tag,t,1)}function f1(r,e,t,n){return new ve(fe.tag,rr(r,e+1,n),2)}function c1(r,e,t,n){return new ve(fe.tag,nr(r,e+1,n),3)}function u1(r,e,t,n){return new ve(fe.tag,ir(r,e+1,n),5)}function l1(r,e,t,n){return new ve(fe.tag,or(r,e+1,n),9)}function Sf(r,e){Ct(r,fe.tag.majorEncoded,e.value)}Sf.compareTokens=wr.compareTokens;Sf.encodedSize=function(e){return Ct.encodedSize(e.value)};var J5=20,V5=21,Y5=22,W5=23;function h1(r,e,t,n){if(n.allowUndefined===!1)throw new Error(`${Fe} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new ve(fe.null,null,1):new ve(fe.undefined,void 0,1)}function d1(r,e,t,n){if(n.allowIndefinite===!1)throw new Error(`${Fe} indefinite length items not allowed`);return new ve(fe.break,void 0,1)}function ml(r,e,t){if(t){if(t.allowNaN===!1&&Number.isNaN(r))throw new Error(`${Fe} NaN values are not supported`);if(t.allowInfinity===!1&&(r===1/0||r===-1/0))throw new Error(`${Fe} Infinity values are not supported`)}return new ve(fe.float,r,e)}function p1(r,e,t,n){return ml(bl(r,e+1),3,n)}function m1(r,e,t,n){return ml(gl(r,e+1),5,n)}function b1(r,e,t,n){return ml(x1(r,e+1),9,n)}function Mf(r,e,t){let n=e.value;if(n===!1)r.push([fe.float.majorEncoded|J5]);else if(n===!0)r.push([fe.float.majorEncoded|V5]);else if(n===null)r.push([fe.float.majorEncoded|Y5]);else if(n===void 0)r.push([fe.float.majorEncoded|W5]);else{let i,o=!1;(!t||t.float64!==!0)&&(v1(n),i=bl($r,1),n===i||Number.isNaN(n)?($r[0]=249,r.push($r.slice(0,3)),o=!0):(y1(n),i=gl($r,1),n===i&&($r[0]=250,r.push($r.slice(0,5)),o=!0))),o||(X5(n),i=x1($r,1),$r[0]=251,r.push($r.slice(0,9)))}}Mf.encodedSize=function(e,t){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!t||t.float64!==!0){v1(n);let i=bl($r,1);if(n===i||Number.isNaN(n))return 3;if(y1(n),i=gl($r,1),n===i)return 5}return 9};var g1=new ArrayBuffer(9),Er=new DataView(g1,1),$r=new Uint8Array(g1,0);function v1(r){if(r===1/0)Er.setUint16(0,31744,!1);else if(r===-1/0)Er.setUint16(0,64512,!1);else if(Number.isNaN(r))Er.setUint16(0,32256,!1);else{Er.setFloat32(0,r);let e=Er.getUint32(0),t=(e&2139095040)>>23,n=e&8388607;if(t===255)Er.setUint16(0,31744,!1);else if(t===0)Er.setUint16(0,(r&2147483648)>>16|n>>13,!1);else{let i=t-127;i<-24?Er.setUint16(0,0):i<-14?Er.setUint16(0,(e&2147483648)>>16|1<<24+i,!1):Er.setUint16(0,(e&2147483648)>>16|i+15<<10|n>>13,!1)}}}function bl(r,e){if(r.length-e<2)throw new Error(`${Fe} not enough data for float16`);let t=(r[e]<<8)+r[e+1];if(t===31744)return 1/0;if(t===64512)return-1/0;if(t===32256)return NaN;let n=t>>10&31,i=t&1023,o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,t&32768?-o:o}function y1(r){Er.setFloat32(0,r,!1)}function gl(r,e){if(r.length-e<4)throw new Error(`${Fe} not enough data for float32`);let t=(r.byteOffset||0)+e;return new DataView(r.buffer,t,4).getFloat32(0,!1)}function X5(r){Er.setFloat64(0,r,!1)}function x1(r,e){if(r.length-e<8)throw new Error(`${Fe} not enough data for float64`);let t=(r.byteOffset||0)+e;return new DataView(r.buffer,t,8).getFloat64(0,!1)}Mf.compareTokens=wr.compareTokens;function Ze(r,e,t){throw new Error(`${Fe} encountered invalid minor (${t}) for major ${r[e]>>>5}`)}function Tf(r){return()=>{throw new Error(`${Fe} ${r}`)}}var me=[];for(let r=0;r<=23;r++)me[r]=Ze;me[24]=Cp;me[25]=Dp;me[26]=Ip;me[27]=Op;me[28]=Ze;me[29]=Ze;me[30]=Ze;me[31]=Ze;for(let r=32;r<=55;r++)me[r]=Ze;me[56]=Np;me[57]=Rp;me[58]=Pp;me[59]=Lp;me[60]=Ze;me[61]=Ze;me[62]=Ze;me[63]=Ze;for(let r=64;r<=87;r++)me[r]=Up;me[88]=$p;me[89]=Fp;me[90]=qp;me[91]=Hp;me[92]=Ze;me[93]=Ze;me[94]=Ze;me[95]=Tf("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)me[r]=zp;me[120]=Kp;me[121]=jp;me[122]=Gp;me[123]=Jp;me[124]=Ze;me[125]=Ze;me[126]=Ze;me[127]=Tf("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)me[r]=Yp;me[152]=Wp;me[153]=Xp;me[154]=Zp;me[155]=Qp;me[156]=Ze;me[157]=Ze;me[158]=Ze;me[159]=e1;for(let r=160;r<=183;r++)me[r]=t1;me[184]=r1;me[185]=n1;me[186]=i1;me[187]=o1;me[188]=Ze;me[189]=Ze;me[190]=Ze;me[191]=s1;for(let r=192;r<=215;r++)me[r]=a1;me[216]=f1;me[217]=c1;me[218]=u1;me[219]=l1;me[220]=Ze;me[221]=Ze;me[222]=Ze;me[223]=Ze;for(let r=224;r<=243;r++)me[r]=Tf("simple values are not supported");me[244]=Ze;me[245]=Ze;me[246]=Ze;me[247]=h1;me[248]=Tf("simple values are not supported");me[249]=p1;me[250]=m1;me[251]=b1;me[252]=Ze;me[253]=Ze;me[254]=Ze;me[255]=d1;var Fr=[];for(let r=0;r<24;r++)Fr[r]=new ve(fe.uint,r,1);for(let r=-1;r>=-24;r--)Fr[31-r]=new ve(fe.negint,r,1);Fr[64]=new ve(fe.bytes,new Uint8Array(0),1);Fr[96]=new ve(fe.string,"",1);Fr[128]=new ve(fe.array,0,1);Fr[160]=new ve(fe.map,0,1);Fr[244]=new ve(fe.false,!1,1);Fr[245]=new ve(fe.true,!0,1);Fr[246]=new ve(fe.null,null,1);function w1(r){switch(r.type){case fe.false:return fn([244]);case fe.true:return fn([245]);case fe.null:return fn([246]);case fe.bytes:return r.value.length?void 0:fn([64]);case fe.string:return r.value===""?fn([96]):void 0;case fe.array:return r.value===0?fn([128]):void 0;case fe.map:return r.value===0?fn([160]):void 0;case fe.uint:return r.value<24?fn([Number(r.value)]):void 0;case fe.negint:if(r.value>=-24)return fn([31-Number(r.value)])}}var Q5={float64:!1,mapSorter:r4,quickEncodeToken:w1};function e4(){let r=[];return r[fe.uint.major]=wr,r[fe.negint.major]=wf,r[fe.bytes.major]=$o,r[fe.string.major]=Vp,r[fe.array.major]=_f,r[fe.map.major]=Af,r[fe.tag.major]=Sf,r[fe.float.major]=Mf,r}var E1=e4(),vl=new Js,Ho=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${dl} object contains circular references`);return new Ho(t,e)}},Qn={null:new ve(fe.null,null),undefined:new ve(fe.undefined,void 0),true:new ve(fe.true,!0),false:new ve(fe.false,!1),emptyArray:new ve(fe.array,0),emptyMap:new ve(fe.map,0)},ei={number(r,e,t,n){return!Number.isInteger(r)||!Number.isSafeInteger(r)?new ve(fe.float,r):r>=0?new ve(fe.uint,r):new ve(fe.negint,r)},bigint(r,e,t,n){return r>=BigInt(0)?new ve(fe.uint,r):new ve(fe.negint,r)},Uint8Array(r,e,t,n){return new ve(fe.bytes,r)},string(r,e,t,n){return new ve(fe.string,r)},boolean(r,e,t,n){return r?Qn.true:Qn.false},null(r,e,t,n){return Qn.null},undefined(r,e,t,n){return Qn.undefined},ArrayBuffer(r,e,t,n){return new ve(fe.bytes,new Uint8Array(r))},DataView(r,e,t,n){return new ve(fe.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength))},Array(r,e,t,n){if(!r.length)return t.addBreakTokens===!0?[Qn.emptyArray,new ve(fe.break)]:Qn.emptyArray;n=Ho.createCheck(n,r);let i=[],o=0;for(let s of r)i[o++]=kf(s,t,n);return t.addBreakTokens?[new ve(fe.array,r.length),i,new ve(fe.break)]:[new ve(fe.array,r.length),i]},Object(r,e,t,n){let i=e!=="Object",o=i?r.keys():Object.keys(r),s=i?r.size:o.length;if(!s)return t.addBreakTokens===!0?[Qn.emptyMap,new ve(fe.break)]:Qn.emptyMap;n=Ho.createCheck(n,r);let f=[],h=0;for(let b of o)f[h++]=[kf(b,t,n),kf(i?r.get(b):r[b],t,n)];return t4(f,t),t.addBreakTokens?[new ve(fe.map,s),f,new ve(fe.break)]:[new ve(fe.map,s),f]}};ei.Map=ei.Object;ei.Buffer=ei.Uint8Array;for(let r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ei[`${r}Array`]=ei.DataView;function kf(r,e={},t){let n=xp(r),i=e&&e.typeEncoders&&e.typeEncoders[n]||ei[n];if(typeof i=="function"){let s=i(r,n,e,t);if(s!=null)return s}let o=ei[n];if(!o)throw new Error(`${dl} unsupported type: ${n}`);return o(r,n,e,t)}function t4(r,e){e.mapSorter&&r.sort(e.mapSorter)}function r4(r,e){let t=Array.isArray(r[0])?r[0][0]:r[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(t.type!==n.type)return t.type.compare(n.type);let i=t.type.major,o=E1[i].compareTokens(t,n);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function _1(r,e,t,n){if(Array.isArray(e))for(let i of e)_1(r,i,t,n);else t[e.type.major](r,e,n)}function n4(r,e,t){let n=kf(r,t);if(!Array.isArray(n)&&t.quickEncodeToken){let i=t.quickEncodeToken(n);if(i)return i;let o=e[n.type.major];if(o.encodedSize){let s=o.encodedSize(n,t),f=new Js(s);if(o(f,n,t),f.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return hl(f.chunks[0])}}return vl.reset(),_1(vl,n,e,t),vl.toBytes(!0)}function yl(r,e){return e=Object.assign({},Q5,e),n4(r,E1,e)}var i4={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},xl=class{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=Fr[e];if(t===void 0){let n=me[e];if(!n)throw new Error(`${Fe} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let i=e&31;t=n(this.data,this.pos,i,this.options)}return this.pos+=t.encodedLength,t}},Xs=Symbol.for("DONE"),Cf=Symbol.for("BREAK");function o4(r,e,t){let n=[];for(let i=0;i<r.value;i++){let o=Zs(e,t);if(o===Cf){if(r.value===1/0)break;throw new Error(`${Fe} got unexpected break to lengthed array`)}if(o===Xs)throw new Error(`${Fe} found array but not enough entries (got ${i}, expected ${r.value})`);n[i]=o}return n}function s4(r,e,t){let n=t.useMaps===!0,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<r.value;s++){let f=Zs(e,t);if(f===Cf){if(r.value===1/0)break;throw new Error(`${Fe} got unexpected break to lengthed map`)}if(f===Xs)throw new Error(`${Fe} found map but not enough entries (got ${s} [no key], expected ${r.value})`);if(n!==!0&&typeof f!="string")throw new Error(`${Fe} non-string keys not supported (got ${typeof f})`);let h=Zs(e,t);if(h===Xs)throw new Error(`${Fe} found map but not enough entries (got ${s} [no value], expected ${r.value})`);n?o.set(f,h):i[f]=h}return n?o:i}function Zs(r,e){if(r.done())return Xs;let t=r.next();if(t.type===fe.break)return Cf;if(t.type.terminal)return t.value;if(t.type===fe.array)return o4(t,r,e);if(t.type===fe.map)return s4(t,r,e);if(t.type===fe.tag){if(e.tags&&typeof e.tags[t.value]=="function"){let n=Zs(r,e);return e.tags[t.value](n)}throw new Error(`${Fe} tag not supported (${t.value})`)}throw new Error("unsupported")}function wl(r,e){if(!(r instanceof Uint8Array))throw new Error(`${Fe} data to decode must be a Uint8Array`);e=Object.assign({},i4,e);let t=e.tokenizer||new xl(r,e),n=Zs(t,e);if(n===Xs)throw new Error(`${Fe} did not find any content to decode`);if(n===Cf)throw new Error(`${Fe} got unexpected break`);if(!t.done())throw new Error(`${Fe} too many terminals, data makes no sense`);return n}Br();var A1=42;function f4(r){if(r.asCID!==r)return null;let e=Ae.asCID(r);if(!e)return null;let t=new Uint8Array(e.bytes.byteLength+1);return t.set(e.bytes,1),[new ve(fe.tag,A1),new ve(fe.bytes,t)]}function c4(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function u4(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var l4={float64:!0,typeEncoders:{Object:f4,undefined:c4,number:u4}};function h4(r){if(r[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ae.decode(r.subarray(1))}var S1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};S1.tags[A1]=h4;var d4="dag-cbor",zo=113,ji=r=>yl(r,l4),El=r=>wl(r,S1);function Ko(r){try{return r()}catch(e){return e}}Br();var _l=Ye(Hs(),1);Fi();function Gi(r){let e=_l.default.decode(r),t=_l.default.decode.bytes,n=r.subarray(t);return[e,n,t]}function p4(r){return r===0||r===1}function Al(r){let[e,t]=Gi(r);if(!p4(e))throw new Error(`Unknown CID version ${e}`);let[n,i]=Gi(t),[,o,s]=Gi(i),[f,,h]=Gi(o),b=i.subarray(0,s+h+f),g=i.subarray(s+h+f);return[Ae.create(e,n,Fs(b)),g]}Br();Ro();function Ji(r,e="StreamRef"){let[t,n]=Gi(r);if(t!==206)throw new Error(`Invalid ${e}, does not include streamid codec`);let[i,o]=Gi(n),s=Al(o),[f,h]=s;if(h.length===0)return{kind:"stream-id",type:i,genesis:f};if(h.length===1&&h[0]===0)return{kind:"commit-id",type:i,genesis:f,commit:null};{let[b]=Al(h);return{kind:"commit-id",type:i,genesis:f,commit:b}}}var m4=/(ceramic:\/\/|\/ceramic\/)?([a-zA-Z0-9]+)(\?commit=([a-zA-Z0-9]+))?/;function jo(r,e="StreamRef"){let t=m4.exec(r)||[],n=t[2];if(!n)throw new Error(`Malformed ${e} string: ${r}`);let i=Lr.decode(n),o=Ji(i),s=t[4];return s?{kind:"commit-id",type:o.type,genesis:o.genesis,commit:Sl(o.genesis,s)}:o}function b4(r){try{return typeof r=="string"?Ae.parse(r):Ae.asCID(r)}catch{return null}}function Sl(r,e=null){if(!e||e==="0")return null;let t=b4(e);if(t)return r.equals(t)?null:t;throw new Error("Cannot specify commit as a number except to request commit 0 (the genesis commit)")}var Qs=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(s=r[f])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_r=function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},kl=class extends Error{constructor(e){super(`Invalid StreamID bytes ${Lr.encode(e)}: contains commit`)}},Cl=class extends Error{constructor(e){super(`Invalid StreamID string ${e}: contains commit`)}};function k1(r){let e=Ji(r,"StreamID");if(e.kind==="stream-id")return new He(e.type,e.genesis);throw new kl(r)}function g4(r){return Ko(()=>k1(r))}function C1(r){let e=jo(r,"StreamID");if(e.kind==="stream-id")return new He(e.type,e.genesis);throw new Cl(r)}function v4(r){return Ko(()=>C1(r))}var T1=Symbol.for("@ceramicnetwork/streamid/StreamID"),He=class{constructor(e,t){if(this._tag=T1,!(e||e===0))throw new Error("StreamID constructor: type required");if(!t)throw new Error("StreamID constructor: cid required");this._type=typeof e=="string"?er.codeByName(e):e,this._cid=typeof t=="string"?Ae.parse(t):t}static isInstance(e){return typeof e=="object"&&"_tag"in e&&e._tag===T1}static async fromGenesis(e,t){let n=await zi({value:t,codec:qr,hasher:Xn});return new He(e,n.cid)}get type(){return this._type}get typeName(){return er.nameByCode(this._type)}get cid(){return this._cid}get bytes(){let e=Tl.default.encode(206),t=Tl.default.encode(this.type);return Ur([e,t,this.cid.bytes])}get baseID(){return new He(this._type,this._cid)}equals(e){return He.isInstance(e)?this.type===e.type&&this.cid.equals(e.cid):!1}toString(){return Lr.encode(this.bytes)}toUrl(){return`ceramic://${this.toString()}`}[Symbol.for("nodejs.util.inspect.custom")](){return`StreamID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}};He.fromBytes=k1;He.fromBytesNoThrow=g4;He.fromString=C1;He.fromStringNoThrow=v4;Qs([tr(),_r("design:type",String),_r("design:paramtypes",[])],He.prototype,"typeName",null);Qs([tr(),_r("design:type",Uint8Array),_r("design:paramtypes",[])],He.prototype,"bytes",null);Qs([tr(),_r("design:type",He),_r("design:paramtypes",[])],He.prototype,"baseID",null);Qs([tr(),_r("design:type",Function),_r("design:paramtypes",[]),_r("design:returntype",String)],He.prototype,"toString",null);Qs([tr(),_r("design:type",Function),_r("design:paramtypes",[]),_r("design:returntype",String)],He.prototype,"toUrl",null);var Jo=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(s=r[f])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Wt=function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},Dl=function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},kn=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Go,Vi,ea,Ol=class extends Error{constructor(e){super(`Error while parsing CommitID from bytes ${Lr.encode(e)}: no commit information provided`)}},Nl=class extends Error{constructor(e){super(`Error while parsing CommitID from string ${e}: no commit information provided`)}};function I1(r){let e=Ji(r,"CommitID");if(e.kind==="commit-id")return new at(e.type,e.genesis,e.commit);throw new Ol(r)}function y4(r){return Ko(()=>I1(r))}function O1(r){let e=jo(r,"CommitID");if(e.kind==="commit-id")return new at(e.type,e.genesis,e.commit);throw new Nl(r)}function x4(r){return Ko(()=>O1(r))}var D1=Symbol.for("@ceramicnetwork/streamid/CommitID");function w4(r,e){return new at(r.type,r.cid,e)}var at=class{constructor(e,t,n=null){if(this._tag=D1,Go.set(this,void 0),Vi.set(this,void 0),ea.set(this,void 0),!e&&e!==0)throw new Error("constructor: type required");if(!t)throw new Error("constructor: cid required");Dl(this,Go,typeof e=="string"?er.codeByName(e):e,"f"),Dl(this,Vi,typeof t=="string"?Ae.parse(t):t,"f"),Dl(this,ea,Sl(kn(this,Vi,"f"),n),"f")}static isInstance(e){return typeof e=="object"&&"_tag"in e&&e._tag===D1}get baseID(){return new He(kn(this,Go,"f"),kn(this,Vi,"f"))}get type(){return kn(this,Go,"f")}get typeName(){return er.nameByCode(kn(this,Go,"f"))}get cid(){return kn(this,Vi,"f")}get commit(){return kn(this,ea,"f")||kn(this,Vi,"f")}get bytes(){let e=Il.default.encode(206),t=Il.default.encode(this.type),n=kn(this,ea,"f")?.bytes||new Uint8Array([0]);return Ur([e,t,this.cid.bytes,n])}equals(e){return this.type===e.type&&this.cid.equals(e.cid)&&this.commit.equals(e.commit)}toString(){return Lr.encode(this.bytes)}toUrl(){return`ceramic://${this.toString()}`}[(Go=new WeakMap,Vi=new WeakMap,ea=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`CommitID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}};at.fromBytes=I1;at.fromBytesNoThrow=y4;at.fromString=O1;at.fromStringNoThrow=x4;at.make=w4;Jo([tr(),Wt("design:type",He),Wt("design:paramtypes",[])],at.prototype,"baseID",null);Jo([tr(),Wt("design:type",String),Wt("design:paramtypes",[])],at.prototype,"typeName",null);Jo([tr(),Wt("design:type",Ae),Wt("design:paramtypes",[])],at.prototype,"commit",null);Jo([tr(),Wt("design:type",Uint8Array),Wt("design:paramtypes",[])],at.prototype,"bytes",null);Jo([tr(),Wt("design:type",Function),Wt("design:paramtypes",[]),Wt("design:returntype",String)],at.prototype,"toString",null);Jo([tr(),Wt("design:type",Function),Wt("design:paramtypes",[]),Wt("design:returntype",String)],at.prototype,"toUrl",null);Ro();var sr;(function(r){function e(i){let o=Ji(i);switch(o.kind){case"commit-id":return new at(o.type,o.genesis,o.commit);case"stream-id":return new He(o.type,o.genesis);default:throw new Error(`Malformed StreamRef bytes: ${Lr.encode(i)}`)}}r.fromBytes=e;function t(i){let o=jo(i);switch(o.kind){case"commit-id":return new at(o.type,o.genesis,o.commit);case"stream-id":return new He(o.type,o.genesis);default:throw new Error(`Malformed StreamRef string: ${i}`)}}r.fromString=t;function n(i){if(He.isInstance(i)||at.isInstance(i))return i;if(i instanceof Uint8Array)return e(i);if(typeof i=="string")return t(i);throw new Error(`Can not build CommitID or StreamID from ${JSON.stringify(i)}`)}r.from=n})(sr||(sr={}));function Rl(r){return typeof r=="string"?He.fromString(r):r}function N1(r,e){let t=new URL(r);for(let[n,i]of Object.entries(e))He.isInstance(i)?t.searchParams.set(n,i.toString()):typeof i=="object"?t.searchParams.set(n,JSON.stringify(i)):t.searchParams.set(n,i);return t}function Pl(r){let e={};for(let[t,n]of Object.entries(r))He.isInstance(n)?e[t]=n.toString():e[t]=n;return e}var Bl=function(r,e){return Bl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Bl(r,e)};function Lt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Bl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function R1(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function f(g){try{b(n.next(g))}catch(w){s(w)}}function h(g){try{b(n.throw(g))}catch(w){s(w)}}function b(g){g.done?o(g.value):i(g.value).then(f,h)}b((n=n.apply(r,e||[])).next())})}function Df(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(b){return function(g){return h([b,g])}}function h(b){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,b[0]&&(t=0)),t;)try{if(n=1,i&&(o=b[0]&2?i.return:b[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,b[1])).done)return o;switch(i=0,o&&(b=[b[0]&2,o.value]),b[0]){case 0:case 1:o=b;break;case 4:return t.label++,{value:b[1],done:!1};case 5:t.label++,i=b[1],b=[0];continue;case 7:b=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(b[0]===6||b[0]===2)){t=0;continue}if(b[0]===3&&(!o||b[1]>o[0]&&b[1]<o[3])){t.label=b[1];break}if(b[0]===6&&t.label<o[1]){t.label=o[1],o=b;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(b);break}o[2]&&t.ops.pop(),t.trys.pop();continue}b=e.call(r,t)}catch(g){b=[6,g],i=0}finally{n=o=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}function Cn(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ar(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(f){s={error:f}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o}function Hr(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}function Yi(r){return this instanceof Yi?(this.v=r,this):new Yi(r)}function P1(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(T){n[T]&&(i[T]=function(C){return new Promise(function(M,k){o.push([T,C,M,k])>1||f(T,C)})})}function f(T,C){try{h(n[T](C))}catch(M){w(o[0][3],M)}}function h(T){T.value instanceof Yi?Promise.resolve(T.value.v).then(b,g):w(o[0][2],T)}function b(T){f("next",T)}function g(T){f("throw",T)}function w(T,C){T(C),o.shift(),o.length&&f(o[0][0],o[0][1])}}function B1(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Cn=="function"?Cn(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=r[o]&&function(s){return new Promise(function(f,h){s=r[o](s),i(f,h,s.done,s.value)})}}function i(o,s,f,h){Promise.resolve(h).then(function(b){o({value:b,done:f})},s)}}function ze(r){return typeof r=="function"}function Vo(r){var e=function(n){Error.call(n),n.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var If=Vo(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Wi(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}var ti=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,n,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var f=Cn(s),h=f.next();!h.done;h=f.next()){var b=h.value;b.remove(this)}}catch(k){e={error:k}}finally{try{h&&!h.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}else s.remove(this);var g=this.initialTeardown;if(ze(g))try{g()}catch(k){o=k instanceof If?k.errors:[k]}var w=this._finalizers;if(w){this._finalizers=null;try{for(var T=Cn(w),C=T.next();!C.done;C=T.next()){var M=C.value;try{L1(M)}catch(k){o=o??[],k instanceof If?o=Hr(Hr([],ar(o)),ar(k.errors)):o.push(k)}}}catch(k){n={error:k}}finally{try{C&&!C.done&&(i=T.return)&&i.call(T)}finally{if(n)throw n.error}}}if(o)throw new If(o)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)L1(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Wi(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&Wi(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}();var Ll=ti.EMPTY;function Of(r){return r instanceof ti||r&&"closed"in r&&ze(r.remove)&&ze(r.add)&&ze(r.unsubscribe)}function L1(r){ze(r)?r():r.unsubscribe()}var zr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yo={setTimeout:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=Yo.delegate;return i?.setTimeout?i.setTimeout.apply(i,Hr([r,e],ar(t))):setTimeout.apply(void 0,Hr([r,e],ar(t)))},clearTimeout:function(r){var e=Yo.delegate;return(e?.clearTimeout||clearTimeout)(r)},delegate:void 0};function Nf(r){Yo.setTimeout(function(){var e=zr.onUnhandledError;if(e)e(r);else throw r})}function Ul(){}var U1=function(){return $l("C",void 0,void 0)}();function $1(r){return $l("E",void 0,r)}function F1(r){return $l("N",r,void 0)}function $l(r,e,t){return{kind:r,value:e,error:t}}var Xi=null;function Wo(r){if(zr.useDeprecatedSynchronousErrorHandling){var e=!Xi;if(e&&(Xi={errorThrown:!1,error:null}),r(),e){var t=Xi,n=t.errorThrown,i=t.error;if(Xi=null,n)throw i}}else r()}function q1(r){zr.useDeprecatedSynchronousErrorHandling&&Xi&&(Xi.errorThrown=!0,Xi.error=r)}var ta=function(r){Lt(e,r);function e(t){var n=r.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Of(t)&&t.add(n)):n.destination=S4,n}return e.create=function(t,n,i){return new Pf(t,n,i)},e.prototype.next=function(t){this.isStopped?ql(F1(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?ql($1(t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?ql(U1,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(ti);var E4=Function.prototype.bind;function Fl(r,e){return E4.call(r,e)}var _4=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){Rf(n)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){Rf(n)}else Rf(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Rf(t)}},r}(),Pf=function(r){Lt(e,r);function e(t,n,i){var o=r.call(this)||this,s;if(ze(t)||!t)s={next:t??void 0,error:n??void 0,complete:i??void 0};else{var f;o&&zr.useDeprecatedNextContext?(f=Object.create(t),f.unsubscribe=function(){return o.unsubscribe()},s={next:t.next&&Fl(t.next,f),error:t.error&&Fl(t.error,f),complete:t.complete&&Fl(t.complete,f)}):s=t}return o.destination=new _4(s),o}return e}(ta);function Rf(r){zr.useDeprecatedSynchronousErrorHandling?q1(r):Nf(r)}function A4(r){throw r}function ql(r,e){var t=zr.onStoppedNotification;t&&Yo.setTimeout(function(){return t(r,e)})}var S4={closed:!0,next:Ul,error:A4,complete:Ul};var Xo=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Zo(r){return r}function H1(r){return r.length===0?Zo:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}var ot=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this,o=T4(e)?e:new Pf(e,t,n);return Wo(function(){var s=i,f=s.operator,h=s.source;o.add(f?f.call(o,h):h?i._subscribe(o):i._trySubscribe(o))}),o},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var n=this;return t=z1(t),new t(function(i,o){var s=new Pf({next:function(f){try{e(f)}catch(h){o(h),s.unsubscribe()}},error:o,complete:i});n.subscribe(s)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[Xo]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return H1(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=z1(e),new e(function(n,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},r.create=function(e){return new r(e)},r}();function z1(r){var e;return(e=r??zr.Promise)!==null&&e!==void 0?e:Promise}function M4(r){return r&&ze(r.next)&&ze(r.error)&&ze(r.complete)}function T4(r){return r&&r instanceof ta||M4(r)&&Of(r)}function k4(r){return ze(r?.lift)}function Et(r){return function(e){if(k4(e))return e.lift(function(t){try{return r(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function _t(r,e,t,n,i){return new C4(r,e,t,n,i)}var C4=function(r){Lt(e,r);function e(t,n,i,o,s,f){var h=r.call(this,t)||this;return h.onFinalize=s,h.shouldUnsubscribe=f,h._next=n?function(b){try{n(b)}catch(g){t.error(g)}}:r.prototype._next,h._error=o?function(b){try{o(b)}catch(g){t.error(g)}finally{this.unsubscribe()}}:r.prototype._error,h._complete=i?function(){try{i()}catch(b){t.error(b)}finally{this.unsubscribe()}}:r.prototype._complete,h}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(ta);var K1=Vo(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var Hl=function(r){Lt(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new j1(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new K1},e.prototype.next=function(t){var n=this;Wo(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=Cn(n.currentObservers),f=s.next();!f.done;f=s.next()){var h=f.value;h.next(t)}}catch(b){i={error:b}}finally{try{f&&!f.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var n=this;Wo(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var i=n.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;Wo(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,i=this,o=i.hasError,s=i.isStopped,f=i.observers;return o||s?Ll:(this.currentObservers=null,f.push(t),new ti(function(){n.currentObservers=null,Wi(f,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,o=n.thrownError,s=n.isStopped;i?t.error(o):s&&t.complete()},e.prototype.asObservable=function(){var t=new ot;return t.source=this,t},e.create=function(t,n){return new j1(t,n)},e}(ot);var j1=function(r){Lt(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)},e.prototype.error=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Ll},e}(Hl);var zl=function(r){Lt(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){var t=this,n=t.hasError,i=t.thrownError,o=t._value;if(n)throw i;return this._throwIfClosed(),o},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(Hl);var Kl={now:function(){return(Kl.delegate||Date).now()},delegate:void 0};var G1=function(r){Lt(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},e}(ti);var ra={setInterval:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=ra.delegate;return i?.setInterval?i.setInterval.apply(i,Hr([r,e],ar(t))):setInterval.apply(void 0,Hr([r,e],ar(t)))},clearInterval:function(r){var e=ra.delegate;return(e?.clearInterval||clearInterval)(r)},delegate:void 0};var J1=function(r){Lt(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=t;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),ra.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&ra.clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,o;try{this.work(t)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,i=t.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Wi(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(G1);var jl=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},r.now=Kl.now,r}();var V1=function(r){Lt(e,r);function e(t,n){n===void 0&&(n=jl.now);var i=r.call(this,t,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(t){var n=this.actions;if(this._active){n.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(jl);var D4=new V1(J1),Y1=D4;var Bf=new ot(function(r){return r.complete()});function Lf(r){return r&&ze(r.schedule)}function W1(r){return r[r.length-1]}function X1(r){return Lf(W1(r))?r.pop():void 0}function Z1(r,e){return typeof W1(r)=="number"?r.pop():e}var Qo=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function Uf(r){return ze(r?.then)}function $f(r){return ze(r[Xo])}function Ff(r){return Symbol.asyncIterator&&ze(r?.[Symbol.asyncIterator])}function qf(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function I4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hf=I4();function zf(r){return ze(r?.[Hf])}function Kf(r){return P1(this,arguments,function(){var t,n,i,o;return Df(this,function(s){switch(s.label){case 0:t=r.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Yi(t.read())];case 3:return n=s.sent(),i=n.value,o=n.done,o?[4,Yi(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Yi(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function jf(r){return ze(r?.getReader)}function Ut(r){if(r instanceof ot)return r;if(r!=null){if($f(r))return O4(r);if(Qo(r))return N4(r);if(Uf(r))return R4(r);if(Ff(r))return Q1(r);if(zf(r))return P4(r);if(jf(r))return B4(r)}throw qf(r)}function O4(r){return new ot(function(e){var t=r[Xo]();if(ze(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function N4(r){return new ot(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function R4(r){return new ot(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,Nf)})}function P4(r){return new ot(function(e){var t,n;try{for(var i=Cn(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e.complete()})}function Q1(r){return new ot(function(e){L4(r,e).catch(function(t){return e.error(t)})})}function B4(r){return Q1(Kf(r))}function L4(r,e){var t,n,i,o;return R1(this,void 0,void 0,function(){var s,f;return Df(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),t=B1(r),h.label=1;case 1:return[4,t.next()];case 2:if(n=h.sent(),!!n.done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return f=h.sent(),i={error:f},[3,11];case 6:return h.trys.push([6,,9,10]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Ar(r,e,t,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=e.schedule(function(){t(),i?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(o),!i)return o}function Gf(r,e){return e===void 0&&(e=0),Et(function(t,n){t.subscribe(_t(n,function(i){return Ar(n,r,function(){return n.next(i)},e)},function(){return Ar(n,r,function(){return n.complete()},e)},function(i){return Ar(n,r,function(){return n.error(i)},e)}))})}function Jf(r,e){return e===void 0&&(e=0),Et(function(t,n){n.add(r.schedule(function(){return t.subscribe(n)},e))})}function em(r,e){return Ut(r).pipe(Jf(e),Gf(e))}function tm(r,e){return Ut(r).pipe(Jf(e),Gf(e))}function rm(r,e){return new ot(function(t){var n=0;return e.schedule(function(){n===r.length?t.complete():(t.next(r[n++]),t.closed||this.schedule())})})}function nm(r,e){return new ot(function(t){var n;return Ar(t,e,function(){n=r[Hf](),Ar(t,e,function(){var i,o,s;try{i=n.next(),o=i.value,s=i.done}catch(f){t.error(f);return}s?t.complete():t.next(o)},0,!0)}),function(){return ze(n?.return)&&n.return()}})}function Vf(r,e){if(!r)throw new Error("Iterable cannot be null");return new ot(function(t){Ar(t,e,function(){var n=r[Symbol.asyncIterator]();Ar(t,e,function(){n.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function im(r,e){return Vf(Kf(r),e)}function om(r,e){if(r!=null){if($f(r))return em(r,e);if(Qo(r))return rm(r,e);if(Uf(r))return tm(r,e);if(Ff(r))return Vf(r,e);if(zf(r))return nm(r,e);if(jf(r))return im(r,e)}throw qf(r)}function sm(r,e){return e?om(r,e):Ut(r)}var Yf=Vo(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function am(r){return r instanceof Date&&!isNaN(r)}function Wf(r,e){return Et(function(t,n){var i=0;t.subscribe(_t(n,function(o){n.next(r.call(e,o,i++))}))})}var U4=Array.isArray;function $4(r,e){return U4(e)?r.apply(void 0,Hr([],ar(e))):r(e)}function fm(r){return Wf(function(e){return $4(r,e)})}function cm(r,e,t,n,i,o,s,f){var h=[],b=0,g=0,w=!1,T=function(){w&&!h.length&&!b&&e.complete()},C=function(k){return b<n?M(k):h.push(k)},M=function(k){o&&e.next(k),b++;var F=!1;Ut(t(k,g++)).subscribe(_t(e,function(I){i?.(I),o?C(I):e.next(I)},function(){F=!0},void 0,function(){if(F)try{b--;for(var I=function(){var $=h.shift();s?Ar(e,s,function(){return M($)}):M($)};h.length&&b<n;)I();T()}catch($){e.error($)}}))};return r.subscribe(_t(e,C,function(){w=!0,T()})),function(){f?.()}}function na(r,e,t){return t===void 0&&(t=1/0),ze(e)?na(function(n,i){return Wf(function(o,s){return e(n,o,i,s)})(Ut(r(n,i)))},t):(typeof e=="number"&&(t=e),Et(function(n,i){return cm(n,i,r,t)}))}function um(r){return r===void 0&&(r=1/0),na(Zo,r)}var F4=["addListener","removeListener"],q4=["addEventListener","removeEventListener"],H4=["on","off"];function ia(r,e,t,n){if(ze(t)&&(n=t,t=void 0),n)return ia(r,e,t).pipe(fm(n));var i=ar(j4(r)?q4.map(function(f){return function(h){return r[f](e,h,t)}}):z4(r)?F4.map(lm(r,e)):K4(r)?H4.map(lm(r,e)):[],2),o=i[0],s=i[1];if(!o&&Qo(r))return na(function(f){return ia(f,e,t)})(Ut(r));if(!o)throw new TypeError("Invalid event target");return new ot(function(f){var h=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];return f.next(1<b.length?b:b[0])};return o(h),function(){return s(h)}})}function lm(r,e){return function(t){return function(n){return r[t](e,n)}}}function z4(r){return ze(r.addListener)&&ze(r.removeListener)}function K4(r){return ze(r.on)&&ze(r.off)}function j4(r){return ze(r.addEventListener)&&ze(r.removeEventListener)}function Zi(r,e,t){r===void 0&&(r=0),t===void 0&&(t=Y1);var n=-1;return e!=null&&(Lf(e)?t=e:n=e),new ot(function(i){var o=am(r)?+r-t.now():r;o<0&&(o=0);var s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Gl(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=X1(r),n=Z1(r,1/0),i=r;return i.length?i.length===1?Ut(i[0]):um(n)(sm(i,t)):Bf}function hm(r,e){return Et(function(t,n){var i=0;t.subscribe(_t(n,function(o){return r.call(e,o,i++)&&n.next(o)}))})}function dm(r){return Et(function(e,t){var n=!1;e.subscribe(_t(t,function(i){n=!0,t.next(i)},function(){n||t.next(r),t.complete()}))})}function pm(r){return r<=0?function(){return Bf}:Et(function(e,t){var n=0;e.subscribe(_t(t,function(i){++n<=r&&(t.next(i),r<=n&&t.complete())}))})}function mm(r){return r===void 0&&(r=G4),Et(function(e,t){var n=!1;e.subscribe(_t(t,function(i){n=!0,t.next(i)},function(){return n?t.complete():t.error(r())}))})}function G4(){return new Yf}function Jl(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?hm(function(i,o){return r(i,o,n)}):Zo,pm(1),t?dm(e):mm(function(){return new Yf}))}}var J4={leading:!0,trailing:!1};function Vl(r,e){return e===void 0&&(e=J4),Et(function(t,n){var i=e.leading,o=e.trailing,s=!1,f=null,h=null,b=!1,g=function(){h?.unsubscribe(),h=null,o&&(C(),b&&n.complete())},w=function(){h=null,b&&n.complete()},T=function(M){return h=Ut(r(M)).subscribe(_t(n,g,w))},C=function(){if(s){s=!1;var M=f;f=null,n.next(M),!b&&T(M)}};t.subscribe(_t(n,function(M){s=!0,f=M,!(h&&!h.closed)&&(i?C():T(M))},function(){b=!0,!(o&&s&&h&&!h.closed)&&n.complete()}))})}var lt;(function(r){r[r.PREFER_CACHE=0]="PREFER_CACHE",r[r.SYNC_ALWAYS=1]="SYNC_ALWAYS",r[r.NEVER_SYNC=2]="NEVER_SYNC"})(lt||(lt={}));var ch=Ye(fa(),1);var nb;(function(r){r[r.GENESIS=0]="GENESIS",r[r.PARTIAL=1]="PARTIAL",r[r.SIGNED=2]="SIGNED"})(nb||(nb={}));var ca;(function(r){r[r.NOT_REQUESTED=0]="NOT_REQUESTED",r[r.PENDING=1]="PENDING",r[r.PROCESSING=2]="PROCESSING",r[r.ANCHORED=3]="ANCHORED",r[r.FAILED=4]="FAILED"})(ca||(ca={}));var uh;(function(r){r[r.GENESIS=0]="GENESIS",r[r.SIGNED=1]="SIGNED",r[r.ANCHOR=2]="ANCHOR"})(uh||(uh={}));var cn=class extends ot{constructor(e,t){super(n=>{e.subscribe(n)}),this.state$=e,this._context=t}get id(){return new He(this.state$.value.type,this.state$.value.log[0].cid)}get api(){return this._context.api}get content(){let{next:e,content:t}=this.state$.value;return(0,ch.default)(e?.content??t)}get tip(){return this.state$.value.log[this.state$.value.log.length-1].cid}get commitId(){return at.make(this.id,this.tip)}get allCommitIds(){return this.state$.value.log.map(({cid:e})=>at.make(this.id,e))}get anchorCommitIds(){return this.state$.value.log.filter(({type:e})=>e===uh.ANCHOR).map(({cid:e})=>at.make(this.id,e))}get state(){return(0,ch.default)(this.state$.value)}async sync(e={}){e={sync:lt.PREFER_CACHE,...e};let t=await this.api.loadStream(this.id,e);this.state$.next(t.state)}async requestAnchor(){return this.api.requestAnchor(this.id)}};function ni(){return r=>{}}var cb=Ye(sb(),1);function ab(r){let e=new AbortController;if(r.length===0)throw Error("Need abort signals to create a merged abort signal");return r.some(t=>t.aborted)?(e.abort(),e.signal):(Gl(...r.map(t=>ia(t,"abort"))).pipe(Jl()).subscribe(()=>{e.abort()}),e.signal)}var sc=class{constructor(e){let t=new AbortController;if(this.signal=t.signal,e<=0){t.abort();return}this._subscription=Zi(e).subscribe(()=>{t.abort()})}clear(){this._subscription?.unsubscribe()}};async function fb(r,e){let t=new AbortController,n=()=>{t.abort()};return r.addEventListener("abort",n),r.aborted&&t.abort(),e(t.signal).finally(()=>{r.removeEventListener("abort",n)})}var ww=60*1e3*3;async function Dt(r,e={}){e.body&&Object.assign(e,{body:JSON.stringify(e.body),headers:{...e.headers,"Content-Type":"application/json"}});let t=e.timeout||ww,n=new sc(t),i=e.signal?ab([e.signal,n.signal]):n.signal,o=await fb(i,s=>(0,cb.default)(String(r),{...e,signal:s})).finally(()=>n.clear());if(!o.ok){let s=await o.text();throw new Error(`HTTP request to '${r}' failed with status '${o.statusText}': ${s}`)}return o.json()}var ua=Ye(fa(),1);Br();function Nn(r){let e=Ae.asCID(r);if(e)return e;if(typeof r=="string")return Ae.parse(r);if(r instanceof Uint8Array)return Ae.decode(r);throw new Error(`${r} cannot be converted to a CID`)}var ub=0,je=class{static streamIdFromState(e){return new He(e.type,e.log[0].cid)}static serializeCommit(e){let t=(0,ua.default)(e);return je.isSignedCommitContainer(t)?(t.jws.link=t.jws.link.toString(),t.linkedBlock=We(t.linkedBlock,"base64"),t.cacaoBlock&&(t.cacaoBlock=We(t.cacaoBlock,"base64")),t):(je.isSignedCommit(e)&&(t.link=t.link.toString()),je.isAnchorCommit(e)&&(t.proof=t.proof.toString()),t.id&&(t.id=t.id.toString()),t.prev&&(t.prev=t.prev.toString()),e.header?.model&&(t.header.model=We(e.header.model,"base64")),t)}static deserializeCommit(e){let t=(0,ua.default)(e);return je.isSignedCommitContainer(t)?(t.jws.link=Nn(t.jws.link),t.linkedBlock=Je(t.linkedBlock,"base64"),t.cacaoBlock&&(t.cacaoBlock=Je(t.cacaoBlock,"base64")),t):(je.isSignedCommit(t)&&(t.link=Nn(t.link)),je.isAnchorCommit(t)&&(t.proof=Nn(t.proof)),t.id&&(t.id=Nn(t.id)),t.prev&&(t.prev=Nn(t.prev)),t.header?.model&&(t.header.model=Je(t.header.model,"base64")),t)}static serializeState(e){let t=(0,ua.default)(e);return t.log=t.log.map(n=>({...n,cid:n.cid.toString()})),t.anchorStatus!=null&&(t.anchorStatus=ca[t.anchorStatus]),t.anchorProof!=null&&(t.anchorProof.txHash=t.anchorProof.txHash.toString(),t.anchorProof.root=t.anchorProof.root.toString()),e.metadata?.model&&(t.metadata.model=e.metadata.model.toString()),e.next?.metadata?.model&&(t.next.metadata.model=e.next.metadata.model.toString()),e.metadata?.unique&&e.type!=ub&&(t.metadata.unique=We(t.metadata.unique,"base64")),t.doctype=er.nameByCode(t.type),t}static deserializeState(e){if(!e)return null;let t=(0,ua.default)(e);return t.doctype&&(t.type=er.codeByName(t.doctype),delete t.doctype),t.log=t.log.map(n=>({...n,cid:Nn(n.cid)})),t.anchorProof&&(t.anchorProof.txHash=Nn(t.anchorProof.txHash),t.anchorProof.root=Nn(t.anchorProof.root)),t.anchorStatus&&(t.anchorStatus=ca[t.anchorStatus]),e.metadata?.model&&(t.metadata.model=He.fromString(e.metadata.model)),e.next?.metadata?.model&&(t.next.metadata.model=He.fromString(e.next.metadata.model)),e.metadata?.unique&&e.type!=ub&&(t.metadata.unique=Je(e.metadata.unique,"base64")),t}static statesEqual(e,t){return JSON.stringify(je.serializeState(e))===JSON.stringify(je.serializeState(t))}static isStateSupersetOf(e,t){if(e.log.length<t.log.length)return!1;for(let n in t.log)if(!e.log[n].cid.equals(t.log[n].cid))return!1;return!(e.log.length===t.log.length&&e.anchorStatus!=t.anchorStatus)}static assertCommitLinksToState(e,t){let n=this.streamIdFromState(e);if(t.id&&!t.id.equals(e.log[0].cid))throw new Error(`Invalid genesis CID in commit for StreamID ${n.toString()}. Found: ${t.id}, expected ${e.log[0].cid}`);let i=e.log[e.log.length-1].cid;if(!t.prev.equals(i))throw new Error(`Commit doesn't properly point to previous commit in log. Expected ${i}, found 'prev' ${t.prev}`)}static async convertCommitToSignedCommitContainer(e,t){if(je.isSignedCommit(e)){let n=await t.block.get(e.link);return{jws:e,linkedBlock:n}}return e}static isSignedCommitContainer(e){return e&&e.jws!==void 0}static isSignedCommit(e){return e&&e.link!==void 0}static isAnchorCommit(e){return e&&e.proof!==void 0}static isSignedCommitData(e){return e&&e.envelope!==void 0}static isAnchorCommitData(e){return e&&e.proof!==void 0}static commitDataToLogEntry(e,t){let n={cid:e.cid,type:t};return e?.capability?.p?.exp&&(n.expirationTime=Math.floor(Date.parse(e.capability.p.exp)/1e3)),e.timestamp&&(n.timestamp=e.timestamp),n}static checkForCacaoExpiration(e){let t=Math.floor(Date.now()/1e3);for(let n of e.log){let i=n.timestamp??t;if(n.expirationTime&&n.expirationTime<i)throw new Error(`CACAO expired: Commit ${n.cid.toString()} of Stream ${je.streamIdFromState(e).toString()} has a CACAO that expired at ${n.expirationTime}. Loading the stream with 'sync: SyncOptions.ALWAYS_SYNC' will restore the stream to a usable state, by discarding the invalid commits (this means losing the data from those invalid writes!)`)}}};function wh(){return wh=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},wh.apply(this,arguments)}var Eh={name:"chainId",regex:"[-:a-zA-Z0-9]{5,41}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"}}}},r9={name:"accountId",regex:"[-:a-zA-Z0-9]{7,106}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"},2:{name:"address",regex:"[a-zA-Z0-9]{1,64}"}}}},_h={name:"assetName",regex:"[-:a-zA-Z0-9]{5,73}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,64}"}}}},n9={name:"assetType",regex:"[-:a-zA-Z0-9]{11,115}",parameters:{delimiter:"/",values:{0:Eh,1:_h}}},i9={name:"assetId",regex:"[-:a-zA-Z0-9]{13,148}",parameters:{delimiter:"/",values:{0:Eh,1:_h,2:{name:"tokenId",regex:"[-a-zA-Z0-9]{1,32}"}}}},la={2:Eh,10:r9,19:{assetName:_h,assetType:n9,assetId:i9}};function Ab(r,e){return r.split(e.parameters.delimiter)}function ha(r,e){var t=Ab(r,e),n={};return t.forEach(function(i,o){n[e.parameters.values[o].name]=i}),n}function os(r,e){return Object.values(e.parameters.values).map(function(t){var n=r[t.name];return typeof n=="string"?n:os(n,t)}).join(e.parameters.delimiter)}function da(r,e){if(!new RegExp(e.regex).test(r))return!1;var t=Ab(r,e);if(t.length!==Object.keys(e.parameters.values).length)return!1;var n=t.map(function(i,o){return new RegExp(e.parameters.values[o].regex).test(i)}).filter(function(i){return!!i});return n.length===t.length}var ii=function(){function r(t){typeof t=="string"&&(t=r.parse(t)),this.namespace=t.namespace,this.reference=t.reference}r.parse=function(n){if(!da(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new r(ha(n,this.spec)).toJSON()},r.format=function(n){return os(n,this.spec)};var e=r.prototype;return e.toString=function(){return r.format(this.toJSON())},e.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},r}();ii.spec=la[2];var oi=function(){function r(t){typeof t=="string"&&(t=r.parse(t)),this.chainId=new ii(t.chainId),this.address=t.address}r.parse=function(n){if(!da(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);var i=ha(n,this.spec),o=i.namespace,s=i.reference,f=i.address,h=new ii({namespace:o,reference:s});return new r({chainId:h,address:f}).toJSON()},r.format=function(n){var i=new ii(n.chainId),o=wh({},i.toJSON(),{address:n.address});return os(o,this.spec)};var e=r.prototype;return e.toString=function(){return r.format(this.toJSON())},e.toJSON=function(){return{chainId:this.chainId.toJSON(),address:this.address}},r}();oi.spec=la[10];var Ah=function(){function r(t){typeof t=="string"&&(t=r.parse(t)),this.namespace=t.namespace,this.reference=t.reference}r.parse=function(n){if(!da(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new r(ha(n,this.spec)).toJSON()},r.format=function(n){return os(n,this.spec)};var e=r.prototype;return e.toString=function(){return r.format(this.toJSON())},e.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},r}();Ah.spec=la[19].assetName;var o9=function(){function r(t){typeof t=="string"&&(t=r.parse(t)),this.chainId=new ii(t.chainId),this.assetName=new Ah(t.assetName)}r.parse=function(n){if(!da(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new r(ha(n,this.spec)).toJSON()},r.format=function(n){return os(n,this.spec)};var e=r.prototype;return e.toString=function(){return r.format(this.toJSON())},e.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName}},r}();o9.spec=la[19].assetType;var s9=function(){function r(t){typeof t=="string"&&(t=r.parse(t)),this.chainId=new ii(t.chainId),this.assetName=new Ah(t.assetName),this.tokenId=t.tokenId}r.parse=function(n){if(!da(n,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+n);return new r(ha(n,this.spec)).toJSON()},r.format=function(n){return os(n,this.spec)};var e=r.prototype;return e.toString=function(){return r.format(this.toJSON())},e.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName.toJSON(),tokenId:this.tokenId}},r}();s9.spec=la[19].assetId;function Sb(r){if(typeof r=="string"&&r.includes("@")){let[e,t]=r.split("@");if(!e||!t)throw new Error("Invalid accountId provided");return new oi({address:e,chainId:t})}return new oi(r)}var g2=Ye(b2(),1),qt=Ye(so(),1),S9=`
sign-in-with-ethereum =
    domain %s" wants you to sign in with your Ethereum account:" LF
    address LF
    LF
    [ statement LF ]
    LF
    %s"URI: " URI LF
    %s"Version: " version LF
    %s"Chain ID: " chain-id LF
    %s"Nonce: " nonce LF
    %s"Issued At: " issued-at
    [ LF %s"Expiration Time: " expiration-time ]
    [ LF %s"Not Before: " not-before ]
    [ LF %s"Request ID: " request-id ]
    [ LF %s"Resources:"
    resources ]

domain = dnsauthority

address = "0x" 40*40HEXDIG
    ; Must also conform to captilization
    ; checksum encoding specified in EIP-55
    ; where applicable (EOAs).

statement = *( reserved / unreserved / " " )
    ; The purpose is to exclude LF (line breaks).

version = "1"

nonce = 8*( ALPHA / DIGIT )

issued-at = date-time
expiration-time = date-time
not-before = date-time

request-id = *pchar

chain-id = 1*DIGIT
    ; See EIP-155 for valid CHAIN_IDs.

resources = *( LF resource )

resource = "- " URI

; ------------------------------------------------------------------------------
; RFC 3986

URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]

hier-part     = "//" authority path-abempty
              / path-absolute
              / path-rootless
              / path-empty

scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )

authority     = [ userinfo "@" ] host [ ":" port ]
userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
host          = IP-literal / IPv4address / reg-name
port          = *DIGIT

IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"

IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )

IPv6address   =                            6( h16 ":" ) ls32
              /                       "::" 5( h16 ":" ) ls32
              / [               h16 ] "::" 4( h16 ":" ) ls32
              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
              / [ *4( h16 ":" ) h16 ] "::"              ls32
              / [ *5( h16 ":" ) h16 ] "::"              h16
              / [ *6( h16 ":" ) h16 ] "::"

h16           = 1*4HEXDIG
ls32          = ( h16 ":" h16 ) / IPv4address
IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
dec-octet     = DIGIT                 ; 0-9
                 / %x31-39 DIGIT         ; 10-99
                 / "1" 2DIGIT            ; 100-199
                 / "2" %x30-34 DIGIT     ; 200-249
                 / "25" %x30-35          ; 250-255

reg-name      = *( unreserved / pct-encoded / sub-delims )

path-abempty  = *( "/" segment )
path-absolute = "/" [ segment-nz *( "/" segment ) ]
path-rootless = segment-nz *( "/" segment )
path-empty    = 0pchar

segment       = *pchar
segment-nz    = 1*pchar

pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"

query         = *( pchar / "/" / "?" )

fragment      = *( pchar / "/" / "?" )

pct-encoded   = "%" HEXDIG HEXDIG

unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
reserved      = gen-delims / sub-delims
gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
              / "*" / "+" / "," / ";" / "="

; ------------------------------------------------------------------------------
; RFC 4501

dnsauthority    = host [ ":" port ]
                             ; See RFC 3986 for the
                             ; definition of "host" and "port".

; ------------------------------------------------------------------------------
; RFC 3339

date-fullyear   = 4DIGIT
date-month      = 2DIGIT  ; 01-12
date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
                          ; month/year
time-hour       = 2DIGIT  ; 00-23
time-minute     = 2DIGIT  ; 00-59
time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
                          ; rules
time-secfrac    = "." 1*DIGIT
time-numoffset  = ("+" / "-") time-hour ":" time-minute
time-offset     = "Z" / time-numoffset

partial-time    = time-hour ":" time-minute ":" time-second
                  [time-secfrac]
full-date       = date-fullyear "-" date-month "-" date-mday
full-time       = partial-time time-offset

date-time       = full-date "T" full-time

; ------------------------------------------------------------------------------
; RFC 5234

ALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z
LF             =  %x0A
                  ; linefeed
DIGIT          =  %x30-39
                  ; 0-9
HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,gc=class{constructor(e){let t=new g2.default(S9);if(t.generate(),t.errors.length)throw console.error(t.errorsToAscii()),console.error(t.linesToAscii()),console.log(t.displayAttributeErrors()),new Error("ABNF grammar has errors");let n=t.toObject(),i=new qt.default.parser;i.ast=new qt.default.ast;let o=qt.default.ids,s=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.domain=qt.default.utils.charsToString(W,B,P)),ee};i.ast.callbacks.domain=s;let f=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.address=qt.default.utils.charsToString(W,B,P)),ee};i.ast.callbacks.address=f;let h=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.statement=qt.default.utils.charsToString(W,B,P)),ee};i.ast.callbacks.statement=h;let b=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.uri||(L.uri=qt.default.utils.charsToString(W,B,P))),ee};i.ast.callbacks.uri=b;let g=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.version=qt.default.utils.charsToString(W,B,P)),ee};i.ast.callbacks.version=g;let w=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.chainId=qt.default.utils.charsToString(W,B,P)),ee};i.ast.callbacks["chain-id"]=w;let T=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.nonce=qt.default.utils.charsToString(W,B,P)),ee};i.ast.callbacks.nonce=T;let C=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.issuedAt=qt.default.utils.charsToString(W,B,P)),ee};i.ast.callbacks["issued-at"]=C;let M=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.expirationTime=qt.default.utils.charsToString(W,B,P)),ee};i.ast.callbacks["expiration-time"]=M;let k=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.notBefore=qt.default.utils.charsToString(W,B,P)),ee};i.ast.callbacks["not-before"]=k;let F=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.requestId=qt.default.utils.charsToString(W,B,P)),ee};i.ast.callbacks["request-id"]=F;let I=function(H,W,B,P,L){let ee=o.SEM_OK;return H===o.SEM_PRE&&(L.resources=qt.default.utils.charsToString(W,B,P).slice(3).split(`
- `)),ee};i.ast.callbacks.resources=I;let $=i.parse(n,"sign-in-with-ethereum",e);if(!$.success)throw new Error(`Invalid message: ${JSON.stringify($)}`);let j={};i.ast.translate(j);for(let[H,W]of Object.entries(j))this[H]=W}};var v2;(function(r){r.INVALID_SIGNATURE="Invalid signature.",r.EXPIRED_MESSAGE="Expired message.",r.MALFORMED_SESSION="Malformed session."})(v2||(v2={}));var va;(function(r){r.PERSONAL_SIGNATURE="Personal signature"})(va||(va={}));var vc=class{static fromCacao(e){let t=oi.parse(e.p.iss.replace("did:pkh:","")),n=new this({domain:e.p.domain,address:t.address,uri:e.p.aud,version:e.p.version,chainId:new ii(t.chainId).reference});return e.p.statement&&(n.statement=e.p.statement),e.p.nonce&&(n.nonce=e.p.nonce),e.p.iat&&(n.issuedAt=e.p.iat),e.p.exp&&(n.expirationTime=e.p.exp),e.p.nbf&&(n.notBefore=e.p.nbf),e.p.requestId&&(n.requestId=e.p.requestId),e.p.resources&&(n.resources=e.p.resources),e.s&&(e.s.s&&(n.signature=e.s.s),e.s.t==="eip191"&&(n.type=va.PERSONAL_SIGNATURE)),n}toMessage(e){return M9(this,e)}constructor(e){if(this.statement=void 0,this.nonce=void 0,this.issuedAt=void 0,this.expirationTime=void 0,this.notBefore=void 0,this.requestId=void 0,this.resources=void 0,this.signature=void 0,typeof e=="string"){let t=new gc(e);this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else Object.assign(this,e)}};function y2(r,e){let t=`${r.domain} wants you to sign in with your ${e} account:`,n=`URI: ${r.uri}`,i=[t,r.address].join(`
`),o=`Version: ${r.version}`;r.nonce||(r.nonce=(Math.random()+1).toString(36).substring(4));let s=`Nonce: ${r.nonce}`,f=[n,o,s];if(r.issuedAt&&Date.parse(r.issuedAt),r.issuedAt=r.issuedAt?r.issuedAt:new Date().toISOString(),f.push(`Issued At: ${r.issuedAt}`),r.expirationTime){let b=`Expiration Time: ${r.expirationTime}`;f.push(b)}r.notBefore&&f.push(`Not Before: ${r.notBefore}`),r.requestId&&f.push(`Request ID: ${r.requestId}`),r.chainId&&f.push(`Chain ID: ${r.chainId}`),r.resources&&f.push(["Resources:",...r.resources.map(b=>`- ${b}`)].join(`
`));let h=f.join(`
`);return r.statement&&(i=[i,r.statement].join(`

`)),[i,h].join(`

`)}function M9(r,e){let t=`${r.domain} wants you to sign in with your ${e} account:`,n=`URI: ${r.uri}`,i=[t,r.address].join(`
`),o=`Version: ${r.version}`;r.nonce||(r.nonce=(Math.random()+1).toString(36).substring(4));let s=`Nonce: ${r.nonce}`,f=`Chain ID: ${r.chainId}`,h=[n,o,f,s];if(r.issuedAt&&Date.parse(r.issuedAt),r.issuedAt=r.issuedAt?r.issuedAt:new Date().toISOString(),h.push(`Issued At: ${r.issuedAt}`),r.expirationTime){let g=`Expiration Time: ${r.expirationTime}`;h.push(g)}r.notBefore&&h.push(`Not Before: ${r.notBefore}`),r.requestId&&h.push(`Request ID: ${r.requestId}`),r.resources&&r.resources.length>=1&&h.push(["Resources:",...r.resources.map(g=>`- ${g}`)].join(`
`));let b=h.join(`
`);return r.statement&&(i=[i,r.statement].join(`

`)),[i,b].join(`

`)}var ya=class extends vc{toMessage(){return super.toMessage("Ethereum")}signMessage(){let e;switch(this.type){case va.PERSONAL_SIGNATURE:{e=this.toMessage();break}default:{e=this.toMessage();break}}return e}};js();var T9=5*60,XR=new Date("2022-09-20").valueOf(),xa;(function(r){function e(o){let s={h:{t:"eip4361"},p:{domain:o.domain,iat:o.issuedAt,iss:`did:pkh:eip155:${o.chainId}:${o.address}`,aud:o.uri,version:o.version,nonce:o.nonce}};return o.signature&&(s.s={t:"eip191",s:o.signature}),o.notBefore&&(s.p.nbf=o.notBefore),o.expirationTime&&(s.p.exp=o.expirationTime),o.statement&&(s.p.statement=o.statement),o.requestId&&(s.p.requestId=o.requestId),o.resources&&(s.p.resources=o.resources),s}r.fromSiweMessage=e;function t(o){let s={h:{t:"caip122"},p:{domain:o.domain,iat:o.issuedAt,iss:`did:pkh:solana:${o.chainId}:${o.address}`,aud:o.uri,version:o.version,nonce:o.nonce}};return o.signature&&(s.s={t:"solana:ed25519",s:o.signature}),o.notBefore&&(s.p.nbf=o.notBefore),o.expirationTime&&(s.p.exp=o.expirationTime),o.statement&&(s.p.statement=o.statement),o.requestId&&(s.p.requestId=o.requestId),o.resources&&(s.p.resources=o.resources),s}r.fromSiwsMessage=t;async function n(o){return(await yp({bytes:o,codec:qr,hasher:Xn})).value}r.fromBlockBytes=n;async function i(o,s={}){Nh(o);let f=s.verifiers[o.s.t];if(!f)throw new Error("Unsupported CACAO signature type, register the needed verifier");return f(o,s)}r.verify=i})(xa||(xa={}));var wa;(function(r){function e(t){return zi({value:t,codec:qr,hasher:Xn})}r.fromCacao=e})(wa||(wa={}));function Nh(r){if(r.s===null||r.s===void 0)throw new Error("CACAO does not have a signature")}function x2(r,e){let t=e.atTime?e.atTime.getTime():Date.now(),n=(e.clockSkewSecs??T9)*1e3;if(Date.parse(r.p.iat)>t+n||Date.parse(r.p.nbf)>t+n)throw new Error("CACAO is not valid yet");let i=e.revocationPhaseOutSecs?e.revocationPhaseOutSecs*1e3:0;if(!e.disableExpirationCheck&&Date.parse(r.p.exp)+i+n<t)throw new Error("CACAO has expired")}var w2="logger/5.7.0";var E2=!1,_2=!1,yc={debug:1,default:2,info:2,warning:3,error:4,off:5},A2=yc.default,Rh=null;function k9(){try{let r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}var S2=k9(),Ph;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Ph||(Ph={}));var jr;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(jr||(jr={}));var M2="0123456789abcdef",Ke=class{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let n=e.toLowerCase();yc[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(A2>yc[n])&&console.log.apply(console,t)}debug(...e){this._log(Ke.levels.DEBUG,e)}info(...e){this._log(Ke.levels.INFO,e)}warn(...e){this._log(Ke.levels.WARNING,e)}makeError(e,t,n){if(_2)return this.makeError("censored error",t,{});t||(t=Ke.errors.UNKNOWN_ERROR),n||(n={});let i=[];Object.keys(n).forEach(h=>{let b=n[h];try{if(b instanceof Uint8Array){let g="";for(let w=0;w<b.length;w++)g+=M2[b[w]>>4],g+=M2[b[w]&15];i.push(h+"=Uint8Array(0x"+g+")")}else i.push(h+"="+JSON.stringify(b))}catch{i.push(h+"="+JSON.stringify(n[h].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);let o=e,s="";switch(t){case jr.NUMERIC_FAULT:{s="NUMERIC_FAULT";let h=e;switch(h){case"overflow":case"underflow":case"division-by-zero":s+="-"+h;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case jr.CALL_EXCEPTION:case jr.INSUFFICIENT_FUNDS:case jr.MISSING_NEW:case jr.NONCE_EXPIRED:case jr.REPLACEMENT_UNDERPRICED:case jr.TRANSACTION_REPLACED:case jr.UNPREDICTABLE_GAS_LIMIT:s=t;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");let f=new Error(e);return f.reason=o,f.code=t,Object.keys(n).forEach(function(h){f[h]=n[h]}),f}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Ke.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),S2&&this.throwError("platform missing String.prototype.normalize",Ke.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:S2})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Ke.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Ke.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,Ke.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Ke.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Ke.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Ke.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ke.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Rh||(Rh=new Ke(w2)),Rh}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Ke.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),E2){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ke.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_2=!!e,E2=!!t}static setLogLevel(e){let t=yc[e.toLowerCase()];if(t==null){Ke.globalLogger().warn("invalid log level - "+e);return}A2=t}static from(e){return new Ke(e)}};Ke.errors=jr;Ke.levels=Ph;var T2="bytes/5.7.0";var vt=new Ke(T2);function C2(r){return!!r.toHexString}function us(r){return r.slice||(r.slice=function(){let e=Array.prototype.slice.call(arguments);return us(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function D2(r){return Gr(r)&&!(r.length%2)||Lh(r)}function k2(r){return typeof r=="number"&&r==r&&r%1===0}function Lh(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!k2(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){let t=r[e];if(!k2(t)||t<0||t>=256)return!1}return!0}function ht(r,e){if(e||(e={}),typeof r=="number"){vt.checkSafeUint53(r,"invalid arrayify value");let t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),us(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),C2(r)&&(r=r.toHexString()),Gr(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":vt.throwArgumentError("hex data is odd-length","value",r));let n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return us(new Uint8Array(n))}return Lh(r)?us(new Uint8Array(r)):vt.throwArgumentError("invalid arrayify value","value",r)}function Uh(r){let e=r.map(i=>ht(i)),t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t);return e.reduce((i,o)=>(n.set(o,i),i+o.length),0),us(n)}function C9(r,e){r=ht(r),r.length>e&&vt.throwArgumentError("value out of range","value",arguments[0]);let t=new Uint8Array(e);return t.set(r,e-r.length),us(t)}function Gr(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}var Bh="0123456789abcdef";function Ht(r,e){if(e||(e={}),typeof r=="number"){vt.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Bh[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),C2(r))return r.toHexString();if(Gr(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":vt.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(Lh(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=Bh[(i&240)>>4]+Bh[i&15]}return t}return vt.throwArgumentError("invalid hexlify value","value",r)}function xc(r){if(typeof r!="string")r=Ht(r);else if(!Gr(r)||r.length%2)return null;return(r.length-2)/2}function wc(r,e,t){return typeof r!="string"?r=Ht(r):(!Gr(r)||r.length%2)&&vt.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function ci(r,e){for(typeof r!="string"?r=Ht(r):Gr(r)||vt.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&vt.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function Ec(r){let e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(D2(r)){let t=ht(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Ht(t.slice(0,32)),e.s=Ht(t.slice(32,64))):t.length===65?(e.r=Ht(t.slice(0,32)),e.s=Ht(t.slice(32,64)),e.v=t[64]):vt.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:vt.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Ht(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){let i=C9(ht(e._vs),32);e._vs=Ht(i);let o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&vt.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;let s=Ht(i);e.s==null?e.s=s:e.s!==s&&vt.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?vt.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{let i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&vt.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Gr(e.r)?vt.throwArgumentError("signature missing or invalid r","signature",r):e.r=ci(e.r,32),e.s==null||!Gr(e.s)?vt.throwArgumentError("signature missing or invalid s","signature",r):e.s=ci(e.s,32);let t=ht(e.s);t[0]>=128&&vt.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);let n=Ht(t);e._vs&&(Gr(e._vs)||vt.throwArgumentError("signature invalid _vs","signature",r),e._vs=ci(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&vt.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var N2=Ye(qh());var O2="bignumber/5.7.0";var D9=N2.default.BN,lP=new Ke(O2);function Hh(r){return new D9(r,36).toString(16)}var R2=Ye(zh());function ls(r){return"0x"+R2.default.keccak_256(ht(r))}var P2="address/5.7.0";var Ea=new Ke(P2);function B2(r){Gr(r,20)||Ea.throwArgumentError("invalid address","address",r),r=r.toLowerCase();let e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);let n=ht(ls(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}var N9=9007199254740991;function R9(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}var Kh={};for(let r=0;r<10;r++)Kh[String(r)]=String(r);for(let r=0;r<26;r++)Kh[String.fromCharCode(65+r)]=String(10+r);var L2=Math.floor(R9(N9));function P9(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Kh[n]).join("");for(;e.length>=L2;){let n=e.substring(0,L2);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function U2(r){let e=null;if(typeof r!="string"&&Ea.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=B2(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Ea.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==P9(r)&&Ea.throwArgumentError("bad icap checksum","address",r),e=Hh(r.substring(4));e.length<40;)e="0"+e;e=B2("0x"+e)}else Ea.throwArgumentError("invalid address","address",r);return e}var $2="properties/5.7.0";var CP=new Ke($2);function hs(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}var F2="strings/5.7.0";var q2=new Ke(F2),_a;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(_a||(_a={}));var ao;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(ao||(ao={}));function B9(r,e,t,n,i){return q2.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function H2(r,e,t,n,i){if(r===ao.BAD_PREFIX||r===ao.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<t.length&&t[s]>>6===2;s++)o++;return o}return r===ao.OVERRUN?t.length-e-1:0}function L9(r,e,t,n,i){return r===ao.OVERLONG?(n.push(i),0):(n.push(65533),H2(r,e,t,n,i))}var U9=Object.freeze({error:B9,ignore:H2,replace:L9});function Aa(r,e=_a.current){e!=_a.current&&(q2.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;let o=r.charCodeAt(n);if(n>=r.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");let s=65536+((i&1023)<<10)+(o&1023);t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return ht(t)}var z2=`Ethereum Signed Message:
`;function jh(r){return typeof r=="string"&&(r=Aa(r)),ls(Uh([Aa(z2),Aa(String(r.length)),r]))}var qe=Ye(qh()),vn=Ye(ka());function ys(r,e,t){return t={path:e,exports:{},require:function(n,i){return aE(n,i??t.path)}},r(t,t.exports),t.exports}function aE(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var id=M3;function M3(r,e){if(!r)throw new Error(e||"Assertion failed")}M3.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Wr=ys(function(r,e){"use strict";var t=e;function n(s,f){if(Array.isArray(s))return s.slice();if(!s)return[];var h=[];if(typeof s!="string"){for(var b=0;b<s.length;b++)h[b]=s[b]|0;return h}if(f==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var b=0;b<s.length;b+=2)h.push(parseInt(s[b]+s[b+1],16))}else for(var b=0;b<s.length;b++){var g=s.charCodeAt(b),w=g>>8,T=g&255;w?h.push(w,T):h.push(T)}return h}t.toArray=n;function i(s){return s.length===1?"0"+s:s}t.zero2=i;function o(s){for(var f="",h=0;h<s.length;h++)f+=i(s[h].toString(16));return f}t.toHex=o,t.encode=function(f,h){return h==="hex"?o(f):f}}),ur=ys(function(r,e){"use strict";var t=e;t.assert=id,t.toArray=Wr.toArray,t.zero2=Wr.zero2,t.toHex=Wr.toHex,t.encode=Wr.encode;function n(h,b,g){var w=new Array(Math.max(h.bitLength(),g)+1);w.fill(0);for(var T=1<<b+1,C=h.clone(),M=0;M<w.length;M++){var k,F=C.andln(T-1);C.isOdd()?(F>(T>>1)-1?k=(T>>1)-F:k=F,C.isubn(k)):k=0,w[M]=k,C.iushrn(1)}return w}t.getNAF=n;function i(h,b){var g=[[],[]];h=h.clone(),b=b.clone();for(var w=0,T=0,C;h.cmpn(-w)>0||b.cmpn(-T)>0;){var M=h.andln(3)+w&3,k=b.andln(3)+T&3;M===3&&(M=-1),k===3&&(k=-1);var F;M&1?(C=h.andln(7)+w&7,(C===3||C===5)&&k===2?F=-M:F=M):F=0,g[0].push(F);var I;k&1?(C=b.andln(7)+T&7,(C===3||C===5)&&M===2?I=-k:I=k):I=0,g[1].push(I),2*w===F+1&&(w=1-w),2*T===I+1&&(T=1-T),h.iushrn(1),b.iushrn(1)}return g}t.getJSF=i;function o(h,b,g){var w="_"+b;h.prototype[b]=function(){return this[w]!==void 0?this[w]:this[w]=g.call(this)}}t.cachedProperty=o;function s(h){return typeof h=="string"?t.toArray(h,"hex"):h}t.parseBytes=s;function f(h){return new qe.default(h,"hex","le")}t.intFromLE=f}),kc=ur.getNAF,fE=ur.getJSF,Cc=ur.assert;function di(r,e){this.type=r,this.p=new qe.default(e.p,16),this.red=e.prime?qe.default.red(e.prime):qe.default.mont(this.p),this.zero=new qe.default(0).toRed(this.red),this.one=new qe.default(1).toRed(this.red),this.two=new qe.default(2).toRed(this.red),this.n=e.n&&new qe.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var co=di;di.prototype.point=function(){throw new Error("Not implemented")};di.prototype.validate=function(){throw new Error("Not implemented")};di.prototype._fixedNafMul=function(e,t){Cc(e.precomputed);var n=e._getDoubles(),i=kc(t,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],f,h;for(f=0;f<i.length;f+=n.step){h=0;for(var b=f+n.step-1;b>=f;b--)h=(h<<1)+i[b];s.push(h)}for(var g=this.jpoint(null,null,null),w=this.jpoint(null,null,null),T=o;T>0;T--){for(f=0;f<s.length;f++)h=s[f],h===T?w=w.mixedAdd(n.points[f]):h===-T&&(w=w.mixedAdd(n.points[f].neg()));g=g.add(w)}return g.toP()};di.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=kc(t,n,this._bitLength),f=this.jpoint(null,null,null),h=s.length-1;h>=0;h--){for(var b=0;h>=0&&s[h]===0;h--)b++;if(h>=0&&b++,f=f.dblp(b),h<0)break;var g=s[h];Cc(g!==0),e.type==="affine"?g>0?f=f.mixedAdd(o[g-1>>1]):f=f.mixedAdd(o[-g-1>>1].neg()):g>0?f=f.add(o[g-1>>1]):f=f.add(o[-g-1>>1].neg())}return e.type==="affine"?f.toP():f};di.prototype._wnafMulAdd=function(e,t,n,i,o){var s=this._wnafT1,f=this._wnafT2,h=this._wnafT3,b=0,g,w,T;for(g=0;g<i;g++){T=t[g];var C=T._getNAFPoints(e);s[g]=C.wnd,f[g]=C.points}for(g=i-1;g>=1;g-=2){var M=g-1,k=g;if(s[M]!==1||s[k]!==1){h[M]=kc(n[M],s[M],this._bitLength),h[k]=kc(n[k],s[k],this._bitLength),b=Math.max(h[M].length,b),b=Math.max(h[k].length,b);continue}var F=[t[M],null,null,t[k]];t[M].y.cmp(t[k].y)===0?(F[1]=t[M].add(t[k]),F[2]=t[M].toJ().mixedAdd(t[k].neg())):t[M].y.cmp(t[k].y.redNeg())===0?(F[1]=t[M].toJ().mixedAdd(t[k]),F[2]=t[M].add(t[k].neg())):(F[1]=t[M].toJ().mixedAdd(t[k]),F[2]=t[M].toJ().mixedAdd(t[k].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],$=fE(n[M],n[k]);for(b=Math.max($[0].length,b),h[M]=new Array(b),h[k]=new Array(b),w=0;w<b;w++){var j=$[0][w]|0,H=$[1][w]|0;h[M][w]=I[(j+1)*3+(H+1)],h[k][w]=0,f[M]=F}}var W=this.jpoint(null,null,null),B=this._wnafT4;for(g=b;g>=0;g--){for(var P=0;g>=0;){var L=!0;for(w=0;w<i;w++)B[w]=h[w][g]|0,B[w]!==0&&(L=!1);if(!L)break;P++,g--}if(g>=0&&P++,W=W.dblp(P),g<0)break;for(w=0;w<i;w++){var ee=B[w];ee!==0&&(ee>0?T=f[w][ee-1>>1]:ee<0&&(T=f[w][-ee-1>>1].neg()),T.type==="affine"?W=W.mixedAdd(T):W=W.add(T))}}for(g=0;g<i;g++)f[g]=null;return o?W:W.toP()};function kr(r,e){this.curve=r,this.type=e,this.precomputed=null}di.BasePoint=kr;kr.prototype.eq=function(){throw new Error("Not implemented")};kr.prototype.validate=function(){return this.curve.validate(this)};di.prototype.decodePoint=function(e,t){e=ur.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Cc(e[e.length-1]%2===0):e[0]===7&&Cc(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};kr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};kr.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};kr.prototype.encode=function(e,t){return ur.encode(this._encode(t),e)};kr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};kr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};kr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<t;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};kr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)t[o]=t[o-1].add(i);return{wnd:e,points:t}};kr.prototype._getBeta=function(){return null};kr.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var od=ys(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),cE=ur.assert;function Cr(r){co.call(this,"short",r),this.a=new qe.default(r.a,16).toRed(this.red),this.b=new qe.default(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}od(Cr,co);var uE=Cr;Cr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new qe.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new qe.default(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))===0?n=o[0]:(n=o[1],cE(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(f){return{a:new qe.default(f.a,16),b:new qe.default(f.b,16)}}):s=this._getEndoBasis(n),{beta:t,lambda:n,basis:s}}};Cr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:qe.default.mont(e),n=new qe.default(2).toRed(t).redInvm(),i=n.redNeg(),o=new qe.default(3).toRed(t).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),f=i.redSub(o).fromRed();return[s,f]};Cr.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new qe.default(1),s=new qe.default(0),f=new qe.default(0),h=new qe.default(1),b,g,w,T,C,M,k,F=0,I,$;n.cmpn(0)!==0;){var j=i.div(n);I=i.sub(j.mul(n)),$=f.sub(j.mul(o));var H=h.sub(j.mul(s));if(!w&&I.cmp(t)<0)b=k.neg(),g=o,w=I.neg(),T=$;else if(w&&++F===2)break;k=I,i=n,n=I,f=o,o=$,h=s,s=H}C=I.neg(),M=$;var W=w.sqr().add(T.sqr()),B=C.sqr().add(M.sqr());return B.cmp(W)>=0&&(C=b,M=g),w.negative&&(w=w.neg(),T=T.neg()),C.negative&&(C=C.neg(),M=M.neg()),[{a:w,b:T},{a:C,b:M}]};Cr.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),f=o.mul(n.a),h=s.mul(i.a),b=o.mul(n.b),g=s.mul(i.b),w=e.sub(f).sub(h),T=b.add(g).neg();return{k1:w,k2:T}};Cr.prototype.pointFromX=function(e,t){e=new qe.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)};Cr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),o=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Cr.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var f=this._endoSplit(t[s]),h=e[s],b=h._getBeta();f.k1.negative&&(f.k1.ineg(),h=h.neg(!0)),f.k2.negative&&(f.k2.ineg(),b=b.neg(!0)),i[s*2]=h,i[s*2+1]=b,o[s*2]=f.k1,o[s*2+1]=f.k2}for(var g=this._wnafMulAdd(1,i,o,s*2,n),w=0;w<s*2;w++)i[w]=null,o[w]=null;return g};function St(r,e,t,n){co.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new qe.default(e,16),this.y=new qe.default(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}od(St,co.BasePoint);Cr.prototype.point=function(e,t,n){return new St(this,e,t,n)};Cr.prototype.pointFromJSON=function(e,t){return St.fromJSON(this,e,t)};St.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};St.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};St.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function o(f){return e.point(f[0],f[1],n)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};St.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};St.prototype.isInfinity=function(){return this.inf};St.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};St.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),f=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,f)};St.prototype.getX=function(){return this.x.fromRed()};St.prototype.getY=function(){return this.y.fromRed()};St.prototype.mul=function(e){return e=new qe.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};St.prototype.mulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};St.prototype.jmulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};St.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};St.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};St.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Nt(r,e,t,n){co.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new qe.default(0)):(this.x=new qe.default(e,16),this.y=new qe.default(t,16),this.z=new qe.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}od(Nt,co.BasePoint);Cr.prototype.jpoint=function(e,t,n){return new Nt(this,e,t,n)};Nt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};Nt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Nt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),o=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),h=i.redSub(o),b=s.redSub(f);if(h.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=h.redSqr(),w=g.redMul(h),T=i.redMul(g),C=b.redSqr().redIAdd(w).redISub(T).redISub(T),M=b.redMul(T.redISub(C)).redISub(s.redMul(w)),k=this.z.redMul(e.z).redMul(h);return this.curve.jpoint(C,M,k)};Nt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),o=this.y,s=e.y.redMul(t).redMul(this.z),f=n.redSub(i),h=o.redSub(s);if(f.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=f.redSqr(),g=b.redMul(f),w=n.redMul(b),T=h.redSqr().redIAdd(g).redISub(w).redISub(w),C=h.redMul(w.redISub(T)).redISub(o.redMul(g)),M=this.z.redMul(f);return this.curve.jpoint(T,C,M)};Nt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,f=this.y,h=this.z,b=h.redSqr().redSqr(),g=f.redAdd(f);for(t=0;t<e;t++){var w=s.redSqr(),T=g.redSqr(),C=T.redSqr(),M=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(b)),k=s.redMul(T),F=M.redSqr().redISub(k.redAdd(k)),I=k.redISub(F),$=M.redMul(I);$=$.redIAdd($).redISub(C);var j=g.redMul(h);t+1<e&&(b=b.redMul(C)),s=F,h=j,g=$}return this.curve.jpoint(s,g.redMul(o),h)};Nt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Nt.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),f=this.x.redAdd(o).redSqr().redISub(i).redISub(s);f=f.redIAdd(f);var h=i.redAdd(i).redIAdd(i),b=h.redSqr().redISub(f).redISub(f),g=s.redIAdd(s);g=g.redIAdd(g),g=g.redIAdd(g),e=b,t=h.redMul(f.redISub(b)).redISub(g),n=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),T=this.y.redSqr(),C=T.redSqr(),M=this.x.redAdd(T).redSqr().redISub(w).redISub(C);M=M.redIAdd(M);var k=w.redAdd(w).redIAdd(w),F=k.redSqr(),I=C.redIAdd(C);I=I.redIAdd(I),I=I.redIAdd(I),e=F.redISub(M).redISub(M),t=k.redMul(M.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};Nt.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),f=this.x.redAdd(o).redSqr().redISub(i).redISub(s);f=f.redIAdd(f);var h=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=h.redSqr().redISub(f).redISub(f);e=b;var g=s.redIAdd(s);g=g.redIAdd(g),g=g.redIAdd(g),t=h.redMul(f.redISub(b)).redISub(g),n=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),T=this.y.redSqr(),C=this.x.redMul(T),M=this.x.redSub(w).redMul(this.x.redAdd(w));M=M.redAdd(M).redIAdd(M);var k=C.redIAdd(C);k=k.redIAdd(k);var F=k.redAdd(k);e=M.redSqr().redISub(F),n=this.y.redAdd(this.z).redSqr().redISub(T).redISub(w);var I=T.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),t=M.redMul(k.redISub(e)).redISub(I)}return this.curve.jpoint(e,t,n)};Nt.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=t.redSqr(),f=n.redSqr(),h=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),b=t.redAdd(t);b=b.redIAdd(b);var g=b.redMul(f),w=h.redSqr().redISub(g.redAdd(g)),T=g.redISub(w),C=f.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var M=h.redMul(T).redISub(C),k=n.redAdd(n).redMul(i);return this.curve.jpoint(w,M,k)};Nt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),f=this.x.redAdd(t).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(s);var h=f.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var g=o.redIAdd(f).redSqr().redISub(s).redISub(h).redISub(b),w=t.redMul(g);w=w.redIAdd(w),w=w.redIAdd(w);var T=this.x.redMul(h).redISub(w);T=T.redIAdd(T),T=T.redIAdd(T);var C=this.y.redMul(g.redMul(b.redISub(g)).redISub(f.redMul(h)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var M=this.z.redAdd(f).redSqr().redISub(n).redISub(h);return this.curve.jpoint(T,C,M)};Nt.prototype.mul=function(e,t){return e=new qe.default(e,t),this.curve._wnafMul(this,e)};Nt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Nt.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Nt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Nt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Mc=ys(function(r,e){"use strict";var t=e;t.base=co,t.short=uE,t.mont=null,t.edwards=null}),Tc=ys(function(r,e){"use strict";var t=e,n=ur.assert;function i(f){f.type==="short"?this.curve=new Mc.short(f):f.type==="edwards"?this.curve=new Mc.edwards(f):this.curve=new Mc.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function o(f,h){Object.defineProperty(t,f,{configurable:!0,enumerable:!0,get:function(){var b=new i(h);return Object.defineProperty(t,f,{configurable:!0,enumerable:!0,value:b}),b}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:vn.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:vn.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:vn.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:vn.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:vn.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vn.default.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vn.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:vn.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function hi(r){if(!(this instanceof hi))return new hi(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Wr.toArray(r.entropy,r.entropyEnc||"hex"),t=Wr.toArray(r.nonce,r.nonceEnc||"hex"),n=Wr.toArray(r.pers,r.persEnc||"hex");id(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var T3=hi;hi.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};hi.prototype._hmac=function(){return new vn.default.hmac(this.hash,this.K)};hi.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};hi.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=Wr.toArray(e,t),n=Wr.toArray(n,i),id(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};hi.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=Wr.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Wr.encode(s,t)};var nd=ur.assert;function zt(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var sd=zt;zt.fromPublic=function(e,t,n){return t instanceof zt?t:new zt(e,{pub:t,pubEnc:n})};zt.fromPrivate=function(e,t,n){return t instanceof zt?t:new zt(e,{priv:t,privEnc:n})};zt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};zt.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};zt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};zt.prototype._importPrivate=function(e,t){this.priv=new qe.default(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};zt.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?nd(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&nd(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};zt.prototype.derive=function(e){return e.validate()||nd(e.validate(),"public point not validated"),e.mul(this.priv).getX()};zt.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};zt.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};zt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var lE=ur.assert;function Dc(r,e){if(r instanceof Dc)return r;this._importDER(r,e)||(lE(r.r&&r.s,"Signature without r or s"),this.r=new qe.default(r.r,16),this.s=new qe.default(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Ic=Dc;function hE(){this.place=0}function td(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=r[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function S3(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Dc.prototype._importDER=function(e,t){e=ur.toArray(e,t);var n=new hE;if(e[n.place++]!==48)return!1;var i=td(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=td(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var f=td(e,n);if(f===!1||e.length!==f+n.place)return!1;var h=e.slice(n.place,f+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(h[0]===0)if(h[1]&128)h=h.slice(1);else return!1;return this.r=new qe.default(s),this.s=new qe.default(h),this.recoveryParam=null,!0};function rd(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Dc.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=S3(t),n=S3(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];rd(i,t.length),i=i.concat(t),i.push(2),rd(i,n.length);var o=i.concat(n),s=[48];return rd(s,o.length),s=s.concat(o),ur.encode(s,e)};var dE=function(){throw new Error("unsupported")},k3=ur.assert;function Tr(r){if(!(this instanceof Tr))return new Tr(r);typeof r=="string"&&(k3(Object.prototype.hasOwnProperty.call(Tc,r),"Unknown curve "+r),r=Tc[r]),r instanceof Tc.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var pE=Tr;Tr.prototype.keyPair=function(e){return new sd(this,e)};Tr.prototype.keyFromPrivate=function(e,t){return sd.fromPrivate(this,e,t)};Tr.prototype.keyFromPublic=function(e,t){return sd.fromPublic(this,e,t)};Tr.prototype.genKeyPair=function(e){e||(e={});for(var t=new T3({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||dE(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new qe.default(2));;){var o=new qe.default(t.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Tr.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Tr.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new qe.default(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),f=e.toArray("be",o),h=new T3({hash:this.hash,entropy:s,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new qe.default(1)),g=0;;g++){var w=i.k?i.k(g):new qe.default(h.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(b)>=0)){var T=this.g.mul(w);if(!T.isInfinity()){var C=T.getX(),M=C.umod(this.n);if(M.cmpn(0)!==0){var k=w.invm(this.n).mul(M.mul(t.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var F=(T.getY().isOdd()?1:0)|(C.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),F^=1),new Ic({r:M,s:k,recoveryParam:F})}}}}}};Tr.prototype.verify=function(e,t,n,i){e=this._truncateToN(new qe.default(e,16)),n=this.keyFromPublic(n,i),t=new Ic(t,"hex");var o=t.r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var f=s.invm(this.n),h=f.mul(e).umod(this.n),b=f.mul(o).umod(this.n),g;return this.curve._maxwellTrick?(g=this.g.jmulAdd(h,n.getPublic(),b),g.isInfinity()?!1:g.eqXToP(o)):(g=this.g.mulAdd(h,n.getPublic(),b),g.isInfinity()?!1:g.getX().umod(this.n).cmp(o)===0)};Tr.prototype.recoverPubKey=function(r,e,t,n){k3((3&t)===t,"The recovery param is more than two bits"),e=new Ic(e,n);var i=this.n,o=new qe.default(r),s=e.r,f=e.s,h=t&1,b=t>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&b)throw new Error("Unable to find sencond key candinate");b?s=this.curve.pointFromX(s.add(this.curve.n),h):s=this.curve.pointFromX(s,h);var g=e.r.invm(i),w=i.sub(o).mul(g).umod(i),T=f.mul(g).umod(i);return this.g.mulAdd(w,s,T)};Tr.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new Ic(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(r,e,i)}catch{continue}if(o.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var mE=ys(function(r,e){"use strict";var t=e;t.version="6.5.4",t.utils=ur,t.rand=function(){throw new Error("unsupported")},t.curve=Mc,t.curves=Tc,t.ec=pE,t.eddsa=null}),C3=mE.ec;var D3="signing-key/5.7.0";var fd=new Ke(D3),ad=null;function yn(){return ad||(ad=new C3("secp256k1")),ad}var cd=class{constructor(e){hs(this,"curve","secp256k1"),hs(this,"privateKey",Ht(e)),xc(this.privateKey)!==32&&fd.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let t=yn().keyFromPrivate(ht(this.privateKey));hs(this,"publicKey","0x"+t.getPublic(!1,"hex")),hs(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),hs(this,"_isSigningKey",!0)}_addPoint(e){let t=yn().keyFromPublic(ht(this.publicKey)),n=yn().keyFromPublic(ht(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let t=yn().keyFromPrivate(ht(this.privateKey)),n=ht(e);n.length!==32&&fd.throwArgumentError("bad digest length","digest",e);let i=t.sign(n,{canonical:!0});return Ec({recoveryParam:i.recoveryParam,r:ci("0x"+i.r.toString(16),32),s:ci("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let t=yn().keyFromPrivate(ht(this.privateKey)),n=yn().keyFromPublic(ht(ud(e)));return ci("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function I3(r,e){let t=Ec(e),n={r:ht(t.r),s:ht(t.s)};return"0x"+yn().recoverPubKey(ht(r),n,t.recoveryParam).encode("hex",!1)}function ud(r,e){let t=ht(r);if(t.length===32){let n=new cd(t);return e?"0x"+yn().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?Ht(t):"0x"+yn().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+yn().keyFromPublic(t).getPublic(!0,"hex"):Ht(t)}return fd.throwArgumentError("invalid public or private key","key","[REDACTED]")}var O3="transactions/5.7.0";var _B=new Ke(O3),N3;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(N3||(N3={}));function R3(r){let e=ud(r);return U2(wc(ls(wc(e,1)),12))}function P3(r,e){return R3(I3(ht(r),e))}var B3="wallet/5.7.0";var OB=new Ke(B3);function ld(r,e){return P3(jh(r),e)}var _s=class extends zl{next(e){let t=this.value;je.statesEqual(t,e)||super.next(e)}};var Vt=class extends ot{constructor(e,t,n){super(i=>{this.state$.observers.length===0&&(this.periodicSubscription=Zi(0,n).pipe(Vl(()=>this._syncState(this.id,{sync:lt.PREFER_CACHE}))).subscribe()),this.state$.subscribe(i).add(()=>{this.state$.observers.length===0&&this.periodicSubscription?.unsubscribe()})}),this.state$=new _s(e),this._apiUrl=new URL(t)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}async _syncState(e,t){let n=await Vt._load(e,this._apiUrl,t);this.state$.next(je.deserializeState(n))}get id(){return new He(this.state$.value.type,this.state$.value.log[0].cid)}static async createFromGenesis(e,t,n,i,o){let s=new URL("./streams",e),{state:f}=await Dt(s,{method:"post",body:{type:t,genesis:je.serializeCommit(n),opts:i}});return new Vt(je.deserializeState(f),e,o)}static async applyCommit(e,t,n,i,o){let s=new URL("./commits",e),{state:f}=await Dt(s,{method:"post",body:{streamId:t.toString(),commit:je.serializeCommit(n),opts:i}});return new Vt(je.deserializeState(f),e,o)}static async _load(e,t,n){let i=N1(new URL(`./streams/${e}`,t),n),{state:o}=await Dt(i);return o}static async load(e,t,n,i){let o=await Vt._load(e,t,i);return new Vt(je.deserializeState(o),t,n)}static async loadStreamCommits(e,t){let n=new URL(`./commits/${e}`,t),{commits:i}=await Dt(n);return i.map(o=>({cid:o.cid,value:je.deserializeCommit(o.value)}))}complete(){this.state$.complete()}};var xd={};Ve(xd,{JsonPatchError:()=>mt,_areEquals:()=>Na,applyOperation:()=>po,applyPatch:()=>$c,applyReducer:()=>RE,deepClone:()=>OE,getValueByPointer:()=>Lc,validate:()=>eg,validator:()=>Uc});var DE=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IE=Object.prototype.hasOwnProperty;function Rc(r,e){return IE.call(r,e)}function Pc(r){if(Array.isArray(r)){for(var e=new Array(r.length),t=0;t<e.length;t++)e[t]=""+t;return e}if(Object.keys)return Object.keys(r);var n=[];for(var i in r)Rc(r,i)&&n.push(i);return n}function Rt(r){switch(typeof r){case"object":return JSON.parse(JSON.stringify(r));case"undefined":return null;default:return r}}function Bc(r){for(var e=0,t=r.length,n;e<t;){if(n=r.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}function xn(r){return r.indexOf("/")===-1&&r.indexOf("~")===-1?r:r.replace(/~/g,"~0").replace(/\//g,"~1")}function Ia(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}function Nc(r){if(r===void 0)return!0;if(r){if(Array.isArray(r)){for(var e=0,t=r.length;e<t;e++)if(Nc(r[e]))return!0}else if(typeof r=="object"){for(var n=Pc(r),i=n.length,o=0;o<i;o++)if(Nc(r[n[o]]))return!0}}return!1}function Q3(r,e){var t=[r];for(var n in e){var i=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof i<"u"&&t.push(n+": "+i)}return t.join(`
`)}var Oa=function(r){DE(e,r);function e(t,n,i,o,s){var f=this.constructor,h=r.call(this,Q3(t,{name:n,index:i,operation:o,tree:s}))||this;return h.name=n,h.index=i,h.operation=o,h.tree=s,Object.setPrototypeOf(h,f.prototype),h.message=Q3(t,{name:n,index:i,operation:o,tree:s}),h}return e}(Error);var mt=Oa,OE=Rt,As={add:function(r,e,t){return r[e]=this.value,{newDocument:t}},remove:function(r,e,t){var n=r[e];return delete r[e],{newDocument:t,removed:n}},replace:function(r,e,t){var n=r[e];return r[e]=this.value,{newDocument:t,removed:n}},move:function(r,e,t){var n=Lc(t,this.path);n&&(n=Rt(n));var i=po(t,{op:"remove",path:this.from}).removed;return po(t,{op:"add",path:this.path,value:i}),{newDocument:t,removed:n}},copy:function(r,e,t){var n=Lc(t,this.from);return po(t,{op:"add",path:this.path,value:Rt(n)}),{newDocument:t}},test:function(r,e,t){return{newDocument:t,test:Na(r[e],this.value)}},_get:function(r,e,t){return this.value=r[e],{newDocument:t}}},NE={add:function(r,e,t){return Bc(e)?r.splice(e,0,this.value):r[e]=this.value,{newDocument:t,index:e}},remove:function(r,e,t){var n=r.splice(e,1);return{newDocument:t,removed:n[0]}},replace:function(r,e,t){var n=r[e];return r[e]=this.value,{newDocument:t,removed:n}},move:As.move,copy:As.copy,test:As.test,_get:As._get};function Lc(r,e){if(e=="")return r;var t={op:"_get",path:e};return po(r,t),t.value}function po(r,e,t,n,i,o){if(t===void 0&&(t=!1),n===void 0&&(n=!0),i===void 0&&(i=!0),o===void 0&&(o=0),t&&(typeof t=="function"?t(e,0,r,e.path):Uc(e,0)),e.path===""){var s={newDocument:r};if(e.op==="add")return s.newDocument=e.value,s;if(e.op==="replace")return s.newDocument=e.value,s.removed=r,s;if(e.op==="move"||e.op==="copy")return s.newDocument=Lc(r,e.from),e.op==="move"&&(s.removed=r),s;if(e.op==="test"){if(s.test=Na(r,e.value),s.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",o,e,r);return s.newDocument=r,s}else{if(e.op==="remove")return s.removed=r,s.newDocument=null,s;if(e.op==="_get")return e.value=r,s;if(t)throw new mt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,r);return s}}else{n||(r=Rt(r));var f=e.path||"",h=f.split("/"),b=r,g=1,w=h.length,T=void 0,C=void 0,M=void 0;for(typeof t=="function"?M=t:M=Uc;;){if(C=h[g],C&&C.indexOf("~")!=-1&&(C=Ia(C)),i&&(C=="__proto__"||C=="prototype"&&g>0&&h[g-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(t&&T===void 0&&(b[C]===void 0?T=h.slice(0,g).join("/"):g==w-1&&(T=e.path),T!==void 0&&M(e,0,r,T)),g++,Array.isArray(b)){if(C==="-")C=b.length;else{if(t&&!Bc(C))throw new mt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,r);Bc(C)&&(C=~~C)}if(g>=w){if(t&&e.op==="add"&&C>b.length)throw new mt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,r);var s=NE[e.op].call(e,b,C,r);if(s.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",o,e,r);return s}}else if(g>=w){var s=As[e.op].call(e,b,C,r);if(s.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",o,e,r);return s}if(b=b[C],t&&g<w&&(!b||typeof b!="object"))throw new mt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,r)}}}function $c(r,e,t,n,i){if(n===void 0&&(n=!0),i===void 0&&(i=!0),t&&!Array.isArray(e))throw new mt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(r=Rt(r));for(var o=new Array(e.length),s=0,f=e.length;s<f;s++)o[s]=po(r,e[s],t,!0,i,s),r=o[s].newDocument;return o.newDocument=r,o}function RE(r,e,t){var n=po(r,e);if(n.test===!1)throw new mt("Test operation failed","TEST_OPERATION_FAILED",t,e,r);return n.newDocument}function Uc(r,e,t,n){if(typeof r!="object"||r===null||Array.isArray(r))throw new mt("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,r,t);if(As[r.op]){if(typeof r.path!="string")throw new mt("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,r,t);if(r.path.indexOf("/")!==0&&r.path.length>0)throw new mt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,r,t);if((r.op==="move"||r.op==="copy")&&typeof r.from!="string")throw new mt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,r,t);if((r.op==="add"||r.op==="replace"||r.op==="test")&&r.value===void 0)throw new mt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,r,t);if((r.op==="add"||r.op==="replace"||r.op==="test")&&Nc(r.value))throw new mt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,r,t);if(t){if(r.op=="add"){var i=r.path.split("/").length,o=n.split("/").length;if(i!==o+1&&i!==o)throw new mt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,r,t)}else if(r.op==="replace"||r.op==="remove"||r.op==="_get"){if(r.path!==n)throw new mt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,r,t)}else if(r.op==="move"||r.op==="copy"){var s={op:"_get",path:r.from,value:void 0},f=eg([s],t);if(f&&f.name==="OPERATION_PATH_UNRESOLVABLE")throw new mt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,r,t)}}}else throw new mt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,r,t)}function eg(r,e,t){try{if(!Array.isArray(r))throw new mt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)$c(Rt(e),Rt(r),t||!0);else{t=t||Uc;for(var n=0;n<r.length;n++)t(r[n],n,e,void 0)}}catch(i){if(i instanceof mt)return i;throw i}}function Na(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){var t=Array.isArray(r),n=Array.isArray(e),i,o,s;if(t&&n){if(o=r.length,o!=e.length)return!1;for(i=o;i--!==0;)if(!Na(r[i],e[i]))return!1;return!0}if(t!=n)return!1;var f=Object.keys(r);if(o=f.length,o!==Object.keys(e).length)return!1;for(i=o;i--!==0;)if(!e.hasOwnProperty(f[i]))return!1;for(i=o;i--!==0;)if(s=f[i],!Na(r[s],e[s]))return!1;return!0}return r!==r&&e!==e}var Ad={};Ve(Ad,{compare:()=>HE,generate:()=>wd,observe:()=>qE,unobserve:()=>FE});var Ed=new WeakMap,PE=function(){function r(e){this.observers=new Map,this.obj=e}return r}(),BE=function(){function r(e,t){this.callback=e,this.observer=t}return r}();function LE(r){return Ed.get(r)}function UE(r,e){return r.observers.get(e)}function $E(r,e){r.observers.delete(e.callback)}function FE(r,e){e.unobserve()}function qE(r,e){var t=[],n,i=LE(r);if(!i)i=new PE(r),Ed.set(r,i);else{var o=UE(i,e);n=o&&o.observer}if(n)return n;if(n={},i.value=Rt(r),e){n.callback=e,n.next=null;var s=function(){wd(n)},f=function(){clearTimeout(n.next),n.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",f),window.addEventListener("keyup",f),window.addEventListener("mousedown",f),window.addEventListener("keydown",f),window.addEventListener("change",f))}return n.patches=t,n.object=r,n.unobserve=function(){wd(n),clearTimeout(n.next),$E(i,n),typeof window<"u"&&(window.removeEventListener("mouseup",f),window.removeEventListener("keyup",f),window.removeEventListener("mousedown",f),window.removeEventListener("keydown",f),window.removeEventListener("change",f))},i.observers.set(e,new BE(e,n)),n}function wd(r,e){e===void 0&&(e=!1);var t=Ed.get(r.object);_d(t.value,r.object,r.patches,"",e),r.patches.length&&$c(t.value,r.patches);var n=r.patches;return n.length>0&&(r.patches=[],r.callback&&r.callback(n)),n}function _d(r,e,t,n,i){if(e!==r){typeof e.toJSON=="function"&&(e=e.toJSON());for(var o=Pc(e),s=Pc(r),f=!1,h=!1,b=s.length-1;b>=0;b--){var g=s[b],w=r[g];if(Rc(e,g)&&!(e[g]===void 0&&w!==void 0&&Array.isArray(e)===!1)){var T=e[g];typeof w=="object"&&w!=null&&typeof T=="object"&&T!=null&&Array.isArray(w)===Array.isArray(T)?_d(w,T,t,n+"/"+xn(g),i):w!==T&&(f=!0,i&&t.push({op:"test",path:n+"/"+xn(g),value:Rt(w)}),t.push({op:"replace",path:n+"/"+xn(g),value:Rt(T)}))}else Array.isArray(r)===Array.isArray(e)?(i&&t.push({op:"test",path:n+"/"+xn(g),value:Rt(w)}),t.push({op:"remove",path:n+"/"+xn(g)}),h=!0):(i&&t.push({op:"test",path:n,value:r}),t.push({op:"replace",path:n,value:e}),f=!0)}if(!(!h&&o.length==s.length))for(var b=0;b<o.length;b++){var g=o[b];!Rc(r,g)&&e[g]!==void 0&&t.push({op:"add",path:n+"/"+xn(g),value:Rt(e[g])})}}}function HE(r,e,t){t===void 0&&(t=!1);var n=[];return _d(r,e,n,"",t),n}var Fc=Object.assign({},xd,Ad,{JsonPatchError:Oa,deepClone:Rt,escapePathComponent:xn,unescapePathComponent:Ia});var ng=Ye(fa(),1);var ig=Ye(no(),1);var zE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(s=r[f])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lr,Sd={anchor:!0,publish:!0,pin:!0,sync:lt.PREFER_CACHE},KE={sync:lt.PREFER_CACHE},tg={anchor:!0,publish:!0,throwOnInvalidCommit:!0};function Md(r,e){if(typeof r?.schema=="string")try{at.fromString(r.schema)}catch{throw new Error("Schema must be a CommitID")}let t={controllers:r?.controllers,family:r?.family,schema:r?.schema?.toString(),tags:r?.tags};if(e)r?.deterministic||(t.unique=We((0,ig.randomBytes)(12),"base64")),r?.forbidControllerChange&&(t.forbidControllerChange=!0);else{if(r?.deterministic!==void 0||r?.unique!==void 0)throw new Error("Cannot change 'deterministic' or 'unique' properties on existing Streams");if(r?.forbidControllerChange!==void 0)throw new Error("Cannot change 'forbidControllerChange' property on existing Streams")}return Object.keys(t).forEach(n=>t[n]===void 0&&delete t[n]),t}async function rg(r){if(!r.did)throw new Error("No DID provided");return r.did.authenticated||(await r.did.authenticate(),r.loggerProvider&&r.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${r.did.id}`)),r.did}async function Td(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}var wn=lr=class extends cn{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){let{next:e,metadata:t}=this.state$.value;return(0,ng.default)(e?.metadata??t)}get controllers(){return this.metadata.controllers}static async create(e,t,n,i={}){i={...Sd,...i},!n?.deterministic&&i.syncTimeoutSeconds==null&&(i.syncTimeoutSeconds=0);let o=i.asDID?{did:i.asDID}:e,s=await lr.makeGenesis(o,t,n);return e.createStreamFromGenesis(lr.STREAM_TYPE_ID,s,i)}static async createFromGenesis(e,t,n={}){n={...Sd,...n},t.header?.unique&&n.syncTimeoutSeconds==null&&(n.syncTimeoutSeconds=0);let i=t.data?await lr._signDagJWS(e,t):t;return e.createStreamFromGenesis(lr.STREAM_TYPE_ID,i,n)}static async deterministic(e,t,n={}){if(n={...Sd,...n},t={...t,deterministic:!0},t.family==null&&t.tags==null)throw new Error("Family and/or tags are required when creating a deterministic tile document");let i=await lr.makeGenesis(e,null,t);return e.createStreamFromGenesis(lr.STREAM_TYPE_ID,i,n)}static async load(e,t,n={}){n={...KE,...n};let i=sr.from(t);if(i.type!=lr.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${lr.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return e.loadStream(i,n)}async update(e,t,n={}){n={...tg,...n};let i=n.asDID?{did:n.asDID}:this.api,o=await this.makeCommit(i,e,t),s=await this.api.applyCommit(this.id,o,n);this.state$.next(s.state)}async patch(e,t={}){t={...tg,...t};let i={header:Md(this.metadata,!1),data:e,prev:this.tip,id:this.id.cid},o=await lr._signDagJWS(this.api,i),s=await this.api.applyCommit(this.id,o,t);this.state$.next(s.state)}makeReadOnly(){this.update=Td,this.patch=Td,this.sync=Td,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}async makeCommit(e,t,n){let i=await this._makeRawCommit(t,n);return lr._signDagJWS(e,i)}async _makeRawCommit(e,t){t||(t={});let n=Md(t,!1);if(e==null&&(e=this.content),n.controllers){if(n.controllers.length!==1)throw new Error("Exactly one controller must be specified");if(!n.controllers[0])throw new Error("Controller cannot be updated to an undefined value.")}let i=Fc.compare(this.content,e),o=this.state.log[0];return{header:n,data:i,prev:this.tip,id:o.cid}}static async makeGenesis(e,t,n){if(n||(n={}),!n.controllers||n.controllers.length===0)if(e.did){let s=await rg(e);n.controllers=[s.hasParent?s.parent:s.id]}else throw new Error("No controllers specified");if(n.controllers?.length!==1)throw new Error("Exactly one controller must be specified");let i=Md(n,!0);if(n?.deterministic&&t)throw new Error("Initial content must be null when creating a deterministic Tile document");if(t==null){let s={header:i};return ji(s),s}let o={data:t,header:i};return lr._signDagJWS(e,o)}static async _signDagJWS(e,t){return(await rg(e)).createDagJWS(t)}};wn.STREAM_TYPE_NAME="tile";wn.STREAM_TYPE_ID=0;wn=lr=zE([ni()],wn);function jE(r,e){try{var t=r()}catch(n){return e(n)}return t&&t.then?t.then(void 0,e):t}function GE(){let r=new Map;return function(e,t){try{let i=function(s){if(n)return s;let f=r.get(e.didUrl);return f!==void 0?f:Promise.resolve(t()).then(function(h){var b;return((b=h.didResolutionMetadata)==null?void 0:b.error)!=="notFound"&&r.set(e.didUrl,h),h})},n,o=function(){if(e.params&&e.params["no-cache"]==="true")return Promise.resolve(t()).then(function(s){return n=1,s})}();return Promise.resolve(o&&o.then?o.then(i):i(o))}catch(n){return Promise.reject(n)}}}function JE(r,e){return e()}var VE="(?:%[0-9a-fA-F]{2})",og=`(?:[a-zA-Z0-9._-]|${VE})`,YE="([a-z0-9]+)",WE=`((?:${og}*:)*(${og}+))`,sg="[a-zA-Z0-9_.:%-]",XE=`;${sg}+=${sg}*`,ZE=`((${XE})*)`,QE="(/[^#?]*)?",e_="([?][^#]*)?",t_="(#.*)?",r_=new RegExp(`^did:${YE}:${WE}${ZE}${QE}${e_}${t_}$`);function kd(r){if(r===""||!r)return null;let e=r.match(r_);if(e){let t={did:`did:${e[1]}:${e[2]}`,method:e[1],id:e[2],didUrl:r};if(e[4]){let n=e[4].slice(1).split(";");t.params={};for(let i of n){let o=i.split("=");t.params[o[0]]=o[1]}}return e[6]&&(t.path=e[6]),e[7]&&(t.query=e[7].slice(1)),e[8]&&(t.fragment=e[8].slice(1)),t}return null}var qc={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};function n_(r){return function(e,t,n){try{return Promise.resolve(jE(function(){return Promise.resolve(r(e,t,n)).then(function(i){return{...qc,didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:i}})},function(i){return{...qc,didResolutionMetadata:{error:"notFound",message:i.toString()}}}))}catch(i){return Promise.reject(i)}}}var Hc=class{constructor(e={},t={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=t.cache===!0?GE():t.cache||JE,t.legacyResolvers&&Object.keys(t.legacyResolvers).map(n=>{this.registry[n]||(this.registry[n]=n_(t.legacyResolvers[n]))})}resolve(e,t={}){try{let n=this,i=kd(e);if(i===null)return Promise.resolve({...qc,didResolutionMetadata:{error:"invalidDid"}});let o=n.registry[i.method];return o?Promise.resolve(n.cache(i,()=>o(i.did,i,n,t))):Promise.resolve({...qc,didResolutionMetadata:{error:"unsupportedDidMethod"}})}catch(n){return Promise.reject(n)}}};var fg=Ye(fa(),1),i_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(s=r[f])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mo,Cd=()=>{throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")},ag={anchor:!1,publish:!0,pin:!0,sync:lt.PREFER_CACHE},Dd={anchor:!0,publish:!0,throwOnInvalidCommit:!0},o_={sync:lt.PREFER_CACHE},bo=mo=class extends cn{constructor(){super(...arguments),this._isReadOnly=!1}get did(){return this.content}get metadata(){let{next:e,metadata:t}=this.state$.value;return(0,fg.default)(e?.metadata??t)}get controllers(){return this.metadata.controllers}static async fromAccount(e,t,n={}){n={...ag,...n};let i=Sb(t),o=mo.makeGenesis(i);return mo.fromGenesis(e,o,n)}static async fromGenesis(e,t,n={}){return n={...ag,...n},e.createStreamFromGenesis(mo.STREAM_TYPE_ID,t,n)}async setDid(e,t,n={}){n={...Dd,...n};let i=typeof e=="string"?e.trim():e.id;if(kd(i)?.did!==i)throw new Error(`DID is not valid: '${i}'`);let s=await t.createLink(i);return this.setDidProof(s,n)}async setDidProof(e,t={}){t={...Dd,...t};let n=this.makeCommit(e),i=await this.api.applyCommit(this.id,n,t);this.state$.next(i.state)}async clearDid(e,t={}){t={...Dd,...t};let n=await e.createLink("");return this.setDidProof(n,t)}static async load(e,t,n={}){n={...o_,...n};let i=sr.from(t);if(i.type!=mo.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${mo.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return e.loadStream(i,n)}static makeGenesis(e){return e.chainId.namespace==="eip155"&&(e.address=e.address.toLowerCase()),{header:{controllers:[`${e.address}@${e.chainId.toString()}`],family:`caip10-${e.chainId.toString()}`}}}makeCommit(e){return{data:e,prev:this.tip,id:this.id.cid}}makeReadOnly(){this.setDidProof=Cd,this.setDid=Cd,this.sync=Cd,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}};bo.STREAM_TYPE_NAME="caip10-link";bo.STREAM_TYPE_ID=1;bo=mo=i_([ni()],bo);Br();Fi();var Kg=Ye(Hg(),1),Z_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(s=r[f])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},En,Q_={sync:lt.PREFER_CACHE};async function zg(r){if(r.did==null)throw new Error("No DID provided");r.did.authenticated||(await r.did.authenticate(),r.loggerProvider&&r.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${r.did.id}`))}async function eA(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}var mi=En=class extends cn{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){return{controller:this.state$.value.metadata.controllers[0],model:En.MODEL}}static async create(e,t,n){En.assertComplete(t);let i={publish:!0,anchor:!0,pin:!0,sync:lt.NEVER_SYNC,throwOnInvalidCommit:!0},o=await En._makeGenesis(e,t,n);return await e.createStreamFromGenesis(En.STREAM_TYPE_ID,o,i)}static assertComplete(e,t){if(!e.name)throw t?new Error(`Model with StreamID ${t.toString()} is missing a 'name' field`):new Error("Model is missing a 'name' field");if(!e.schema)throw t?new Error(`Model ${e.name} (${t.toString()}) is missing a 'schema' field`):new Error(`Model ${e.name} is missing a 'schema' field`);if(!e.accountRelation)throw t?new Error(`Model ${e.name} (${t.toString()}) is missing a 'accountRelation' field`):new Error(`Model ${e.name} is missing a 'accountRelation' field`)}static async load(e,t,n={}){n={...Q_,...n};let i=sr.from(t);if(i.type!=En.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${En.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return await e.loadStream(i,n)}static async _makeGenesis(e,t,n){let i=await this._makeRawGenesis(e,t,n);return En._signDagJWS(e,i)}static async _makeRawGenesis(e,t,n){if(t==null)throw new Error("Genesis content cannot be null");if(!n||!n.controller)if(e.did)await zg(e),n={controller:e.did.hasParent?e.did.parent:e.did.id};else throw new Error("No controller specified");let i={controllers:[n.controller],model:En.MODEL.bytes};return{data:t,header:i}}makeReadOnly(){this.sync=eA,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}static async _signDagJWS(e,t){return await zg(e),e.did.createDagJWS(t)}};mi.STREAM_TYPE_NAME="model";mi.STREAM_TYPE_ID=2;mi.MODEL=function(){let r=ji("model-v1"),e=Kg.default.encode(r,"identity"),t=an(zo,e),n=Ae.createV1(zo,t);return new He("UNLOADABLE",n)}();mi=En=Z_([ni()],mi);var Jg=Ye(no(),1);var tA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(s=r[f])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Xr,rA={anchor:!0,publish:!0,pin:!0,sync:lt.NEVER_SYNC,syncTimeoutSeconds:0},nA={anchor:!1,publish:!1,pin:!0,sync:lt.PREFER_CACHE},iA={sync:lt.PREFER_CACHE},jg={anchor:!0,publish:!0,throwOnInvalidCommit:!0};async function Gg(r){if(r.did==null)throw new Error("No DID provided");r.did.authenticated||(await r.did.authenticate(),r.loggerProvider&&r.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${r.did.id}`))}async function Rd(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}var vo=Xr=class extends cn{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){let e=this.state$.value.metadata;return{controller:e.controllers[0],model:e.model}}static async create(e,t,n,i={}){i={...rA,...i};let o=i.asDID?{did:i.asDID}:e,s=await Xr._makeGenesis(o,t,n);return e.createStreamFromGenesis(Xr.STREAM_TYPE_ID,s,i)}static async single(e,t,n={}){n={...nA,...n};let i=n.asDID?{did:n.asDID}:e;t={...t,deterministic:!0};let o=await Xr._makeGenesis(i,null,t);return e.createStreamFromGenesis(Xr.STREAM_TYPE_ID,o,n)}static async load(e,t,n={}){n={...iA,...n};let i=sr.from(t);if(i.type!=Xr.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${Xr.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return e.loadStream(i,n)}async replace(e,t={}){t={...jg,...t};let n=t.asDID?{did:t.asDID}:this.api,i=await this._makeCommit(n,e),o=await this.api.applyCommit(this.id,i,t);this.state$.next(o.state)}async patch(e,t={}){t={...jg,...t};let n={data:e,prev:this.tip,id:this.id.cid},i=await Xr._signDagJWS(this.api,n),o=await this.api.applyCommit(this.id,i,t);this.state$.next(o.state)}makeReadOnly(){this.replace=Rd,this.patch=Rd,this.sync=Rd,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}_makeCommit(e,t){let n=this._makeRawCommit(t);return Xr._signDagJWS(e,n)}_makeRawCommit(e){return{data:Fc.compare(this.content,e||{}),prev:this.tip,id:this.state.log[0].cid}}static async _makeGenesis(e,t,n){let i=await this._makeRawGenesis(e,t,n);return n.deterministic?(ji(i),i):Xr._signDagJWS(e,i)}static async _makeRawGenesis(e,t,n){if(!n.model)throw new Error("Must specify a 'model' when creating a ModelInstanceDocument");let i=n.controller;if(!i)if(e.did)await Gg(e),i=e.did.hasParent?e.did.parent:e.did.id;else throw new Error("No controller specified");let o={controllers:[i],model:n.model.bytes};return n.deterministic||(o.unique=(0,Jg.randomBytes)(12)),{data:t,header:o}}static async _signDagJWS(e,t){return await Gg(e),e.did.createDagJWS(t)}};vo.STREAM_TYPE_NAME="MID";vo.STREAM_TYPE_ID=3;vo=Xr=tA([ni()],vo);var Gc=class{constructor(e){this._apiUrl=e}async add(e,t){let n={};t&&(n.force=!0);let i=new URL(`./pins/${e}`,this._apiUrl);await Dt(i,{method:"post",body:n})}async rm(e,t){let n=new URL(`./pins/${e}`,this._apiUrl);await Dt(n,{method:"delete",body:{opts:t}})}async ls(e){let t=new URL("./pins",this._apiUrl);e&&(t=new URL(`./pins/${e.toString()}`,this._apiUrl));let n=await Dt(t),{pinnedStreamIds:i}=n;return{[Symbol.asyncIterator](){let o=0;return{next(){return o===i.length?Promise.resolve({value:null,done:!0}):Promise.resolve({value:i[o++],done:!1})}}}}}};var Jc=class{constructor(e){this._fetchJson=Dt,this._collectionURL=new URL("./collection",e),this._countURL=new URL("./collection/count",e)}async count(e){return(await this._fetchJson(this._countURL,{method:"POST",body:Pl(e)})).count}async query(e){let t=await this._fetchJson(this._collectionURL,{method:"POST",body:Pl(e)});return{edges:t.edges.map(i=>({cursor:i.cursor,node:je.deserializeState(i.node)})),pageInfo:t.pageInfo}}};var Vc=class{constructor(e,t){this._apiUrl=e,this._getDidFn=t,this._fetchJson=Dt,this.modelsPath="./admin/models",this.getCodePath="./admin/getCode"}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getModelsUrl(){return new URL(this.modelsPath,this._apiUrl)}async buildJWS(e,t,n){let i=n?{models:n.map(s=>s.toString())}:void 0,o=await e.createJWS({code:t,requestPath:this.getModelsUrl().pathname,requestBody:i});return`${o.signatures[0].protected}.${o.payload}.${o.signatures[0].signature}`}async generateCode(){return(await this._fetchJson(this.getCodeUrl())).code}async startIndexingModels(e){let t=await this.generateCode();await this._fetchJson(this.getModelsUrl(),{method:"post",body:{jws:await this.buildJWS(this._getDidFn(),t,e)}})}async getIndexedModels(){let e=await this.generateCode();return(await this._fetchJson(this.getModelsUrl(),{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),e)}`}})).models.map(n=>He.fromString(n))}async stopIndexingModels(e){let t=await this.generateCode();await this._fetchJson(this.getModelsUrl(),{method:"delete",body:{jws:await this.buildJWS(this._getDidFn(),t,e)}})}};var oA="/api/v0/",sA="http://localhost:7007",aA={syncInterval:5e3},fA={anchor:!0,publish:!0,sync:lt.PREFER_CACHE},cA={anchor:!0,publish:!0,sync:lt.PREFER_CACHE},Vg={sync:lt.PREFER_CACHE},Ba=class{constructor(e=sA,t={}){this._config={...aA,...t},this._apiUrl=new URL(oA,e),this.context={api:this},this.pin=new Gc(this._apiUrl),this.index=new Jc(this._apiUrl);let n=(()=>this.did).bind(this);this.admin=new Vc(this._apiUrl,n),this._streamConstructors={[bo.STREAM_TYPE_ID]:bo,[mi.STREAM_TYPE_ID]:mi,[vo.STREAM_TYPE_ID]:vo,[wn.STREAM_TYPE_ID]:wn}}get did(){return this.context.did}set did(e){this.context.did=e}async createStreamFromGenesis(e,t,n={}){n={...cA,...n};let i=await Vt.createFromGenesis(this._apiUrl,e,t,n,this._config.syncInterval);return this.buildStreamFromDocument(i)}async loadStream(e,t={}){t={...Vg,...t};let n=sr.from(e),i=await Vt.load(n,this._apiUrl,this._config.syncInterval,t);return this.buildStreamFromDocument(i)}async multiQuery(e,t){let n=e.map(s=>({...s,streamId:typeof s.streamId=="string"?s.streamId:s.streamId.toString()})),i=new URL("./multiqueries",this._apiUrl),o=await Dt(i,{method:"post",body:{queries:n,timeout:t}});return Object.entries(o).reduce((s,f)=>{let[h,b]=f,g=je.deserializeState(b),w=new Vt(g,this._apiUrl,this._config.syncInterval);return s[h]=this.buildStreamFromDocument(w),s},{})}loadStreamCommits(e){let t=Rl(e);return Vt.loadStreamCommits(t,this._apiUrl)}async applyCommit(e,t,n={}){n={...fA,...n};let i=Rl(e),o=await Vt.applyCommit(this._apiUrl,i,t,n,this._config.syncInterval);return this.buildStreamFromDocument(o)}async requestAnchor(e,t={}){t={...Vg,...t};let{anchorStatus:n}=await Dt(`${this._apiUrl}/streams/${e.toString()}/anchor`,{method:"post",body:{opts:t}});return n}addStreamHandler(e){this._streamConstructors[e.name]=e.stream_constructor}buildStreamFromState(e){let t=new Vt(e,this._apiUrl,this._config.syncInterval);return this.buildStreamFromDocument(t)}buildStreamFromDocument(e){let t=e.state.type,n=this._streamConstructors[t];if(!n)throw new Error(`Failed to find constructor for stream ${t}`);return new n(e,this.context)}async setDID(e){this.context.did=e}async getSupportedChains(){if(this._supportedChains)return this._supportedChains;let{supportedChains:e}=await Dt(this._apiUrl+"/node/chains");return this._supportedChains=e,e}async close(){}};bf();var u0=Ye(Wg(),1),Sv=Ye(zh(),1),Bs=Ye(H6(),1),gu=Ye(Oc(),1),Mv=Ye(K6(),1),a0=Ye(V6(),1),Za=Ye(Z6(),1),l0=Ye(hv(),1),h0=Ye(no(),1);Gs();function Nr(r){return We(r,"base64url")}function Gt(r){let e=r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return Je(e,"base64url")}function d0(r){return Je(r,"base58btc")}function mS(r){return We(r,"base58btc")}function o0(r){let e=r.startsWith("0x")?r.substring(2):r;return Je(e.toLowerCase(),"base16")}function f0(r){return Nr(Je(r))}function Tv(r){return We(Gt(r))}function Vn(r){return We(r,"base16")}function kv(r){return Je(r)}function Cv({r,s:e,recoveryParam:t},n){let i=new Uint8Array(n?65:64);if(i.set(Je(r,"base16"),0),i.set(Je(e,"base16"),32),n){if(typeof t>"u")throw new Error("Signer did not return a recoveryParam");i[64]=t}return Nr(i)}function bS(r){let e=Gt(r);if(e.length<64||e.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${e.length}`);let t=Vn(e.slice(0,32)),n=Vn(e.slice(32,64)),i=e.length===65?e[64]:void 0;return{r:t,s:n,recoveryParam:i}}function Dv(r,e){return Ur([Gt(r),Gt(e)])}function Ao(r){let e=typeof r=="string"?Je(r):r;return(0,u0.hash)(e)}function gS(r){return new Uint8Array(Sv.default.keccak_256.arrayBuffer(r))}function Iv(r){let e=Je(r.slice(2),"base16");return`0x${We(gS(e).slice(-20),"base16")}`}function c0(r,e=new Uint8Array(4)){let t=Je(r.toString(),"base10");return e.set(t,4-t.length),e}var s0=r=>Ur([c0(r.length),r]);function Ov(r,e,t,n,i){if(e!==256)throw new Error(`Unsupported key length: ${e}`);let o=Ur([s0(Je(t)),s0(typeof n>"u"?new Uint8Array(0):n),s0(typeof i>"u"?new Uint8Array(0):i),c0(e)]);return(0,u0.hash)(Ur([c0(1),r,o]))}var NU=new Bs.default.ec("secp256k1");function Nv(r){let e=r;if(e.length!==64)throw new Error(`bad_key: Invalid private key format. Expecting 64 bytes, but got ${e.length}`);return function(t){try{let n=typeof t=="string"?kv(t):t,i=(0,gu.sign)(e,n);return Promise.resolve(Nr(i))}catch(n){return Promise.reject(n)}}}var RU=new Bs.default.ec("p256");function p0(r){return typeof r=="object"&&"r"in r&&"s"in r}function vS(){return function(e,t){try{return Promise.resolve(t(e)).then(function(n){return p0(n)?Cv(n):n})}catch(n){return Promise.reject(n)}}}function dv(r){return function(t,n){try{return Promise.resolve(n(t)).then(function(i){if(p0(i))return Cv(i,r);if(r&&typeof bS(i).recoveryParam>"u")throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return i})}catch(i){return Promise.reject(i)}}}function pv(){return function(e,t){try{return Promise.resolve(t(e)).then(function(n){if(p0(n))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return n})}catch(n){return Promise.reject(n)}}}var yS={ES256:vS(),ES256K:dv(),"ES256K-R":dv(!0),Ed25519:pv(),EdDSA:pv()};function xS(r){let e=yS[r];if(!e)throw new Error(`not_supported: Unsupported algorithm ${r}`);return e}var ja=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ga=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ja=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Va=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ya=[0,1518500249,1859775393,2400959708,2840853838],Wa=[1352829926,1548603684,1836072691,2053994217,0];function So(r,e){return r<<e|r>>>32-e}function mv(r,e,t,n,i,o,s,f){return So(r+(e^t^n)+o+s|0,f)+i|0}function bv(r,e,t,n,i,o,s,f){return So(r+(e&t|~e&n)+o+s|0,f)+i|0}function gv(r,e,t,n,i,o,s,f){return So(r+((e|~t)^n)+o+s|0,f)+i|0}function vv(r,e,t,n,i,o,s,f){return So(r+(e&n|t&~n)+o+s|0,f)+i|0}function yv(r,e,t,n,i,o,s,f){return So(r+(e^(t|~n))+o+s|0,f)+i|0}var bu=class{constructor(e=64){this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this._blockOffset=0,this._block=void 0,this._blockSize=void 0,this._length=[0,0,0,0],this._finalized=void 0,this.update=t=>{if(this._finalized)throw new Error("Digest already called");let n=this._block,i=0;for(;this._blockOffset+t.length-i>=this._blockSize;){for(let o=this._blockOffset;o<this._blockSize;)n[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(let o=0,s=t.length*8;s>0;++o)this._length[o]+=s,s=this._length[o]/4294967296|0,s>0&&(this._length[o]-=4294967296*s);return this},this.digest=()=>{if(this._finalized)throw new Error("Digest already called");this._finalized=!0;let t=this._digest();this._block.fill(0),this._blockOffset=0;for(let n=0;n<4;++n)this._length[n]=0;return t},this._update=()=>{let t=new Array(16),n=new DataView(this._block.buffer);for(let k=0;k<16;++k)t[k]=t[k]=n.getInt32(k*4,!0);let i=this._a|0,o=this._b|0,s=this._c|0,f=this._d|0,h=this._e|0,b=this._a|0,g=this._b|0,w=this._c|0,T=this._d|0,C=this._e|0;for(let k=0;k<80;k+=1){let F,I;k<16?(F=mv(i,o,s,f,h,t[ja[k]],Ya[0],Ja[k]),I=yv(b,g,w,T,C,t[Ga[k]],Wa[0],Va[k])):k<32?(F=bv(i,o,s,f,h,t[ja[k]],Ya[1],Ja[k]),I=vv(b,g,w,T,C,t[Ga[k]],Wa[1],Va[k])):k<48?(F=gv(i,o,s,f,h,t[ja[k]],Ya[2],Ja[k]),I=gv(b,g,w,T,C,t[Ga[k]],Wa[2],Va[k])):k<64?(F=vv(i,o,s,f,h,t[ja[k]],Ya[3],Ja[k]),I=bv(b,g,w,T,C,t[Ga[k]],Wa[3],Va[k])):(F=yv(i,o,s,f,h,t[ja[k]],Ya[4],Ja[k]),I=mv(b,g,w,T,C,t[Ga[k]],Wa[4],Va[k])),i=h,h=f,f=So(s,10),s=o,o=F,b=C,C=T,T=So(w,10),w=g,g=I}let M=this._b+s+T|0;this._b=this._c+f+C|0,this._c=this._d+h+b|0,this._d=this._e+i+g|0,this._e=this._a+o+w|0,this._a=M},this._digest=()=>{this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56);let t=new DataView(this._block.buffer);t.setUint32(56,this._length[0],!0),t.setUint32(60,this._length[1],!0),this._block=new Uint8Array(t.buffer),this._update();let n=new DataView(new Uint8Array(20).buffer);return n.setInt32(0,this._a,!0),n.setInt32(4,this._b,!0),n.setInt32(8,this._c,!0),n.setInt32(12,this._d,!0),n.setInt32(16,this._e,!0),new Uint8Array(n.buffer)},this._block=new Uint8Array(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}},wS=(r,e)=>{let t=We(d0(e).slice(0,1),"hex"),n=Je(r,"hex"),i=new bu().update(Ao(n)).digest(),o=t+We(i,"hex"),s=Ao(Je(o,"hex")),f=Ao(s),h=We(f,"hex").substring(0,8),b=o+h;return mS(Je(b,"hex"))},ES=Bs.default.ec,_S=(r,e)=>{let n=new ES("secp256k1").keyFromPublic(r,"hex").getPublic().encode("hex",!0),i=Je(n,"hex"),o=new bu().update(Ao(i)).digest(),s=a0.bech32.toWords(o);return a0.bech32.encode(e,s).replace(e,"")},AS=(r,e)=>{if(e){let t=e.split(":");switch(t[0]){case"bip122":t[t.length-1]=wS(r,t[t.length-1]);break;case"cosmos":t[t.length-1]=_S(r,t[1]);break;case"eip155":t[t.length-1]=Iv(r);break;default:return!1}return t.join(":").toLowerCase()===e.toLowerCase()}return!1},m0=new Bs.default.ec("secp256k1"),Rv=new Bs.default.ec("p256");function Xa(r,e=!1){let t=Gt(r);if(t.length!==(e?65:64))throw new Error("wrong signature length");let n=Vn(t.slice(0,32)),i=Vn(t.slice(32,64)),o={r:n,s:i};return e&&(o.recoveryParam=t[64]),o}function vu(r){if(r.publicKeyBase58)return d0(r.publicKeyBase58);if(r.publicKeyBase64)return Gt(r.publicKeyBase64);if(r.publicKeyHex)return o0(r.publicKeyHex);if(r.publicKeyJwk&&r.publicKeyJwk.crv==="secp256k1"&&r.publicKeyJwk.x&&r.publicKeyJwk.y)return o0(m0.keyFromPublic({x:Vn(Gt(r.publicKeyJwk.x)),y:Vn(Gt(r.publicKeyJwk.y))}).getPublic("hex"));if(r.publicKeyJwk&&r.publicKeyJwk.crv==="P-256"&&r.publicKeyJwk.x&&r.publicKeyJwk.y)return o0(Rv.keyFromPublic({x:Vn(Gt(r.publicKeyJwk.x)),y:Vn(Gt(r.publicKeyJwk.y))}).getPublic("hex"));if(r.publicKeyJwk&&r.publicKeyJwk.kty==="OKP"&&r.publicKeyJwk.crv==="Ed25519"&&r.publicKeyJwk.x)return Gt(r.publicKeyJwk.x);if(r.publicKeyMultibase){let{base16:e,base58btc:t,base64:n,base64url:i}=Po;return e.decoder.or(t.decoder.or(n.decoder.or(i.decoder))).decode(r.publicKeyMultibase)}return new Uint8Array}function SS(r,e,t){let n=Ao(r),i=Xa(e),s=t.filter(({ethereumAddress:f,blockchainAccountId:h})=>typeof f>"u"&&typeof h>"u").find(f=>{try{let h=vu(f);return Rv.keyFromPublic(h).verify(n,i)}catch{return!1}});if(!s)throw new Error("invalid_signature: Signature invalid for JWT");return s}function MS(r,e,t){let n=Ao(r),i=Xa(e),o=t.filter(({ethereumAddress:h,blockchainAccountId:b})=>typeof h>"u"&&typeof b>"u"),s=t.filter(({ethereumAddress:h,blockchainAccountId:b})=>typeof h<"u"||typeof b<"u"),f=o.find(h=>{try{let b=vu(h);return m0.keyFromPublic(b).verify(n,i)}catch{return!1}});if(!f&&s.length>0&&(f=Pv(r,e,s)),!f)throw new Error("invalid_signature: Signature invalid for JWT");return f}function Pv(r,e,t){let n;if(e.length>86)n=[Xa(e,!0)];else{let s=Xa(e,!1);n=[{...s,recoveryParam:0},{...s,recoveryParam:1}]}let i=s=>{let f=Ao(r),h=m0.recoverPubKey(f,s,s.recoveryParam),b=h.encode("hex"),g=h.encode("hex",!0),w=Iv(b).toLowerCase();return t.find(C=>{var M,k,F;let I=Vn(vu(C));return I===b||I===g||((M=C.ethereumAddress)==null?void 0:M.toLowerCase())===w||((k=C.blockchainAccountId)==null||(F=k.split("@eip155"))==null?void 0:F[0].toLowerCase())===w||AS(b,C.blockchainAccountId)})},o=n.map(i).filter(s=>typeof s<"u");if(o.length===0)throw new Error("invalid_signature: Signature invalid for JWT");return o[0]}function xv(r,e,t){let n=kv(r),i=Gt(e),o=t.find(s=>(0,gu.verify)(vu(s),n,i));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o}var TS={ES256:SS,ES256K:MS,"ES256K-R":Pv,Ed25519:xv,EdDSA:xv};function Bv(r){let e=TS[r];if(!e)throw new Error(`not_supported: Unsupported algorithm ${r}`);return e}Bv.toSignatureObject=Xa;var Lv=function(r,e,t={},n={}){try{t.alg||(t.alg=kS);let i=typeof r=="string"?r:wv(r,n.canonicalize),o=[wv(t,n.canonicalize),i].join("."),s=xS(t.alg);return Promise.resolve(s(o,e)).then(function(f){return[o,f].join(".")})}catch(i){return Promise.reject(i)}};var kS="ES256K";function wv(r,e=!1){return f0(e?(0,Mv.default)(r):JSON.stringify(r))}function CS(r){let e=r.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(e)return{header:JSON.parse(Tv(e[1])),payload:e[2],signature:e[3],data:`${e[1]}.${e[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}function DS({header:r,data:e,signature:t},n){return Array.isArray(n)||(n=[n]),Bv(r.alg)(e,t,n)}function Uv(r,e){let t=CS(r);return DS(t,e)}var Ev=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function xt(r,e,t){if(!r.s){if(t instanceof Mo)if(t.s)e&1&&(e=t.s),t=t.v;else{t.o=xt.bind(null,r,e);return}if(t&&t.then){t.then(xt.bind(null,r,e),xt.bind(null,r,2));return}r.s=e,r.v=t;let n=r.o;n&&n(r)}}var Mo=function(){function r(){}return r.prototype.then=function(e,t){let n=new r,i=this.s;if(i){let o=i&1?e:t;if(o){try{xt(n,1,o(this.v))}catch(s){xt(n,2,s)}return n}else return this}return this.o=function(o){try{let s=o.v;o.s&1?xt(n,1,e?e(s):s):t?xt(n,1,t(s)):xt(n,2,s)}catch(s){xt(n,2,s)}},n},r}();function _i(r){return r instanceof Mo&&r.s&1}function IS(r,e,t){var n=-1,i,o;function s(f){try{for(;++n<r.length&&(!t||!t());)if(f=e(n),f&&f.then)if(_i(f))f=f.v;else{f.then(s,o||(o=xt.bind(null,i=new Mo,2)));return}i?xt(i,1,f):i=f}catch(h){xt(i||(i=new Mo),2,h)}}return s(),i}function OS(r,e,t){if(typeof r[Ev]=="function"){let g=function(w){try{for(;!(i=n.next()).done&&(!t||!t());)if(w=e(i.value),w&&w.then)if(_i(w))w=w.v;else{w.then(g,s||(s=xt.bind(null,o=new Mo,2)));return}o?xt(o,1,w):o=w}catch(T){xt(o||(o=new Mo),2,T)}};var n=r[Ev](),i,o,s;if(g(),n.return){var f=function(w){try{i.done||n.return()}catch{}return w};if(o&&o.then)return o.then(f,function(w){throw f(w)});f()}return o}if(!("length"in r))throw new TypeError("Object is not iterable");for(var h=[],b=0;b<r.length;b++)h.push(r[b]);return IS(h,function(g){return e(h[g])},t)}function NS(r,e,t){for(var n;;){var i=r();if(_i(i)&&(i=i.v),!i)return o;if(i.then){n=0;break}var o=t();if(o&&o.then)if(_i(o))o=o.s;else{n=1;break}if(e){var s=e();if(s&&s.then&&!_i(s)){n=2;break}}}var f=new Mo,h=xt.bind(null,f,2);return(n===0?i.then(g):n===1?o.then(b):s.then(w)).then(void 0,h),f;function b(T){o=T;do{if(e&&(s=e(),s&&s.then&&!_i(s))){s.then(w).then(void 0,h);return}if(i=r(),!i||_i(i)&&!i.v){xt(f,1,o);return}if(i.then){i.then(g).then(void 0,h);return}o=t(),_i(o)&&(o=o.v)}while(!o||!o.then);o.then(b).then(void 0,h)}function g(T){T?(o=t(),o&&o.then?o.then(b).then(void 0,h):b(o)):xt(f,1,o)}function w(){(i=r())?i.then?i.then(g).then(void 0,h):g(i):xt(f,1,o)}}function RS(r){if(!(r.protected&&r.iv&&r.ciphertext&&r.tag))throw new Error("bad_jwe: missing properties");r.recipients&&r.recipients.map(e=>{if(!(e.header&&e.encrypted_key))throw new Error("bad_jwe: malformed recipients")})}function _v({ciphertext:r,tag:e,iv:t,protectedHeader:n,recipient:i},o){let s={protected:n,iv:Nr(t),ciphertext:Nr(r),tag:Nr(e)};return o&&(s.aad=Nr(o)),i&&(s.recipients=[i]),s}var $v=function(r,e){try{let n=function(b){if(f===null)throw new Error("failure: Failed to decrypt");return f},t;RS(r);let i=JSON.parse(Tv(r.protected));if(i.enc!==e.enc)throw new Error(`not_supported: Decrypter does not supported: '${i.enc}'`);let o=Dv(r.ciphertext,r.tag),s=Je(r.aad?`${r.protected}.${r.aad}`:r.protected),f=null,h=function(){return i.alg==="dir"&&e.alg==="dir"?Promise.resolve(e.decrypt(o,Gt(r.iv),s)).then(function(b){f=b}):function(){if(!r.recipients||r.recipients.length===0)throw new Error("bad_jwe: missing recipients");{let b=0;return NS(function(){return!f&&b<r.recipients.length},function(){return b++},function(){let g=r.recipients[b];Object.assign(g.header,i);let w=function(){if(g.header.alg===e.alg)return Promise.resolve(e.decrypt(o,Gt(r.iv),s,g)).then(function(T){f=T})}();if(w&&w.then)return w.then(function(){})})}}()}();return Promise.resolve(h&&h.then?h.then(n):n(h))}catch(t){return Promise.reject(t)}},Fv=function(r,e,t={},n){try{if(e[0].alg==="dir"){if(e.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(e[0].encrypt(r,t,n)).then(function(i){return _v(i,n)})}else{let i=e[0].enc;if(!e.reduce((h,b)=>h&&b.enc===i,!0))throw new Error("invalid_argument: Incompatible encrypters passed");let o,s,f=OS(e,function(h){let b=function(){return o?Promise.resolve(h.encryptCek==null?void 0:h.encryptCek(o)).then(function(g){if(g){var w,T;(w=s)==null||(T=w.recipients)==null||T.push(g)}}):Promise.resolve(h.encrypt(r,t,n)).then(function(g){o=g.cek,s=_v(g,n)})}();if(b&&b.then)return b.then(function(){})});return Promise.resolve(f&&f.then?f.then(function(){return s}):s)}}catch(i){return Promise.reject(i)}};var qv=function(r,e){try{let t=function(i,o=[]){try{return Promise.resolve(e.resolve(i)).then(function({didResolutionMetadata:s,didDocument:f}){function h(){var w,T;let C=(w=f.keyAgreement)==null||(T=w.map(k=>typeof k=="string"?[...f.publicKey||[],...f.verificationMethod||[]].find(F=>F.id===k):k))==null?void 0:T.filter(k=>typeof k<"u"),M=C?.filter(k=>k.type==="X25519KeyAgreementKey2019"&&Boolean(k.publicKeyBase58))||[];if(!M.length&&!b.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${i}`);return M.map(k=>BS(d0(k.publicKeyBase58),k.id)).concat(...b)}if(o.push(i),s!=null&&s.error||f==null)throw new Error(`resolver_error: Could not resolve ${i}: ${s.error}, ${s.message}`);let b=[];if(!f.controller&&!f.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${i}`);let g=function(){if(f.controller){let w=Array.isArray(f.controller)?f.controller:[f.controller];w=w.filter(C=>!o.includes(C));let T=w.map(C=>t(C,o).catch(()=>[]));return Promise.resolve(Promise.all(T)).then(function(C){b=[].concat(...C)})}}();return g&&g.then?g.then(h):h(g)})}catch(s){return Promise.reject(s)}},n=r.map(i=>t(i));return Promise.resolve(Promise.all(n)).then(function(i){return[].concat(...i)})}catch(t){return Promise.reject(t)}};function Hv(r){let e=new l0.XChaCha20Poly1305(r);return(t,n)=>{let i=(0,h0.randomBytes)(e.nonceLength),o=e.seal(i,t,n);return{ciphertext:o.subarray(0,o.length-e.tagLength),tag:o.subarray(o.length-e.tagLength),iv:i}}}function PS(r){let e=function(o,s={},f){try{let h=f0(JSON.stringify(Object.assign({alg:i},s,{enc:n}))),b=Je(f?`${h}.${Nr(f)}`:h);return Promise.resolve({...t(o,b),protectedHeader:h})}catch(h){return Promise.reject(h)}},t=Hv(r),n="XC20P",i="dir";return{alg:i,enc:n,encrypt:e}}function Av(r){let e=function(n,i,o){try{return Promise.resolve(t.open(i,n,o))}catch(s){return Promise.reject(s)}},t=new l0.XChaCha20Poly1305(r);return{alg:"dir",enc:"XC20P",decrypt:e}}function BS(r,e){let t=function(f,h={},b){try{Object.assign(h,{alg:void 0});let g=(0,h0.randomBytes)(32);return Promise.resolve(PS(g).encrypt(f,h,b)).then(function(w){return Promise.resolve(n(g)).then(function(T){return{...w,recipient:T,cek:g}})})}catch(g){return Promise.reject(g)}},n=function(f){try{let h=(0,Za.generateKeyPair)(),b=(0,Za.sharedKey)(h.secretKey,r),g=Ov(b,o,i),w=Hv(g)(f),T={encrypted_key:Nr(w.ciphertext),header:{alg:i,iv:Nr(w.iv),tag:Nr(w.tag),epk:{kty:"OKP",crv:s,x:Nr(h.publicKey)}}};return e&&(T.header.kid=e),Promise.resolve(T)}catch(h){return Promise.reject(h)}},i="ECDH-ES+XC20PKW",s="X25519";return{alg:i,enc:"XC20P",encrypt:t,encryptCek:n}}function LS(r){if(!(r&&r.epk&&r.iv&&r.tag))throw new Error("bad_jwe: malformed header")}function zv(r){let e=function(o,s,f,h){try{let w=function(){let k=Ov(C,n,t),F=Dv(h.encrypted_key,h.header.tag);return Promise.resolve(Av(k).decrypt(F,Gt(h.header.iv))).then(function(I){return I===null?null:Av(I).decrypt(o,s,f)})};var b,g;if(LS((b=h)==null?void 0:b.header),h=h,((g=h.header.epk)==null?void 0:g.crv)!==i||typeof h.header.epk.x>"u")return Promise.resolve(null);let T=Gt(h.header.epk.x),C,M=function(){if(r instanceof Uint8Array)C=(0,Za.sharedKey)(r,T);else return Promise.resolve(r(T)).then(function(k){C=k})}();return Promise.resolve(M&&M.then?M.then(w):w(M))}catch(w){return Promise.reject(w)}},t="ECDH-ES+XC20PKW",i="X25519";return{alg:t,enc:"XC20P",decrypt:e}}Br();js();rl();lf();var US=24;async function Kv(r){let e=await zi({value:r,codec:qr,hasher:Xn});return{cid:e.cid,linkedBlock:e.bytes}}function $S(r,e=US){let t=(e-r.length%e)%e,n=new Uint8Array(r.length+t);return n.set(r,0),n}async function FS(r){return(await zi({value:r,codec:qr,hasher:mf})).cid}function qS(r){if(r=Ae.asCID(r),r.code!==zo)throw new Error("CID codec must be dag-cbor");if(r.multihash.code!==mf.code)throw new Error("CID must use identity multihash");return El(r.multihash.digest)}async function jv(r,e){return $S((await FS(r)).bytes,e)}function Gv(r){return qS(Ae.decodeFirst(r)[0])}var Jv=Symbol("abortable"),yu=Symbol("aborted");function Vv(r,e){if(e.aborted)return Promise.reject(yu);let t,n=new Promise((i,o)=>{t=o});return e.addEventListener("abort",()=>{t(yu)}),Promise.race([r,n])}var Yv=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");var xu="utils_abort_request";var Yt;(function(r){r[r.PARSE_ERROR=-32700]="PARSE_ERROR",r[r.INVALID_REQUEST=-32600]="INVALID_REQUEST",r[r.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",r[r.INVALID_PARAMS=-32602]="INVALID_PARAMS",r[r.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"})(Yt||(Yt={}));var Wv={[Yt.PARSE_ERROR]:"Parse error",[Yt.INVALID_REQUEST]:"Invalid request",[Yt.METHOD_NOT_FOUND]:"Method not found",[Yt.INVALID_PARAMS]:"Invalid params",[Yt.INTERNAL_ERROR]:"Internal error"};function HS(r){return-32e3>=r&&r>=-32099}function wu(r){return Wv[r.toString()]??(HS(r)?"Server error":"Application error")}var dr=class extends Error{static fromObject(e){return new dr(e.code,e.message,e.data)}toObject(){return{code:this.code,data:this.data,message:this.message}}constructor(e,t,n){super(),Object.setPrototypeOf(this,dr.prototype),this.code=e,this.data=n,this.message=t??wu(e)}};function Qa(r){let e=Wv[r];return function(n){return new dr(r,e,n)}}var zS=Qa(Yt.PARSE_ERROR),JU=Qa(Yt.INVALID_REQUEST),VU=Qa(Yt.METHOD_NOT_FOUND),YU=Qa(Yt.INVALID_PARAMS),WU=Qa(Yt.INTERNAL_ERROR);function KS(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jS(r,e){return e.get?e.get.call(r):e.value}function GS(r,e,t){if(e.set)e.set.call(r,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function Xv(r,e,t){if(!e.has(r))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(r)}function b0(r,e){var t=Xv(r,e,"get");return jS(r,t)}function JS(r,e,t){KS(r,e),e.set(r,t)}function VS(r,e,t){var n=Xv(r,e,"set");return GS(r,n,t),t}var ef=new WeakMap,tf=class{get connection(){return b0(this,ef)}createID(){return Yv()}request(e,t=void 0,n={}){let{signal:i}=n;if(i?.aborted)return Promise.reject(yu);let o=this.createID(),s=b0(this,ef).send({jsonrpc:"2.0",id:o,method:e,params:t}).then(f=>{if(f==null)throw new Error("Missing response");if(f.error!=null)throw dr.fromObject(f.error);return f.result});return i==null?s:(i.addEventListener("abort",()=>{this.notify(xu,{id:o})}),Vv(s,i))}async notify(e,t=void 0){await b0(this,ef).send({jsonrpc:"2.0",method:e,params:t})}constructor(e){JS(this,ef,{writable:!0,value:void 0}),VS(this,ef,e)}};function Zv(r,e){return{jsonrpc:"2.0",id:r,error:{code:e,message:wu(e)}}}function YS(r,e,t){console.warn("Unhandled handler error",e,t)}function WS(r,e){console.warn("Unhandled invalid message",e)}function XS(r,e){console.warn("Unhandled notification",e)}function Qv(r,e={}){let t=e.onHandlerError??YS,n=e.onInvalidMessage??WS,i=e.onNotification??XS,o={};function s(f,h){if(h.method===xu){let b=h.params?.id;b!=null&&o[b]?.abort()}else i(f,h)}return async function(h,b){let g=b.id;if(b.jsonrpc!=="2.0"||b.method==null)return g==null?(n(h,b),null):Zv(g,Yt.INVALID_REQUEST);let w=r[b.method];if(w==null)return g==null?(s(h,b),null):Zv(g,Yt.METHOD_NOT_FOUND);try{let T;if(g!=null&&w[Jv]){let M=new AbortController;o[g]=M,T=w(h,b.params,{signal:M.signal})}else T=w(h,b.params,{});let C=T==null?T:typeof T.then=="function"?await T:T;return g==null||o[g]?.signal.aborted?null:{jsonrpc:"2.0",id:g,result:C}}catch(T){if(g==null||o[g]?.signal.aborted)return t(h,b,T),null;let C;if(T instanceof dr)C=T.toObject();else{t(h,b,T);let M=T.code??-32e3;C={code:M,message:T.message||wu(M)}}return{jsonrpc:"2.0",id:g,error:C}}finally{g!=null&&delete o[g]}}}Br();function ey(){return{eip191:async(r,e)=>{QS(r,e)}}}var ZS=new Date("2022-09-20").valueOf();function QS(r,e){Nh(r),x2(r,e);let n=[ld(ya.fromCacao(r).toMessage(),r.s.s).toLowerCase()];if(Date.parse(r.p.iat)<=ZS){let o=ld(y2(ya.fromCacao(r),"Ethereum"),r.s.s).toLowerCase();n.push(o)}let i=oi.parse(r.p.iss.replace("did:pkh:","")).address.toLowerCase();if(!n.includes(i))throw new Error("Signature does not belong to issuer")}Bo();Gs();var ty=Ye(no(),1);Bo();function ry(){return We((0,ty.randomBytes)(16),"base64")}var ny="base64pad",iy="base64url";function oy(r){return We(r,ny)}function sy(r){return We(r,iy)}function ay(r){return Je(r,ny)}function Eu(r){return JSON.parse(We(Je(r,iy)))}function fy(r){if(r.signatures.length>1)throw new Error("Cant convert to compact jws");return`${r.signatures[0].protected}.${r.payload}.${r.signatures[0].signature}`}function cy(r,e){if(e){let t=e.toISOString().split(".")[0]+"Z";return`${r}?versionTime=${t}`}else return r}function uy(r){return r?Array.isArray(r)?r:[r]:[]}var eM={...ey()};function tM(r){return"registry"in r&&"cache"in r}var To=class{get capability(){if(!this._capability)throw new Error("DID has no capability attached");return this._capability}get hasCapability(){return this._capability!=null}get parent(){if(!this._parentId)throw new Error("DID has no parent DID");return this._parentId}get hasParent(){return this._parentId!=null}get id(){if(this._id==null)throw new Error("DID is not authenticated");return this._id}get authenticated(){return this._id!=null}withCapability(e){return new To({provider:this._client?.connection,resolver:this._resolver,capability:e,parent:this._parentId})}setProvider(e){if(this._client==null)this._client=new tf(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,t){this._resolver=tM(e)?e:new Hc(e,t)}async authenticate({provider:e,paths:t=[],aud:n}={}){if(e!=null&&this.setProvider(e),this._client==null)throw new Error("No provider available");let i=ry(),o=await this._client.request("did_authenticate",{nonce:i,aud:n,paths:t}),{kid:s}=await this.verifyJWS(o),f=Eu(o.payload);if(!s.includes(f.did))throw new Error("Invalid authencation response, kid mismatch");if(f.nonce!==i)throw new Error("Invalid authencation response, wrong nonce");if(f.aud!==n)throw new Error("Invalid authencation response, wrong aud");if(f.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=f.did,this._id}async createJWS(e,t={}){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");if(this._capability){let i=this._capability.p.exp;if(i&&Date.parse(i)<Date.now())throw new Error("Capability is expired, cannot create a valid signature");let o=await wa.fromCacao(this._capability),s=Ae.asCID(o.cid);if(!s)throw new Error("Capability CID of the JWS cannot be set to the capability payload cid as they are incompatible");t.protected=t.protected||{},t.protected.cap=`ipfs://${s?.toString()}`}let{jws:n}=await this._client.request("did_createJWS",{did:this._id,...t,payload:e});return n}async createDagJWS(e,t={}){let{cid:n,linkedBlock:i}=await Kv(e),o=sy(n.bytes);Object.assign(t,{linkedBlock:oy(i)});let s=await this.createJWS(o,t),f=Ae.asCID(n);if(!f)throw new Error("CID of the JWS cannot be set to the encoded payload cid as they are incompatible");if(s.link=f,this._capability){let h=await wa.fromCacao(this._capability);return{jws:s,linkedBlock:i,cacaoBlock:h.bytes}}return{jws:s,linkedBlock:i}}async verifyJWS(e,t={}){t=Object.assign({verifiers:eM},t),typeof e!="string"&&(e=fy(e));let n=Eu(e.split(".")[0]).kid;if(!n)throw new Error('No "kid" found in jws');let i=await this.resolve(n);if(!t.disableTimecheck){let b=i.didDocumentMetadata?.nextUpdate;if(b){let w=t.revocationPhaseOutSecs?t.revocationPhaseOutSecs*1e3:0,T=new Date(b).valueOf()+w;if(!(t.atTime&&t.atTime.getTime()<T))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${n}`)}let g=i.didDocumentMetadata?.updated;if(g&&t.atTime&&t.atTime.getTime()<new Date(g).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${n}`)}let s=i.didDocument?.id;if(t.issuer&&t.issuer===t.capability?.p.iss&&s===t.capability.p.aud){if(!t.verifiers)throw new Error("Registered verifiers needed for CACAO");await xa.verify(t.capability,{disableExpirationCheck:t.disableTimecheck,atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}})}else if(t.issuer&&t.issuer!==s){let b=cy(t.issuer,t.atTime),w=(await this.resolve(b)).didDocument?.controller,T=uy(w);if(t.capability?.s&&t.capability.p.aud===s&&T.includes(t.capability.p.iss))await xa.verify(t.capability,{atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}});else if(!(s?T.includes(s):!1))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${n}`)}let f=i.didDocument?.verificationMethod||[];Uv(e,f);let h;try{h=Eu(e.split(".")[1])}catch{}return{kid:n,payload:h,didResolutionResult:i}}async createJWE(e,t,n={}){let i=await qv(t,this._resolver);return Fv(e,i,n.protectedHeader,n.aad)}async createDagJWE(e,t,n={}){let i=await jv(e);return this.createJWE(i,t,n)}async decryptJWE(e,t={}){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");let{cleartext:n}=await this._client.request("did_decryptJWE",{did:this._id,...t,jwe:e});return ay(n)}async decryptDagJWE(e){let t=await this.decryptJWE(e);return Gv(t)}async resolve(e){let t=await this._resolver.resolve(e);if(t.didResolutionMetadata.error){let{error:n,message:i}=t.didResolutionMetadata,o=i?`, ${i}`:"";throw new Error(`Failed to resolve ${e}: ${n}${o}`)}return t}constructor({provider:e,resolver:t={},resolverOptions:n,capability:i,parent:o}={}){if(e!=null&&(this._client=new tf(e)),i){if(this._capability=i,this._parentId=this._capability.p.iss,o&&this._parentId!==o)throw new Error("Capability issuer and parent not equal")}else o&&(this._parentId=o);this.setResolver(t,n)}};var _u=Ye(Oc(),1);var by=Ye(hy(),1);var rM="base64pad";function dy(r){return JSON.parse((0,by.default)(r))}function nM(r){let e=new Uint8Array(r.length+2);return e[0]=237,e[1]=1,e.set(r,2),`did:key:z${We(e,"base58btc")}`}function py(r){let[e,t,n]=r.split(".");return{payload:t,signatures:[{protected:e,signature:n}]}}var my=async(r,e,t,n={})=>{let i=`${e}#${e.split(":")[2]}`,o=Nv(t),s=dy(Object.assign(n,{kid:i,alg:"EdDSA"}));return Lv(typeof r=="string"?r:dy(r),o,s)},iM={did_authenticate:async({did:r,secretKey:e},t)=>{let n=await my({did:r,aud:t.aud,nonce:t.nonce,paths:t.paths,exp:Math.floor(Date.now()/1e3)+600},r,e);return py(n)},did_createJWS:async({did:r,secretKey:e},t)=>{if(t.did.split("#")[0]!==r)throw new dr(4100,`Unknown DID: ${r}`);let i=await my(t.payload,r,e,t.protected);return{jws:py(i)}},did_decryptJWE:async({secretKey:r},e)=>{let t=zv((0,_u.convertSecretKeyToX25519)(r));try{let n=await $v(e.jwe,t);return{cleartext:We(n,rM)}}catch(n){throw new dr(-32e3,n.message)}}},rf=class{constructor(e){let{secretKey:t,publicKey:n}=(0,_u.generateKeyPairFromSeed)(e),i=nM(n),o=Qv(iM);this._handle=async s=>await o({did:i,secretKey:t},s)}get isDidProvider(){return!0}async send(e){return await this._handle(e)}};var k0=Ye(Hs(),1);af();var g0={};Ve(g0,{keyToDidDoc:()=>oM});function oM(r,e){let t=`did:key:${e}`,n=`${t}#${e}`;return{id:t,verificationMethod:[{id:n,type:"Secp256k1VerificationKey2018",controller:t,publicKeyBase58:We(r,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}var v0={};Ve(v0,{keyToDidDoc:()=>aM});Bo();var gy=Ye(Oc(),1);function sM(r){let e=new Uint8Array(r.length+2);return e[0]=236,e[1]=1,e.set(r,2),`z${We(e,"base58btc")}`}function aM(r,e){let t=`did:key:${e}`,n=`${t}#${e}`,i=(0,gy.convertPublicKeyToX25519)(r),o=`${t}#${sM(i)}`;return{id:t,verificationMethod:[{id:n,type:"Ed25519VerificationKey2018",controller:t,publicKeyBase58:We(r,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n],keyAgreement:[{id:o,type:"X25519KeyAgreementKey2019",controller:t,publicKeyBase58:We(i,"base58btc")}]}}var S0={};Ve(S0,{keyToDidDoc:()=>OM,pubKeyBytesToXY:()=>Fy});var Au={};Ve(Au,{ECPointDecompress:()=>CM});var Ly=Ye(nf(),1);function _M(r){return r>=0?r:-r}function AM(r,e){if(typeof r=="number"&&(r=BigInt(r)),typeof e=="number"&&(e=BigInt(e)),r<=0n||e<=0n)throw new RangeError("a and b MUST be > 0");let t=0n,n=1n,i=1n,o=0n;for(;r!==0n;){let s=e/r,f=e%r,h=t-i*s,b=n-o*s;e=r,r=f,t=i,n=o,i=h,o=b}return{g:e,x:t,y:n}}function w0(r,e){if(typeof r=="number"&&(r=BigInt(r)),typeof e=="number"&&(e=BigInt(e)),e<=0n)throw new RangeError("n must be > 0");let t=r%e;return t<0n?t+e:t}function SM(r,e){let t=AM(w0(r,e),e);if(t.g!==1n)throw new RangeError(`${r.toString()} does not have inverse modulo ${e.toString()}`);return w0(t.x,e)}function ko(r,e,t){if(typeof r=="number"&&(r=BigInt(r)),typeof e=="number"&&(e=BigInt(e)),typeof t=="number"&&(t=BigInt(t)),t<=0n)throw new RangeError("n must be > 0");if(t===1n)return 0n;if(r=w0(r,t),e<0n)return SM(ko(r,_M(e),t),t);let n=1n;for(;e>0;)e%2n===1n&&(n=n*r%t),e=e/2n,r=r**2n%t;return n}var yt={};Ve(yt,{pubKeyBytesToHex:()=>MM,publicKeyHexToUint8ArrayPointPair:()=>Py,publicKeyIntToUint8ArrayPointPair:()=>By,publicKeyIntToXY:()=>kM,publicKeyToXY:()=>TM,testHexString:()=>_0,testUint8Array:()=>Ai});var Co=Ye(nf(),1);lf();function MM(r){if(!Ai(r))throw new TypeError("input must be a Uint8Array");return Co.toString(r,"base16")}function TM(r){if(!_0(r))throw new TypeError("input must be string with characters 0-9,A-F,a-f");let e=Py(r),t=Hi.encode(e.xOctet).slice(1),n=Hi.encode(e.yOctet).slice(1);return{xm:t,ym:n}}function Py(r){if(!_0(r))throw new TypeError("input must be string with characters 0-9,A-F,a-f");let e=r.slice(0,r.length/2),t=r.slice(r.length/2,r.length),n=Co.fromString(e,"base16"),i=Co.fromString(t,"base16");return{xOctet:n,yOctet:i}}function _0(r){let e=/^[A-Fa-f0-9]+$/i;return!!(e.exec(r)!==null&&e.test(r)&&typeof r=="string")}function Ai(r){return r==null?!1:r.constructor===Uint8Array}function kM(r){if(r==null)throw new TypeError("input cannot be null or undefined.");if(typeof r!="object")throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(r,"x")||!Object.prototype.hasOwnProperty.call(r,"y"))throw new Error("Input must have properties x and y");if(typeof r.x!="bigint"&&typeof r.y!="bigint")throw new Error("Input coordinates must be BigInt");let e=By(r),t=Hi.encode(e.xOctet).slice(1),n=Hi.encode(e.yOctet).slice(1);return{xm:t,ym:n}}function By(r){if(r==null)throw new TypeError("input cannot be null or undefined.");if(typeof r!="object")throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(r,"x")||!Object.prototype.hasOwnProperty.call(r,"y"))throw new Error("Input must have properties x and y");if(typeof r.x!="bigint"&&typeof r.y!="bigint")throw new Error("Input coordinates must be BigInt");let e=r.x.toString(),t=r.y.toString(),n=Co.fromString(e,"base10"),i=Co.fromString(t,"base10");return{xOctet:n,yOctet:i}}function CM(r){if(!Ai(r))throw new TypeError("input must be a Uint8Array");let e=BigInt(2),t=e**256n-e**224n+e**192n+e**96n-1n,n=41058363725152142129326129780047268409114441015993725554835256314039467401291n,i=(t+1n)/4n,o=BigInt(r[0]-2),s=r.subarray(1),f=BigInt(Ly.toString(s,"base10")),h=f**3n-f*3n+n,b=ko(h,i,t);return b%2n!==o&&(b=t-b),{x:f,y:b}}var Su={};Ve(Su,{ECPointDecompress:()=>DM});var Uy=Ye(nf(),1);function DM(r){if(!Ai(r))throw new TypeError("input must be a Uint8Array");let e=BigInt(2),t=e**384n-e**128n-e**96n+e**32n-1n,n=27580193559959705877849011840389048093056905856361568521428707301988689241309860865136260764883745107765439761230575n,i=(t+1n)/4n,o=BigInt(r[0]-2),s=r.subarray(1),f=BigInt(Uy.toString(s,"base10")),h=f**3n-f*3n+n,b=ko(h,i,t);return b%2n!==o&&(b=t-b),{x:f,y:b}}var Mu={};Ve(Mu,{ECPointDecompress:()=>IM});var $y=Ye(nf(),1);function IM(r){if(!Ai(r))throw new TypeError("input must be a Uint8Array");let t=BigInt(2)**521n-1n,n=1093849038073734274511112390766805569936207598951683748994586394495953116150735016013708737573759623248592132296706313309438452531591012912142327488478985984n,i=(t+1n)/4n,o=BigInt(r[0]-2),s=r.subarray(1),f=BigInt($y.toString(s,"base10")),h=f**3n-f*3n+n,b=ko(h,i,t);return b%2n!==o&&(b=t-b),{x:f,y:b}}function OM(r,e){let t=`did:key:${e}`,n=`${t}#${e}`,i=Fy(r);return{id:t,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:t,publicKeyJwk:{kty:"EC",crv:"P-256",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function Fy(r){if(!yt.testUint8Array(r))throw new TypeError("input must be a Uint8Array");let e=yt.pubKeyBytesToHex(r),t=e.length/2;if(t==64)return yt.publicKeyToXY(e);if(t==65&&e.slice(0,2)=="04"){let n=e.slice(2);return yt.publicKeyToXY(n)}if(t==33&&(e.slice(0,2)=="03"||e.slice(0,2)=="02")){let n=Je(e,"base16"),i=Au.ECPointDecompress(n);return yt.publicKeyIntToXY(i)}throw new Error("Unexpected pubKeyBytes")}var M0={};Ve(M0,{keyToDidDoc:()=>NM,pubKeyBytesToXY:()=>qy});function NM(r,e){let t=`did:key:${e}`,n=`${t}#${e}`,i=qy(r);return{id:t,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:t,publicKeyJwk:{kty:"EC",crv:"P-384",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function qy(r){if(!yt.testUint8Array(r))throw new TypeError("input must be a Uint8Array");let e=yt.pubKeyBytesToHex(r),t=e.length/2;if(t==96)return yt.publicKeyToXY(e);if(t==97&&e.slice(0,2)=="04"){let n=e.slice(2);return yt.publicKeyToXY(n)}if(t==49&&(e.slice(0,2)=="03"||e.slice(0,2)=="02")){let n=Je(e,"base16"),i=Su.ECPointDecompress(n);return yt.publicKeyIntToXY(i)}throw new Error("Unexpected pubKeyBytes")}var T0={};Ve(T0,{keyToDidDoc:()=>RM,pubKeyBytesToXY:()=>Hy});function RM(r,e){let t=`did:key:${e}`,n=`${t}#${e}`,i=Hy(r);return{id:t,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:t,publicKeyJwk:{kty:"EC",crv:"P-521",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function Hy(r){if(!yt.testUint8Array(r))throw new TypeError("input must be a Uint8Array");let e=yt.pubKeyBytesToHex(r);if(132<=e.length&&e.length<=134&&(e.slice(0,2)=="03"||e.slice(0,2)=="02")){let t=Je(e,"base16"),n=Mu.ECPointDecompress(t);return yt.publicKeyIntToXY(n)}throw new Error("Unexpected pubKeyBytes")}var PM="application/did+ld+json",zy="application/did+json",BM={231:g0,237:v0,4608:S0,4609:M0,4610:T0};function C0(){return{key:async(r,e,t,n)=>{let i=n.accept||zy,o={didResolutionMetadata:{contentType:i},didDocument:null,didDocumentMetadata:{}};try{let s=xr.decode(e.id),f=k0.default.decode(s),h=s.slice(k0.default.decode.bytes),b=await BM[f].keyToDidDoc(h,e.id);i===PM?(b["@context"]="https://w3id.org/did/v1",o.didDocument=b):i===zy?o.didDocument=b:(delete o.didResolutionMetadata.contentType,o.didResolutionMetadata.error="representationNotSupported")}catch(s){o.didResolutionMetadata.error="invalidDid",o.didResolutionMetadata.message=s.toString()}return o}}}var Mn=class extends ot{constructor(e,t,n){super(i=>{this.state$.observers.length===0&&(this.periodicSubscription=Zi(0,n).pipe(throttle(()=>this._syncState(this.id,{sync:lt.PREFER_CACHE}))).subscribe()),this.state$.subscribe(i).add(()=>{this.state$.observers.length===0&&this.periodicSubscription?.unsubscribe()})}),this.state$=new _s(e),this._apiUrl=new URL(t)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}async _syncState(e,t){let n=await Mn._load(e,this._apiUrl,t);this.state$.next(je.deserializeState(n))}get id(){return new StreamID(this.state$.value.type,this.state$.value.log[0].cid)}static async createFromGenesis(e,t,n,i,o){let s=new URL("./streams",e),{state:f}=await fetchJson(s,{method:"post",body:{type:t,genesis:je.serializeCommit(n),opts:i}});return new Mn(je.deserializeState(f),e,o)}static async applyCommit(e,t,n,i,o){let s=new URL("./commits",e),{state:f}=await fetchJson(s,{method:"post",body:{streamId:t.toString(),commit:je.serializeCommit(n),opts:i}});return new Mn(je.deserializeState(f),e,o)}static async _load(e,t,n){let i=serializeObjectToSearchParams(new URL(`./streams/${e}`,t),n),{state:o}=await fetchJson(i);return o}static async load(e,t,n,i){let o=await Mn._load(e,t,i);return new Mn(je.deserializeState(o),t,n)}static async loadStreamCommits(e,t){let n=new URL(`./commits/${e}`,t),{commits:i}=await fetchJson(n);return i.map(o=>({cid:o.cid,value:je.deserializeCommit(o.value)}))}complete(){this.state$.complete()}};var Ky=content,jy=new Uint8Array(seed),I0=host;console.log("INPUT_CONTENT => ",Ky);console.log("INPUT_SEED => ",jy);console.log("INPUT_HOST => ",I0);var LM="/api/v0/",D0=new Ba(I0);async function UM(r){let e=new rf(r),t=new To({provider:e,resolver:C0()});await t.authenticate(),D0.did=t,console.log("DID authenticated using seed phrase")}(async()=>{await UM(jy);let r=await wn.makeGenesis(D0,Ky),e=new URL("./streams",new URL(LM,I0)),t=await fetch(e,{method:"post",body:JSON.stringify({type:0,genesis:je.serializeCommit(r),opts:{anchor:!0,publish:!0,sync:0}}),headers:{"Content-Type":"application/json"}}),{state:n}=await t.json(),i=new Mn(je.deserializeState(n),e,5e3),o=await D0.buildStreamFromDocument(i);console.log("stream.id =>",o.id.toString())})();return Ls($M);})();
